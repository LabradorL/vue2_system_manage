!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.egisV2=e():t.egisV2=e()}(self,(function(){return(()=>{var __webpack_modules__={5913:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1208)),o=r(n(3737)),s=r(n(1013)),a=n(4102),u=n(611);e.default=function(t,e,n){void 0===n&&(n={});for(var r=u.getGeom(t).coordinates,l=0,c=0;c<r.length&&!(e>=l&&c===r.length-1);c++){if(l>=e){var h=e-l;if(h){var f=i.default(r[c],r[c-1])-180;return o.default(r[c],h,f,n)}return a.point(r[c])}l+=s.default(r[c],r[c+1],n)}return a.point(r[r.length-1])}},8517:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1208)),o=n(4102),s=r(n(2054));e.default=function(t,e,n,r){if(void 0===r&&(r={}),!o.isObject(r))throw new Error("options is invalid");if(!t)throw new Error("startPoint is required");if(!e)throw new Error("midPoint is required");if(!n)throw new Error("endPoint is required");var a=t,u=e,l=n,c=o.bearingToAzimuth(!0!==r.mercator?i.default(a,u):s.default(a,u)),h=o.bearingToAzimuth(!0!==r.mercator?i.default(l,u):s.default(l,u)),f=Math.abs(c-h);return!0===r.explementary?360-f:f}},1070:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1540),i=6378137;function o(t){var e=0;if(t&&t.length>0){e+=Math.abs(s(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(s(t[n]))}return e}function s(t){var e,n,r,o,s,u,l=0,c=t.length;if(c>2){for(u=0;u<c;u++)u===c-2?(r=c-2,o=c-1,s=0):u===c-1?(r=c-1,o=0,s=1):(r=u,o=u+1,s=u+2),e=t[r],n=t[o],l+=(a(t[s][0])-a(e[0]))*Math.sin(a(n[1]));l=l*i*i/2}return l}function a(t){return t*Math.PI/180}e.default=function(t){return r.geomReduce(t,(function(t,e){return t+function(t){var e,n=0;switch(t.type){case"Polygon":return o(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)n+=o(t.coordinates[e]);return n;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)}),0)}},173:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(611),o=n(1383);function s(t,e){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r],a=o.polygonclip(s,e);a.length>0&&(a[0][0]===a[a.length-1][0]&&a[0][1]===a[a.length-1][1]||a.push(a[0]),a.length>=4&&n.push(a))}return n}e.default=function(t,e){var n=i.getGeom(t),a=n.type,u="Feature"===t.type?t.properties:{},l=n.coordinates;switch(a){case"LineString":case"MultiLineString":var c=[];return"LineString"===a&&(l=[l]),l.forEach((function(t){o.lineclip(t,e,c)})),1===c.length?r.lineString(c[0],u):r.multiLineString(c,u);case"Polygon":return r.polygon(s(l,e),u);case"MultiPolygon":return r.multiPolygon(l.map((function(t){return s(t,e)})),u);default:throw new Error("geometry "+a+" not supported")}}},1383:(t,e)=>{"use strict";function n(t,e,n,r){return 8&n?[t[0]+(e[0]-t[0])*(r[3]-t[1])/(e[1]-t[1]),r[3]]:4&n?[t[0]+(e[0]-t[0])*(r[1]-t[1])/(e[1]-t[1]),r[1]]:2&n?[r[2],t[1]+(e[1]-t[1])*(r[2]-t[0])/(e[0]-t[0])]:1&n?[r[0],t[1]+(e[1]-t[1])*(r[0]-t[0])/(e[0]-t[0])]:null}function r(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}Object.defineProperty(e,"__esModule",{value:!0}),e.lineclip=function(t,e,i){var o,s,a,u,l,c=t.length,h=r(t[0],e),f=[];for(i||(i=[]),o=1;o<c;o++){for(u=t[o-1],s=a=r(l=t[o],e);;){if(!(h|s)){f.push(u),s!==a?(f.push(l),o<c-1&&(i.push(f),f=[])):o===c-1&&f.push(l);break}if(h&s)break;h?h=r(u=n(u,l,h,e),e):s=r(l=n(u,l,s,e),e)}h=a}return f.length&&i.push(f),i},e.polygonclip=function(t,e){var i,o,s,a,u,l,c;for(o=1;o<=8;o*=2){for(i=[],a=!(r(s=t[t.length-1],e)&o),u=0;u<t.length;u++)(c=!(r(l=t[u],e)&o))!==a&&i.push(n(s,l,o,e)),c&&i.push(l),s=l,a=c;if(!(t=i).length)break}return i}},3652:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102);e.default=function(t,e){void 0===e&&(e={});var n=Number(t[0]),i=Number(t[1]),o=Number(t[2]),s=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var a=[n,i],u=[n,s],l=[o,s],c=[o,i];return r.polygon([[a,c,l,u,a]],e.properties,{bbox:t,id:e.id})}},9705:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1540);function i(t){var e=[1/0,1/0,-1/0,-1/0];return r.coordEach(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}i.default=i,e.default=i},1208:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(611);function o(t,e,n){if(void 0===n&&(n={}),!0===n.final)return function(t,e){var n=o(e,t);return n=(n+180)%360}(t,e);var s=i.getCoord(t),a=i.getCoord(e),u=r.degreesToRadians(s[0]),l=r.degreesToRadians(a[0]),c=r.degreesToRadians(s[1]),h=r.degreesToRadians(a[1]),f=Math.sin(l-u)*Math.cos(h),p=Math.cos(c)*Math.sin(h)-Math.sin(c)*Math.cos(h)*Math.cos(l-u);return r.radiansToDegrees(Math.atan2(f,p))}e.default=o},7478:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4102),o=n(611),s=r(n(915));e.default=function(t,e){void 0===e&&(e={});for(var n=e.resolution||1e4,r=e.sharpness||.85,a=[],u=o.getGeom(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),l=new s.default({duration:n,points:u,sharpness:r}),c=function(t){var e=l.pos(t);Math.floor(t/100)%2==0&&a.push([e.x,e.y])},h=0;h<l.duration;h+=10)c(h);return c(l.duration),i.lineString(a,e.properties)}},915:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],r=this.points[e+1];this.centers.push({x:(n.x+r.x)/2,y:(n.y+r.y)/2,z:(n.z+r.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(e=0;e<this.centers.length-1;e++){var i=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+i),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return t.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var r=0;r<this.duration;r+=10){var i=this.pos(r);Math.sqrt((i.x-n.x)*(i.x-n.x)+(i.y-n.y)*(i.y-n.y)+(i.z-n.z)*(i.z-n.z))>t&&(e.push(r),n=i)}return e},t.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},t.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*n);return function(t,e,n,r,i){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:i.x*o[0]+r.x*o[1]+n.x*o[2]+e.x*o[3],y:i.y*o[0]+r.y*o[1]+n.y*o[2]+e.y*o[3],z:i.z*o[0]+r.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-r,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])},t}();e.default=n},3809:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(611);e.default=function(t){for(var e,n,i=r.getCoords(t),o=0,s=1;s<i.length;)e=n||i[0],o+=((n=i[s])[0]-e[0])*(n[1]+e[1]),s++;return o>0}},4766:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(9705)),o=r(n(8147)),s=r(n(2793)),a=n(611);function u(t,e){var n,r=!1;for(n=0;n<t.coordinates.length;n++)if(g(t.coordinates[n],e.coordinates)){r=!0;break}return r}function l(t,e){for(var n=0,r=e.coordinates;n<r.length;n++){for(var i=r[n],o=!1,s=0,a=t.coordinates;s<a.length;s++){if(g(i,a[s])){o=!0;break}}if(!o)return!1}return!0}function c(t,e){for(var n=!1,r=0,i=e.coordinates;r<i.length;r++){var o=i[r];if(s.default(o,t,{ignoreEndVertices:!0})&&(n=!0),!s.default(o,t))return!1}return!!n}function h(t,e){for(var n=0,r=e.coordinates;n<r.length;n++){var i=r[n];if(!o.default(i,t,{ignoreBoundary:!0}))return!1}return!0}function f(t,e){for(var n=!1,r=0,i=e.coordinates;r<i.length;r++){var o=i[r];if(s.default({type:"Point",coordinates:o},t,{ignoreEndVertices:!0})&&(n=!0),!s.default({type:"Point",coordinates:o},t,{ignoreEndVertices:!1}))return!1}return n}function p(t,e){var n=!1,r=0;if(!y(i.default(t),i.default(e)))return!1;for(;r<e.coordinates.length-1;r++){var s=m(e.coordinates[r],e.coordinates[r+1]);if(o.default({type:"Point",coordinates:s},t,{ignoreBoundary:!0})){n=!0;break}}return n}function d(t,e){if("Feature"===t.type&&null===t.geometry)return!1;if("Feature"===e.type&&null===e.geometry)return!1;if(!y(i.default(t),i.default(e)))return!1;for(var n=0,r=a.getGeom(e).coordinates;n<r.length;n++)for(var s=0,u=r[n];s<u.length;s++){var l=u[s];if(!o.default(l,t))return!1}return!0}function y(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function g(t,e){return t[0]===e[0]&&t[1]===e[1]}function m(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}e.default=function(t,e){var n=a.getGeom(t),r=a.getGeom(e),i=n.type,y=r.type,m=n.coordinates,v=r.coordinates;switch(i){case"Point":switch(y){case"Point":return g(m,v);default:throw new Error("feature2 "+y+" geometry not supported")}case"MultiPoint":switch(y){case"Point":return u(n,r);case"MultiPoint":return l(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}case"LineString":switch(y){case"Point":return s.default(r,n,{ignoreEndVertices:!0});case"LineString":return f(n,r);case"MultiPoint":return c(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}case"Polygon":switch(y){case"Point":return o.default(r,n,{ignoreBoundary:!0});case"LineString":return p(n,r);case"Polygon":return d(n,r);case"MultiPoint":return h(n,r);default:throw new Error("feature2 "+y+" geometry not supported")}default:throw new Error("feature1 "+i+" geometry not supported")}},e.isPointInMultiPoint=u,e.isMultiPointInMultiPoint=l,e.isMultiPointOnLine=c,e.isMultiPointInPoly=h,e.isLineOnLine=f,e.isLineInPoly=p,e.isPolyInPoly=d,e.doBBoxOverlap=y,e.compareCoords=g,e.getMidpoint=m},7656:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(3663)),o=n(7383),s=r(n(8147)),a=n(611),u=n(4102);function l(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&!n&&!r;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),f(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:r=!0}o++}return n&&r}function c(t,e){var n=o.polygonToLine(e);return i.default(t,n).features.length>0}function h(t,e){for(var n=!1,r=!1,i=t.coordinates.length,o=0;o<i&&(!n||!r);o++)s.default(u.point(t.coordinates[o]),e)?n=!0:r=!0;return r&&n}function f(t,e,n,r){var i=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==i*a-o*s&&(r?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}e.default=function(t,e){var n=a.getGeom(t),r=a.getGeom(e),o=n.type,s=r.type;switch(o){case"MultiPoint":switch(s){case"LineString":return l(n,r);case"Polygon":return h(n,r);default:throw new Error("feature2 "+s+" geometry not supported")}case"LineString":switch(s){case"MultiPoint":return l(r,n);case"LineString":return function(t,e){if(i.default(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var r=0;r<e.coordinates.length-1;r++){var o=!0;if(0!==r&&r!==e.coordinates.length-2||(o=!1),f(t.coordinates[n],t.coordinates[n+1],e.coordinates[r],o))return!0}return!1}(n,r);case"Polygon":return c(n,r);default:throw new Error("feature2 "+s+" geometry not supported")}case"Polygon":switch(s){case"MultiPoint":return h(r,n);case"LineString":return c(r,n);default:throw new Error("feature2 "+s+" geometry not supported")}default:throw new Error("feature1 "+o+" geometry not supported")}}},5883:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8147)),o=r(n(3663)),s=n(1540),a=r(n(7383));function u(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(c(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function l(t,e){for(var n=0,r=e.coordinates;n<r.length;n++){var s=r[n];if(i.default(s,t))return!0}return o.default(e,a.default(t)).features.length>0}function c(t,e,n){var r=n[0]-t[0],i=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return 0==r*s-i*o&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}e.default=function(t,e){var n=!0;return s.flattenEach(t,(function(t){s.flattenEach(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return n=t.coordinates,r=e.coordinates,!(n[0]===r[0]&&n[1]===r[1]);case"LineString":return!u(e,t);case"Polygon":return!i.default(t,e)}break;case"LineString":switch(e.type){case"Point":return!u(t,e);case"LineString":return!function(t,e){if(o.default(t,e).features.length>0)return!0;return!1}(t,e);case"Polygon":return!l(e,t)}break;case"Polygon":switch(e.type){case"Point":return!i.default(e,t);case"LineString":return!l(t,e);case"Polygon":return!function(t,e){for(var n=0,r=t.coordinates[0];n<r.length;n++){var s=r[n];if(i.default(s,e))return!0}for(var u=0,l=e.coordinates[0];u<l.length;u++){var c=l[u];if(i.default(c,t))return!0}if(o.default(a.default(t),a.default(e)).features.length>0)return!0;return!1}(e,t)}}var n,r;return!1}(t.geometry,e.geometry)}))})),n}},9482:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(9657)),o=r(n(1435)),s=n(611);e.default=function(t,e){return s.getGeom(t).type===s.getGeom(e).type&&new i.default({precision:6}).compare(o.default(t),o.default(e))}},5745:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(5883)),o=n(1540);e.default=function(t,e){var n=!1;return o.flattenEach(t,(function(t){o.flattenEach(e,(function(e){if(!0===n)return!0;n=!i.default(t.geometry,e.geometry)}))})),n}},7612:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1540),o=n(611),s=r(n(273)),a=r(n(3663)),u=r(n(9657));e.default=function(t,e){var n=o.getGeom(t),r=o.getGeom(e),l=n.type,c=r.type;if("MultiPoint"===l&&"MultiPoint"!==c||("LineString"===l||"MultiLineString"===l)&&"LineString"!==c&&"MultiLineString"!==c||("Polygon"===l||"MultiPolygon"===l)&&"Polygon"!==c&&"MultiPolygon"!==c)throw new Error("features must be of the same type");if("Point"===l)throw new Error("Point geometry not supported");if(new u.default({precision:6}).compare(t,e))return!1;var h=0;switch(l){case"MultiPoint":for(var f=0;f<n.coordinates.length;f++)for(var p=0;p<r.coordinates.length;p++){var d=n.coordinates[f],y=r.coordinates[p];if(d[0]===y[0]&&d[1]===y[1])return!0}return!1;case"LineString":case"MultiLineString":i.segmentEach(t,(function(t){i.segmentEach(e,(function(e){s.default(t,e).features.length&&h++}))}));break;case"Polygon":case"MultiPolygon":i.segmentEach(t,(function(t){i.segmentEach(e,(function(e){a.default(t,e).features.length&&h++}))}))}return h>0}},4840:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1435)),o=r(n(4590)),s=r(n(2054)),a=n(4102);function u(t,e){return a.bearingToAzimuth(s.default(t[0],t[1]))===a.bearingToAzimuth(s.default(e[0],e[1]))}function l(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}e.default=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==l(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==l(e,"line2"))throw new Error("line2 must be a LineString");for(var n=o.default(i.default(t)).features,r=o.default(i.default(e)).features,s=0;s<n.length;s++){var a=n[s].geometry.coordinates;if(!r[s])break;if(!u(a,r[s].geometry.coordinates))return!1}return!0}},8147:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(611);function i(t,e,n){var r=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var i=0,o=e.length-1;i<e.length;o=i++){var s=e[i][0],a=e[i][1],u=e[o][0],l=e[o][1];if(t[1]*(s-u)+a*(u-t[0])+l*(t[0]-s)==0&&(s-t[0])*(u-t[0])<=0&&(a-t[1])*(l-t[1])<=0)return!n;a>t[1]!=l>t[1]&&t[0]<(u-s)*(t[1]-a)/(l-a)+s&&(r=!r)}return r}e.default=function(t,e,n){if(void 0===n&&(n={}),!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var o=r.getCoord(t),s=r.getGeom(e),a=s.type,u=e.bbox,l=s.coordinates;if(u&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(o,u))return!1;"Polygon"===a&&(l=[l]);for(var c=!1,h=0;h<l.length&&!c;h++)if(i(o,l[h][0],n.ignoreBoundary)){for(var f=!1,p=1;p<l[h].length&&!f;)i(o,l[h][p],!n.ignoreBoundary)&&(f=!0),p++;f||(c=!0)}return c}},2793:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(611);function i(t,e,n,r,i){var o=n[0],s=n[1],a=t[0],u=t[1],l=e[0],c=e[1],h=l-a,f=c-u,p=(n[0]-a)*f-(n[1]-u)*h;if(null!==i){if(Math.abs(p)>i)return!1}else if(0!==p)return!1;return r?"start"===r?Math.abs(h)>=Math.abs(f)?h>0?a<o&&o<=l:l<=o&&o<a:f>0?u<s&&s<=c:c<=s&&s<u:"end"===r?Math.abs(h)>=Math.abs(f)?h>0?a<=o&&o<l:l<o&&o<=a:f>0?u<=s&&s<c:c<s&&s<=u:"both"===r&&(Math.abs(h)>=Math.abs(f)?h>0?a<o&&o<l:l<o&&o<a:f>0?u<s&&s<c:c<s&&s<u):Math.abs(h)>=Math.abs(f)?h>0?a<=o&&o<=l:l<=o&&o<=a:f>0?u<=s&&s<=c:c<=s&&s<=u}e.default=function(t,e,n){void 0===n&&(n={});for(var o=r.getCoord(t),s=r.getCoords(e),a=0;a<s.length-1;a++){var u=!1;if(n.ignoreEndVertices&&(0===a&&(u="start"),a===s.length-2&&(u="end"),0===a&&a+1===s.length-1&&(u="both")),i(s[a],s[a+1],o,u,void 0===n.epsilon?null:n.epsilon))return!0}return!1}},5184:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(9705)),o=r(n(2793)),s=r(n(8147)),a=n(611);function u(t,e){return!(t[0]>e[0])&&(!(t[2]<e[2])&&(!(t[1]>e[1])&&!(t[3]<e[3])))}function l(t,e){return t[0]===e[0]&&t[1]===e[1]}function c(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}e.default=function(t,e){var n=a.getGeom(t),r=a.getGeom(e),h=n.type,f=r.type;switch(h){case"Point":switch(f){case"MultiPoint":return function(t,e){var n,r=!1;for(n=0;n<e.coordinates.length;n++)if(l(e.coordinates[n],t.coordinates)){r=!0;break}return r}(n,r);case"LineString":return o.default(n,r,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return s.default(n,r,{ignoreBoundary:!0});default:throw new Error("feature2 "+f+" geometry not supported")}case"MultiPoint":switch(f){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var r=!1,i=0;i<e.coordinates.length;i++)l(t.coordinates[n],e.coordinates[i])&&(r=!0);if(!r)return!1}return!0}(n,r);case"LineString":return function(t,e){for(var n=!1,r=0;r<t.coordinates.length;r++){if(!o.default(t.coordinates[r],e))return!1;n||(n=o.default(t.coordinates[r],e,{ignoreEndVertices:!0}))}return n}(n,r);case"Polygon":case"MultiPolygon":return function(t,e){for(var n=!0,r=!1,i=!1,o=0;o<t.coordinates.length;o++){if(!(i=s.default(t.coordinates[1],e))){n=!1;break}r||(i=s.default(t.coordinates[1],e,{ignoreBoundary:!0}))}return n&&i}(n,r);default:throw new Error("feature2 "+f+" geometry not supported")}case"LineString":switch(f){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!o.default(t.coordinates[n],e))return!1;return!0}(n,r);case"Polygon":case"MultiPolygon":return function(t,e){var n=i.default(e),r=i.default(t);if(!u(n,r))return!1;for(var o=!1,a=0;a<t.coordinates.length-1;a++){if(!s.default(t.coordinates[a],e))return!1;if(o||(o=s.default(t.coordinates[a],e,{ignoreBoundary:!0})),!o){var l=c(t.coordinates[a],t.coordinates[a+1]);o=s.default(l,e,{ignoreBoundary:!0})}}return o}(n,r);default:throw new Error("feature2 "+f+" geometry not supported")}case"Polygon":switch(f){case"Polygon":case"MultiPolygon":return function(t,e){var n=i.default(t);if(!u(i.default(e),n))return!1;for(var r=0;r<t.coordinates[0].length;r++)if(!s.default(t.coordinates[0][r],e))return!1;return!0}(n,r);default:throw new Error("feature2 "+f+" geometry not supported")}default:throw new Error("feature1 "+h+" geometry not supported")}}},5950:(t,e,n)=>{"use strict";var r=n(8230),i=n(675),o=n(1540),s=n(1688),a=n(4102);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(r);function c(t,e,n){var r=(n=n||{}).units||"kilometers",i=n.steps||8;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(i<=0)throw new Error("steps must be greater than 0");var s=[];switch(t.type){case"GeometryCollection":return o.geomEach(t,(function(t){var n=h(t,e,r,i);n&&s.push(n)})),a.featureCollection(s);case"FeatureCollection":return o.featureEach(t,(function(t){var n=h(t,e,r,i);n&&o.featureEach(n,(function(t){t&&s.push(t)}))})),a.featureCollection(s)}return h(t,e,r,i)}function h(t,e,n,r){var u=t.properties||{},c="Feature"===t.type?t.geometry:t;if("GeometryCollection"===c.type){var y=[];return o.geomEach(t,(function(t){var i=h(t,e,n,r);i&&y.push(i)})),a.featureCollection(y)}var g=function(t){var e=l.default(t).geometry.coordinates,n=[-e[0],-e[1]];return s.geoAzimuthalEquidistant().rotate(n).scale(a.earthRadius)}(c),m={type:c.type,coordinates:p(c.coordinates,g)},v=(new i.GeoJSONReader).read(m),_=a.radiansToLength(a.lengthToRadians(e,n),"meters"),b=i.BufferOp.bufferOp(v,_,r);if(!f((b=(new i.GeoJSONWriter).write(b)).coordinates)){var x={type:b.type,coordinates:d(b.coordinates,g)};return a.feature(x,u)}}function f(t){return Array.isArray(t[0])?f(t[0]):isNaN(t[0])}function p(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return p(t,e)}))}function d(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return d(t,e)}))}t.exports=c,t.exports.default=c},6320:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1540),i=n(4102);e.default=function(t,e){void 0===e&&(e={});var n=0,o=0,s=0;return r.geomEach(t,(function(t,a,u){var l=e.weight?null==u?void 0:u[e.weight]:void 0;if(l=null==l?1:l,!i.isNumber(l))throw new Error("weight value must be a number for feature index "+a);(l=Number(l))>0&&r.coordEach(t,(function(t){n+=t[0]*l,o+=t[1]*l,s+=l}))})),i.point([n/s,o/s],e.properties,e)}},2935:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(6320)),o=r(n(1013)),s=r(n(6338)),a=n(4102),u=n(1540);function l(t,e,n,r,i){var s=r.tolerance||.001,c=0,h=0,f=0,p=0;if(u.featureEach(n,(function(e){var n,r=null===(n=e.properties)||void 0===n?void 0:n.weight,i=null==r?1:r;if(i=Number(i),!a.isNumber(i))throw new Error("weight value must be a number");if(i>0){p+=1;var s=i*o.default(e,t);0===s&&(s=1);var u=i/s;c+=e.geometry.coordinates[0]*u,h+=e.geometry.coordinates[1]*u,f+=u}})),p<1)throw new Error("no features to measure");var d=c/f,y=h/f;return 1===p||0===i||Math.abs(d-e[0])<s&&Math.abs(y-e[1])<s?a.point([d,y],{medianCandidates:r.medianCandidates}):(r.medianCandidates.push([d,y]),l([d,y],t,n,r,i-1))}e.default=function(t,e){if(void 0===e&&(e={}),e=e||{},!a.isObject(e))throw new Error("options is invalid");var n=e.counter||10;if(!a.isNumber(n))throw new Error("counter must be a number");var r=e.weight,o=i.default(t,{weight:e.weight}),c=a.featureCollection([]);u.featureEach(t,(function(t){var e;c.features.push(s.default(t,{properties:{weight:null===(e=t.properties)||void 0===e?void 0:e[r]}}))}));var h={tolerance:e.tolerance,medianCandidates:[]};return l(o.geometry.coordinates,[0,0],c,h,n)}},5084:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(7382)),o=r(n(6338)),s=n(4102),a=n(611),u=n(1540);e.default=function t(e,n){switch(void 0===n&&(n={}),a.getType(e)){case"Point":return s.point(a.getCoord(e),n.properties);case"Polygon":var r=[];u.coordEach(e,(function(t){r.push(t)}));var l,c,h,f,p,d,y,g,m=o.default(e,{properties:n.properties}),v=m.geometry.coordinates,_=0,b=0,x=0,w=r.map((function(t){return[t[0]-v[0],t[1]-v[1]]}));for(l=0;l<r.length-1;l++)f=(c=w[l])[0],d=c[1],p=(h=w[l+1])[0],x+=g=f*(y=h[1])-p*d,_+=(f+p)*g,b+=(d+y)*g;if(0===x)return m;var E=1/(6*(.5*x));return s.point([v[0]+E*_,v[1]+E*b],n.properties);default:var S=i.default(e);return S?t(S,{properties:n.properties}):o.default(e,{properties:n.properties})}}},8230:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(9705)),o=n(4102);e.default=function(t,e){void 0===e&&(e={});var n=i.default(t),r=(n[0]+n[2])/2,s=(n[1]+n[3])/2;return o.point([r,s],e.properties,e)}},6338:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1540),i=n(4102);e.default=function(t,e){void 0===e&&(e={});var n=0,o=0,s=0;return r.coordEach(t,(function(t){n+=t[0],o+=t[1],s++}),!0),i.point([n/s,o/s],e.properties)}},265:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(3737)),o=n(4102);e.default=function(t,e,n){void 0===n&&(n={});for(var r=n.steps||64,s=n.properties?n.properties:!Array.isArray(t)&&"Feature"===t.type&&t.properties?t.properties:{},a=[],u=0;u<r;u++)a.push(i.default(t,e,-360*u/r,n).geometry.coordinates);return a.push(a[0]),o.polygon([a],s)}},1435:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(611);function o(t){var e=i.getCoords(t);if(2===e.length&&!s(e[0],e[1]))return e;var n=[],r=e.length-1,o=n.length;n.push(e[0]);for(var u=1;u<r;u++){var l=n[n.length-1];e[u][0]===l[0]&&e[u][1]===l[1]||(n.push(e[u]),(o=n.length)>2&&a(n[o-3],n[o-1],n[o-2])&&n.splice(n.length-2,1))}if(n.push(e[e.length-1]),o=n.length,s(e[0],e[e.length-1])&&o<4)throw new Error("invalid polygon");return a(n[o-3],n[o-1],n[o-2])&&n.splice(n.length-2,1),n}function s(t,e){return t[0]===e[0]&&t[1]===e[1]}function a(t,e,n){var r=n[0],i=n[1],o=t[0],s=t[1],a=e[0],u=e[1],l=a-o,c=u-s;return 0===(r-o)*c-(i-s)*l&&(Math.abs(l)>=Math.abs(c)?l>0?o<=r&&r<=a:a<=r&&r<=o:c>0?s<=i&&i<=u:u<=i&&i<=s)}e.default=function(t,e){void 0===e&&(e={});var n="object"==typeof e?e.mutate:e;if(!t)throw new Error("geojson is required");var s=i.getType(t),a=[];switch(s){case"LineString":a=o(t);break;case"MultiLineString":case"Polygon":i.getCoords(t).forEach((function(t){a.push(o(t))}));break;case"MultiPolygon":i.getCoords(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(o(t))})),a.push(e)}));break;case"Point":return t;case"MultiPoint":var u={};i.getCoords(t).forEach((function(t){var e=t.join("-");Object.prototype.hasOwnProperty.call(u,e)||(a.push(t),u[e]=!0)}));break;default:throw new Error(s+" geometry not supported")}return t.coordinates?!0===n?(t.coordinates=a,t):{type:s,coordinates:a}:!0===n?(t.geometry.coordinates=a,t):r.feature({type:s,coordinates:a},t.properties,{bbox:t.bbox,id:t.id})}},6565:(t,e)=>{"use strict";function n(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=r(t.properties),e.geometry=i(t.geometry),e}function r(t){var e={};return t?(Object.keys(t).forEach((function(n){var i=t[n];"object"==typeof i?null===i?e[n]=null:Array.isArray(i)?e[n]=i.map((function(t){return t})):e[n]=r(i):e[n]=i})),e):e}function i(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return i(t)})),e):(e.coordinates=o(t.coordinates),e)}function o(t){var e=t;return"object"!=typeof e[0]?e.slice():e.map((function(t){return o(t)}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return n(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return n(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return i(t);default:throw new Error("unknown GeoJSON type")}}},1495:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(6565)),o=r(n(1013)),s=n(1540),a=n(4102),u=r(n(2606));e.default=function(t,e,n){void 0===n&&(n={}),!0!==n.mutate&&(t=i.default(t)),n.minPoints=n.minPoints||3;var r=new u.default.DBSCAN,l=r.run(s.coordAll(t),a.convertLength(e,n.units),n.minPoints,o.default),c=-1;return l.forEach((function(e){c++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=c,n.properties.dbscan="core"}))})),r.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),t}},6398:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(6565)),o=n(1540),s=r(n(1160));e.default=function(t,e){void 0===e&&(e={});var n=t.features.length;e.numberOfClusters=e.numberOfClusters||Math.round(Math.sqrt(n/2)),e.numberOfClusters>n&&(e.numberOfClusters=n),!0!==e.mutate&&(t=i.default(t));var r=o.coordAll(t),a=r.slice(0,e.numberOfClusters),u=s.default(r,e.numberOfClusters,a),l={};return u.centroids.forEach((function(t,e){l[e]=t})),o.featureEach(t,(function(t,e){var n=u.idxs[e];t.properties.cluster=n,t.properties.centroid=l[n]})),t}},3140:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1540),i=n(4102);function o(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var r=s(t,e),o=Object.keys(r),a=0;a<o.length;a++){for(var u=o[a],l=r[u],c=[],h=0;h<l.length;h++)c.push(t.features[l[h]]);n(i.featureCollection(c),u,a)}}function s(t,e){var n={};return r.featureEach(t,(function(t,r){var i=t.properties||{};if(Object.prototype.hasOwnProperty.call(i,String(e))){var o=i[e];Object.prototype.hasOwnProperty.call(n,o)?n[o].push(r):n[o]=[r]}})),n}function a(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return Object.prototype.hasOwnProperty.call(t,e);if(Array.isArray(e)){for(var r=0;r<e.length;r++)if(!a(t,e[r]))return!1;return!0}return u(t,e)}function u(t,e){for(var n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];if(t[i]!==e[i])return!1}return!0}e.getCluster=function(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return r.featureEach(t,(function(t){a(t.properties,e)&&n.push(t)})),i.featureCollection(n)},e.clusterEach=o,e.clusterReduce=function(t,e,n,r){var i=r;return o(t,e,(function(t,e,o){i=0===o&&void 0===r?t:n(i,t,e,o)})),i},e.createBins=s,e.applyFilter=a,e.propertiesContainsFilter=u,e.filterProperties=function(t,e){if(!e)return{};if(!e.length)return{};for(var n={},r=0;r<e.length;r++){var i=e[r];Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}},305:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(9705)),o=r(n(8147)),s=r(n(5510));e.default=function(t,e,n,r){var a=s.default(6),u=e.features.map((function(t){var e;return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:null===(e=t.properties)||void 0===e?void 0:e[n]}}));return a.load(u),t.features.forEach((function(t){t.properties||(t.properties={});var e=i.default(t),n=a.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}),s=[];n.forEach((function(e){o.default([e.minX,e.minY],t)&&s.push(e.property)})),t.properties[r]=s})),t}},8141:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(1540);e.default=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return i.featureEach(t,(function(t){var n,r,i,o;switch(null===(o=t.geometry)||void 0===o?void 0:o.type){case"Point":e.MultiPoint.coordinates.push(t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"MultiPoint":(n=e.MultiPoint.coordinates).push.apply(n,t.geometry.coordinates),e.MultiPoint.properties.push(t.properties);break;case"LineString":e.MultiLineString.coordinates.push(t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"MultiLineString":(r=e.MultiLineString.coordinates).push.apply(r,t.geometry.coordinates),e.MultiLineString.properties.push(t.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties);break;case"MultiPolygon":(i=e.MultiPolygon.coordinates).push.apply(i,t.geometry.coordinates),e.MultiPolygon.properties.push(t.properties)}})),r.featureCollection(Object.keys(e).filter((function(t){return e[t].coordinates.length})).sort().map((function(t){var n={type:t,coordinates:e[t].coordinates},i={collectedProperties:e[t].properties};return r.feature(n,i)})))}},8538:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1013)),o=n(4102),s=n(1540),a=r(n(8829)),u=r(n(5878));e.default=function(t,e){void 0===e&&(e={});var n=e.maxEdge||1/0,r=function(t){var e=[],n={};return s.featureEach(t,(function(t){if(t.geometry){var r=t.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(n,r)||(e.push(t),n[r]=!0)}})),o.featureCollection(e)}(t),l=a.default(r);if(l.features=l.features.filter((function(t){var r=t.geometry.coordinates[0][0],o=t.geometry.coordinates[0][1],s=t.geometry.coordinates[0][2],a=i.default(r,o,e),u=i.default(o,s,e),l=i.default(r,s,e);return a<=n&&u<=n&&l<=n})),l.features.length<1)return null;var c=u.default(l);return 1===c.coordinates.length&&(c.coordinates=c.coordinates[0],c.type="Polygon"),o.feature(c)}},5878:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(6565)),o=n(4102),s=n(611),a=n(1540),u=r(n(4692)),l=r(n(2387));e.default=function(t,e){if(void 0===e&&(e={}),e=e||{},!o.isObject(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==s.getType(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=i.default(t));var r=function(t){var e={};a.flattenEach(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);if(1===n.length)return n[0];return null}(t);if(!r)throw new Error("geojson must be homogenous");var c=t;switch(r){case"LineString":return u.default(c,e);case"Polygon":return l.default(c,e);default:throw new Error(r+" is not supported")}}},4692:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(6565)),o=n(4102),s=n(611),a=n(1540);function u(t){return t[0].toString()+","+t[1].toString()}e.default=function(t,e){if(void 0===e&&(e={}),e=e||{},!o.isObject(e))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==s.getType(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=i.default(t));var r=[],l=a.lineReduce(t,(function(t,e){var n=function(t,e){var n,r=t.geometry.coordinates,i=e.geometry.coordinates,s=u(r[0]),a=u(r[r.length-1]),l=u(i[0]),c=u(i[i.length-1]);if(s===c)n=i.concat(r.slice(1));else if(l===a)n=r.concat(i.slice(1));else if(s===l)n=r.slice(1).reverse().concat(i);else{if(a!==c)return null;n=r.concat(i.reverse().slice(1))}return o.lineString(n)}(t,e);return n||(r.push(t),e)}));return l&&r.push(l),r.length?1===r.length?r[0]:o.multiLineString(r.map((function(t){return t.coordinates}))):null}},2387:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(6565)),o=n(4102),s=n(611),a=n(1540),u=n(8146),l=n(4255);e.default=function(t,e){if(void 0===e&&(e={}),"FeatureCollection"!==s.getType(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==e.mutate&&void 0!==e.mutate||(t=i.default(t));var n=[];a.flattenEach(t,(function(t){n.push(t.geometry)}));var r=l.topology({geoms:o.geometryCollection(n).geometry});return u.merge(r,r.objects.geoms.geometries)}},7382:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4102),o=n(1540),s=r(n(2273));e.default=function(t,e){void 0===e&&(e={}),e.concavity=e.concavity||1/0;var n=[];if(o.coordEach(t,(function(t){n.push([t[0],t[1]])})),!n.length)return null;var r=s.default(n,e.concavity);return r.length>3?i.polygon([r]):null}},3737:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(611);e.default=function(t,e,n,o){void 0===o&&(o={});var s=i.getCoord(t),a=r.degreesToRadians(s[0]),u=r.degreesToRadians(s[1]),l=r.degreesToRadians(n),c=r.lengthToRadians(e,o.units),h=Math.asin(Math.sin(u)*Math.cos(c)+Math.cos(u)*Math.sin(c)*Math.cos(l)),f=a+Math.atan2(Math.sin(l)*Math.sin(c)*Math.cos(u),Math.cos(c)-Math.sin(u)*Math.sin(h)),p=r.radiansToDegrees(f),d=r.radiansToDegrees(h);return r.point([p,d],o.properties)}},8727:(t,e,n)=>{"use strict";var r=n(2676),i=n(4102),o=n(611);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=s(r);function u(t,e){var n=o.getGeom(t),r=o.getGeom(e),s=t.properties||{},u=a.default.difference(n.coordinates,r.coordinates);return 0===u.length?null:1===u.length?i.polygon(u[0],s):i.multiPolygon(u,s)}t.exports=u,t.exports.default=u},2407:(t,e,n)=>{"use strict";var r=n(4102),i=n(611),o=n(1540),s=n(4288),a=n(2676);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(s),c=u(a);function h(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n=e.propertyName;i.collectionOf(t,"Polygon","dissolve");var s=[];if(!e.propertyName)return l.default(r.multiPolygon(c.default.union.apply(null,t.features.map((function(t){return t.geometry.coordinates})))));var a={};o.featureEach(t,(function(t){Object.prototype.hasOwnProperty.call(a,t.properties[n])||(a[t.properties[n]]=[]),a[t.properties[n]].push(t)}));for(var u=Object.keys(a),h=0;h<u.length;h++){var f=r.multiPolygon(c.default.union.apply(null,a[u[h]].map((function(t){return t.geometry.coordinates}))));f.properties[n]=u[h],s.push(f)}return l.default(r.featureCollection(s))}t.exports=h,t.exports.default=h},5366:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(6338)),o=n(611),s=n(1540);function a(t,e,n){void 0===n&&(n=2);var r=o.getCoord(t),i=o.getCoord(e),s=r[0]-i[0],a=r[1]-i[1];return 1===n?Math.abs(s)+Math.abs(a):Math.pow(Math.pow(s,n)+Math.pow(a,n),1/n)}e.pNormDistance=a,e.default=function(t,e){var n=(e=e||{}).threshold||1e4,r=e.p||2,o=e.binary||!1,u=e.alpha||-1,l=e.standardization||!1,c=[];s.featureEach(t,(function(t){c.push(i.default(t))}));for(var h=[],f=0;f<c.length;f++)h[f]=[];for(f=0;f<c.length;f++)for(var p=f;p<c.length;p++){f===p&&(h[f][p]=0);var d=a(c[f],c[p],r);h[f][p]=d,h[p][f]=d}for(f=0;f<c.length;f++)for(p=0;p<c.length;p++){0!==(d=h[f][p])&&(h[f][p]=o?d<=n?1:0:d<=n?Math.pow(d,u):0)}if(l)for(f=0;f<c.length;f++){var y=h[f].reduce((function(t,e){return t+e}),0);for(p=0;p<c.length;p++)h[f][p]=h[f][p]/y}return h}},1013:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(611),i=n(4102);e.default=function(t,e,n){void 0===n&&(n={});var o=r.getCoord(t),s=r.getCoord(e),a=i.degreesToRadians(s[1]-o[1]),u=i.degreesToRadians(s[0]-o[0]),l=i.degreesToRadians(o[1]),c=i.degreesToRadians(s[1]),h=Math.pow(Math.sin(a/2),2)+Math.pow(Math.sin(u/2),2)*Math.cos(l)*Math.cos(c);return i.radiansToLength(2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),n.units)}},1211:(t,e,n)=>{"use strict";var r=n(4102),i=n(6082),o=n(67),s=n(611);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(i),l=a(o);function c(t,e,n,i){var o=(i=i||{}).steps||64,a=i.units||"kilometers",c=i.angle||0,f=i.pivot||t,p=i.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!r.isObject(i))throw new Error("options must be an object");if(!r.isNumber(o))throw new Error("steps must be a number");if(!r.isNumber(c))throw new Error("angle must be a number");var d=s.getCoord(t);if("degrees"===a)var y=r.degreesToRadians(c);else e=u.default(t,e,90,{units:a}),n=u.default(t,n,0,{units:a}),e=s.getCoord(e)[0]-d[0],n=s.getCoord(n)[1]-d[1];for(var g=[],m=0;m<o;m+=1){var v=-360*m/o,_=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(h(v),2)),b=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(h(v),2));if(v<-90&&v>=-270&&(_=-_),v<-180&&v>=-360&&(b=-b),"degrees"===a){var x=_*Math.cos(y)+b*Math.sin(y),w=b*Math.cos(y)-_*Math.sin(y);_=x,b=w}g.push([_+d[0],b+d[1]])}return g.push(g[0]),"degrees"===a?r.polygon([g],p):l.default(r.polygon([g],p),c,{pivot:f})}function h(t){var e=t*Math.PI/180;return Math.tan(e)}t.exports=c,t.exports.default=c},9062:(t,e,n)=>{"use strict";var r=n(9705),i=n(3652);function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=o(r),a=o(i);function u(t){return a.default(s.default(t))}t.exports=u,t.exports.default=u},3922:(t,e,n)=>{"use strict";var r=n(1540),i=n(4102);function o(t){var e=[];return"FeatureCollection"===t.type?r.featureEach(t,(function(t){r.coordEach(t,(function(n){e.push(i.point(n,t.properties))}))})):r.coordEach(t,(function(n){e.push(i.point(n,t.properties))})),i.featureCollection(e)}t.exports=o,t.exports.default=o},4288:(t,e,n)=>{"use strict";var r=n(1540),i=n(4102);function o(t){if(!t)throw new Error("geojson is required");var e=[];return r.flattenEach(t,(function(t){e.push(t)})),i.featureCollection(e)}t.exports=o,t.exports.default=o},7970:(t,e,n)=>{"use strict";var r=n(1540),i=n(4102);function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=o(n(6565));function a(t,e){if(e=e||{},!i.isObject(e))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=s.default(t)),r.coordEach(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t}t.exports=a,t.exports.default=a},5422:(t,e,n)=>{"use strict";var r=n(611),i=Math.PI/180,o=180/Math.PI,s=function(t,e){this.lon=t,this.lat=e,this.x=i*t,this.y=i*e};s.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},s.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new s(e,t)};var a=function(){this.coords=[],this.length=0};a.prototype.move_to=function(t){this.length++,this.coords.push(t)};var u=function(t){this.properties=t||{},this.geometries=[]};u.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},u.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},r=0;r<this.geometries.length;r++){if(0===this.geometries[r].coords.length)return"LINESTRING(empty)";this.geometries[r].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var l=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new s(t.x,t.y),this.end=new s(e.x,e.y),this.properties=n||{};var r=this.start.x-this.end.x,i=this.start.y-this.end.y,o=Math.pow(Math.sin(i/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(r/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};function c(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.properties,o=n.npoints,s=n.offset;return t=r.getCoord(t),e=r.getCoord(e),i=i||{},o=o||100,s=s||10,new l({x:t[0],y:t[1]},{x:e[0],y:e[1]},i).Arc(o,{offset:s}).json()}l.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),r=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),i=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),s=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),a=o*Math.atan2(s,Math.sqrt(Math.pow(r,2)+Math.pow(i,2)));return[o*Math.atan2(i,r),a]},l.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var r=1/(t-1),i=0;i<t;++i){var o=r*i,s=this.interpolate(o);n.push(s)}for(var l=!1,c=0,h=e&&e.offset?e.offset:10,f=180-h,p=-180+h,d=360-h,y=1;y<n.length;++y){var g=n[y-1][0],m=n[y][0],v=Math.abs(m-g);v>d&&(m>f&&g<p||g>f&&m<p)?l=!0:v>c&&(c=v)}var _=[];if(l&&c<h){var b=[];_.push(b);for(var x=0;x<n.length;++x){var w=parseFloat(n[x][0]);if(x>0&&Math.abs(w-n[x-1][0])>d){var E=parseFloat(n[x-1][0]),S=parseFloat(n[x-1][1]),P=parseFloat(n[x][0]),C=parseFloat(n[x][1]);if(E>-180&&E<p&&180===P&&x+1<n.length&&n[x-1][0]>-180&&n[x-1][0]<p){b.push([-180,n[x][1]]),x++,b.push([n[x][0],n[x][1]]);continue}if(E>f&&E<180&&-180===P&&x+1<n.length&&n[x-1][0]>f&&n[x-1][0]<180){b.push([180,n[x][1]]),x++,b.push([n[x][0],n[x][1]]);continue}if(E<p&&P>f){var I=E;E=P,P=I;var M=S;S=C,C=M}if(E>f&&P<p&&(P+=360),E<=180&&P>=180&&E<P){var O=(180-E)/(P-E),T=O*C+(1-O)*S;b.push([n[x-1][0]>f?180:-180,T]),(b=[]).push([n[x-1][0]>f?-180:180,T]),_.push(b)}else b=[],_.push(b);b.push([w,n[x][1]])}else b.push([n[x][0],n[x][1]])}}else{var L=[];_.push(L);for(var N=0;N<n.length;++N)L.push([n[N][0],n[N][1]])}for(var A=new u(this.properties),R=0;R<_.length;++R){var D=new a;A.geometries.push(D);for(var k=_[R],F=0;F<k.length;++F)D.move_to(k[F])}return A},t.exports=c,t.exports.default=c},4102:(t,e)=>{"use strict";function n(t,e,n){void 0===n&&(n={});var r={type:"Feature"};return(0===n.id||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=e||{},r.geometry=t,r}function r(t,e,r){if(void 0===r&&(r={}),!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!p(t[0])||!p(t[1]))throw new Error("coordinates must contain numbers");return n({type:"Point",coordinates:t},e,r)}function i(t,e,r){void 0===r&&(r={});for(var i=0,o=t;i<o.length;i++){var s=o[i];if(s.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var a=0;a<s[s.length-1].length;a++)if(s[s.length-1][a]!==s[0][a])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:t},e,r)}function o(t,e,r){if(void 0===r&&(r={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:t},e,r)}function s(t,e){void 0===e&&(e={});var n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function a(t,e,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:t},e,r)}function u(t,e,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:t},e,r)}function l(t,e,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:t},e,r)}function c(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t*r}function h(t,n){void 0===n&&(n="kilometers");var r=e.factors[n];if(!r)throw new Error(n+" units is invalid");return t/r}function f(t){return 180*(t%(2*Math.PI))/Math.PI}function p(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:1.0936*e.earthRadius},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1.0936133},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=n,e.geometry=function(t,e,n){switch(void 0===n&&(n={}),t){case"Point":return r(e).geometry;case"LineString":return o(e).geometry;case"Polygon":return i(e).geometry;case"MultiPoint":return u(e).geometry;case"MultiLineString":return a(e).geometry;case"MultiPolygon":return l(e).geometry;default:throw new Error(t+" is invalid")}},e.point=r,e.points=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return r(t,e)})),n)},e.polygon=i,e.polygons=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return i(t,e)})),n)},e.lineString=o,e.lineStrings=function(t,e,n){return void 0===n&&(n={}),s(t.map((function(t){return o(t,e)})),n)},e.featureCollection=s,e.multiLineString=a,e.multiPoint=u,e.multiPolygon=l,e.geometryCollection=function(t,e,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:t},e,r)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n},e.radiansToLength=c,e.lengthToRadians=h,e.lengthToDegrees=function(t,e){return f(h(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,n){if(void 0===e&&(e="kilometers"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("length must be a positive number");return c(h(t,e),n)},e.convertArea=function(t,n,r){if(void 0===n&&(n="meters"),void 0===r&&(r="kilometers"),!(t>=0))throw new Error("area must be a positive number");var i=e.areaFactors[n];if(!i)throw new Error("invalid original units");var o=e.areaFactors[r];if(!o)throw new Error("invalid final units");return t/i*o},e.isNumber=p,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!p(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}},5621:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1013)),o=r(n(4170)),s=n(4102);function a(t,e,n,r,i,o){for(var a=[],u=0;u<6;u++){var l=t[0]+e*i[u],c=t[1]+n*o[u];a.push([l,c])}return a.push(a[0].slice()),s.polygon([a],r)}function u(t,e,n,r,i,o){for(var a=[],u=0;u<6;u++){var l=[];l.push(t),l.push([t[0]+e*i[u],t[1]+n*o[u]]),l.push([t[0]+e*i[(u+1)%6],t[1]+n*o[(u+1)%6]]),l.push(t),a.push(s.polygon([l],r))}return a}e.default=function(t,e,n){void 0===n&&(n={});var r=JSON.stringify(n.properties||{}),l=t[0],c=t[1],h=t[2],f=t[3],p=(c+f)/2,d=(l+h)/2,y=2*e/i.default([l,p],[h,p],n)*(h-l),g=2*e/i.default([d,c],[d,f],n)*(f-c),m=y/2,v=2*m,_=Math.sqrt(3)/2*g,b=h-l,x=f-c,w=3/4*v,E=_,S=(b-v)/(v-m/2),P=Math.floor(S),C=(P*w-m/2-b)/2-m/2+w/2,I=Math.floor((x-_)/_),M=(x-I*_)/2,O=I*_-x>_/2;O&&(M-=_/4);for(var T=[],L=[],N=0;N<6;N++){var A=2*Math.PI/6*N;T.push(Math.cos(A)),L.push(Math.sin(A))}for(var R=[],D=0;D<=P;D++)for(var k=0;k<=I;k++){var F=D%2==1;if((0!==k||!F)&&(0!==k||!O)){var B=D*w+l-C,j=k*E+c+M;if(F&&(j-=_/2),!0===n.triangles)u([B,j],y/2,g/2,JSON.parse(r),T,L).forEach((function(t){n.mask?o.default(n.mask,t)&&R.push(t):R.push(t)}));else{var z=a([B,j],y/2,g/2,JSON.parse(r),T,L);n.mask?o.default(n.mask,z)&&R.push(z):R.push(z)}}}return s.featureCollection(R)}},5566:(t,e,n)=>{"use strict";var r=n(9705),i=n(5621),o=n(6813),s=n(1013),a=n(6338),u=n(5434),l=n(4686),c=n(6565),h=n(4102),f=n(1540),p=n(611);function d(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var y=d(r),g=d(i),m=d(o),v=d(s),_=d(a),b=d(u),x=d(l),w=d(c);function E(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var r=n.gridType,i=n.property,o=n.weight;if(!t)throw new Error("points is required");if(p.collectionOf(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");i=i||"elevation",r=r||"square",o=o||1;var s,a=y.default(t);switch(r){case"point":case"points":s=m.default(a,e,n);break;case"square":case"squares":s=b.default(a,e,n);break;case"hex":case"hexes":s=g.default(a,e,n);break;case"triangle":case"triangles":s=x.default(a,e,n);break;default:throw new Error("invalid gridType")}var u=[];return f.featureEach(s,(function(e){var s=0,a=0;f.featureEach(t,(function(t){var u,l="point"===r?e:_.default(e),c=v.default(l,t,n);if(void 0!==i&&(u=t.properties[i]),void 0===u&&(u=t.geometry.coordinates[2]),void 0===u)throw new Error("zValue is missing");0===c&&(s=u);var h=1/Math.pow(c,o);a+=h,s+=h*u}));var l=w.default(e);l.properties[i]=s/a,u.push(l)})),h.featureCollection(u)}t.exports=E,t.exports.default=E},4170:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4102),o=n(611),s=r(n(2676));e.default=function(t,e,n){void 0===n&&(n={});var r=o.getGeom(t),a=o.getGeom(e),u=s.default.intersection(r.coordinates,a.coordinates);return 0===u.length?null:1===u.length?i.polygon(u[0],n.properties):i.multiPolygon(u,n.properties)}},611:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102);e.getCoord=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")},e.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},e.containsNumber=function t(e){if(e.length>1&&r.isNumber(e[0])&&r.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")},e.geojsonType=function(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)},e.featureOf=function(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)},e.collectionOf=function(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var r=0,i=t.features;r<i.length;r++){var o=i[r];if(!o||"Feature"!==o.type||!o.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!o.geometry||o.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+o.geometry.type)}},e.getGeom=function(t){return"Feature"===t.type?t.geometry:t},e.getType=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}},7406:(t,e,n)=>{"use strict";var r=n(9705),i=n(1070),o=n(8147),s=n(3922),a=n(611),u=n(4102),l=n(7418),c=n(1540);function h(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var f=h(r),p=h(i),d=h(o),y=h(s),g=h(l);function m(t,e){if(e=e||{},!u.isObject(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,i=e.flags;a.collectionOf(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return c.featureEach(t,(function(t){var e=a.getCoords(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return a.getCoords(t)[0]-a.getCoords(e)[0]}))})).sort((function(t,n){return e?a.getCoords(t[0])[1]-a.getCoords(n[0])[1]:a.getCoords(n[0])[1]-a.getCoords(t[0])[1]}))}
/*!
 * @license GNU Affero General Public License.
 * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
 * v. 1.2.0
 * https://github.com/RaumZeit/MarchingSquares.js
 *
 * MarchingSquaresJS is free software: you can redistribute it and/or modify
 * it under the terms of the GNU Affero General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * MarchingSquaresJS is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU Affero General Public License for more details.
 *
 * As additional permission under GNU Affero General Public License version 3
 * section 7, third-party projects (personal or commercial) may distribute,
 * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
 * requirement that said third-party project for that reason alone becomes
 * subject to any requirement of the GNU Affero General Public License version 3.
 * Any modifications to MarchingSquaresJS, however, must be shared with the public
 * and made available.
 *
 * In summary this:
 * - allows you to use MarchingSquaresJS at no cost
 * - allows you to use MarchingSquaresJS for both personal and commercial purposes
 * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
 *   license as long as this license notice is included
 * - enables you to keep the source code of your program that uses MarchingSquaresJS
 *   undisclosed
 * - forces you to share any modifications you have made to MarchingSquaresJS,
 *   e.g. bug-fixes
 *
 * You should have received a copy of the GNU Affero General Public License
 * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
 */(t,r),s=[],l=0;l<o.length;l++){for(var h=o[l],f=[],p=0;p<h.length;p++){var d=h[p];d.properties[n]?f.push(d.properties[n]):f.push(0),!0===i&&(d.properties.matrixPosition=[l,p])}s.push(f)}return s}var v={successCallback:null,verbose:!1,polygons:!1},_={};function b(t,e,n,r){r=r||{};for(var i=Object.keys(v),o=0;o<i.length;o++){var s=i[o],a=r[s];a=null!=a?a:v[s],_[s]=a}_.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var u,l=function(t,e,n){for(var r=t.length-1,i=t[0].length-1,o={rows:r,cols:i,cells:[]},s=e+Math.abs(n),a=0;a<r;++a){o.cells[a]=[];for(var u=0;u<i;++u){var l=0,c=t[a+1][u],h=t[a+1][u+1],f=t[a][u+1],p=t[a][u];if(!(isNaN(c)||isNaN(h)||isNaN(f)||isNaN(p))){l|=c<e?0:c>s?128:64,l|=h<e?0:h>s?32:16,l|=f<e?0:f>s?8:4;var d=+(l|=p<e?0:p>s?2:1),y=0;if(17===l||18===l||33===l||34===l||38===l||68===l||72===l||98===l||102===l||132===l||136===l||137===l||152===l||153===l){var g=(c+h+f+p)/4;y=g>s?2:g<e?0:1,34===l?1===y?l=35:0===y&&(l=136):136===l?1===y?(l=35,y=4):0===y&&(l=34):17===l?1===y?(l=155,y=4):0===y&&(l=153):68===l?1===y?(l=103,y=4):0===y&&(l=102):153===l?1===y&&(l=155):102===l?1===y&&(l=103):152===l?y<2&&(l=156,y=1):137===l?y<2&&(l=139,y=1):98===l?y<2&&(l=99,y=1):38===l?y<2&&(l=39,y=1):18===l?y>0?(l=156,y=4):l=152:33===l?y>0?(l=139,y=4):l=137:72===l?y>0?(l=99,y=4):l=98:132===l&&(y>0?(l=39,y=4):l=38)}if(0!=l&&170!=l){var m,v,_,b,x,w,E,S;m=v=_=b=x=w=E=S=.5;var P=[];1===l?(_=1-ct(e,f,p),S=1-ct(e,c,p),P.push(it[l])):169===l?(_=ct(s,p,f),S=ct(s,p,c),P.push(it[l])):4===l?(w=1-ct(e,h,f),b=ct(e,p,f),P.push(nt[l])):166===l?(w=ct(s,f,h),b=1-ct(s,f,p),P.push(nt[l])):16===l?(x=ct(e,f,h),v=ct(e,c,h),P.push(et[l])):154===l?(x=1-ct(s,h,f),v=1-ct(s,h,c),P.push(et[l])):64===l?(E=ct(e,p,c),m=1-ct(e,h,c),P.push(st[l])):106===l?(E=1-ct(s,c,p),m=ct(s,c,h),P.push(st[l])):168===l?(b=ct(s,p,f),_=ct(e,p,f),S=ct(e,p,c),E=ct(s,p,c),P.push(rt[l]),P.push(it[l])):2===l?(b=1-ct(e,f,p),_=1-ct(s,f,p),S=1-ct(s,c,p),E=1-ct(e,c,p),P.push(rt[l]),P.push(it[l])):162===l?(x=ct(s,f,h),w=ct(e,f,h),b=1-ct(e,f,p),_=1-ct(s,f,p),P.push(rt[l]),P.push(it[l])):8===l?(x=1-ct(e,h,f),w=1-ct(s,h,f),b=ct(s,p,f),_=ct(e,p,f),P.push(et[l]),P.push(nt[l])):138===l?(x=1-ct(e,h,f),w=1-ct(s,h,f),m=1-ct(s,h,c),v=1-ct(e,h,c),P.push(et[l]),P.push(nt[l])):32===l?(x=ct(s,f,h),w=ct(e,f,h),m=ct(e,c,h),v=ct(s,c,h),P.push(et[l]),P.push(nt[l])):42===l?(S=1-ct(s,c,p),E=1-ct(e,c,p),m=ct(e,c,h),v=ct(s,c,h),P.push(ot[l]),P.push(st[l])):128===l&&(S=ct(e,p,c),E=ct(s,p,c),m=1-ct(s,h,c),v=1-ct(e,h,c),P.push(ot[l]),P.push(st[l])),5===l?(w=1-ct(e,h,f),S=1-ct(e,c,p),P.push(nt[l])):165===l?(w=ct(s,f,h),S=ct(s,p,c),P.push(nt[l])):20===l?(b=ct(e,p,f),v=ct(e,c,h),P.push(rt[l])):150===l?(b=1-ct(s,f,p),v=1-ct(s,h,c),P.push(rt[l])):80===l?(x=ct(e,f,h),E=ct(e,p,c),P.push(et[l])):90===l?(x=1-ct(s,h,f),E=1-ct(s,c,p),P.push(et[l])):65===l?(_=1-ct(e,f,p),m=1-ct(e,h,c),P.push(it[l])):105===l?(_=ct(s,p,f),m=ct(s,c,h),P.push(it[l])):160===l?(x=ct(s,f,h),w=ct(e,f,h),S=ct(e,p,c),E=ct(s,p,c),P.push(et[l]),P.push(nt[l])):10===l?(x=1-ct(e,h,f),w=1-ct(s,h,f),S=1-ct(s,c,p),E=1-ct(e,c,p),P.push(et[l]),P.push(nt[l])):130===l?(b=1-ct(e,f,p),_=1-ct(s,f,p),m=1-ct(s,h,c),v=1-ct(e,h,c),P.push(rt[l]),P.push(it[l])):40===l?(b=ct(s,p,f),_=ct(e,p,f),m=ct(e,c,h),v=ct(s,c,h),P.push(rt[l]),P.push(it[l])):101===l?(w=ct(s,f,h),m=ct(s,c,h),P.push(nt[l])):69===l?(w=1-ct(e,h,f),m=1-ct(e,h,c),P.push(nt[l])):149===l?(S=ct(s,p,c),v=1-ct(s,h,c),P.push(ot[l])):21===l?(S=1-ct(e,c,p),v=ct(e,c,h),P.push(ot[l])):86===l?(b=1-ct(s,f,p),E=1-ct(s,c,p),P.push(rt[l])):84===l?(b=ct(e,p,f),E=ct(e,p,c),P.push(rt[l])):89===l?(x=1-ct(s,h,f),_=ct(s,p,f),P.push(it[l])):81===l?(x=ct(e,f,h),_=1-ct(e,f,p),P.push(it[l])):96===l?(x=ct(s,f,h),w=ct(e,f,h),E=ct(e,p,c),m=ct(s,c,h),P.push(et[l]),P.push(nt[l])):74===l?(x=1-ct(e,h,f),w=1-ct(s,h,f),E=1-ct(s,c,p),m=1-ct(e,h,c),P.push(et[l]),P.push(nt[l])):24===l?(x=1-ct(s,h,f),b=ct(s,p,f),_=ct(e,p,f),v=ct(e,c,h),P.push(et[l]),P.push(it[l])):146===l?(x=ct(e,f,h),b=1-ct(e,f,p),_=1-ct(s,f,p),v=1-ct(s,h,c),P.push(et[l]),P.push(it[l])):6===l?(w=1-ct(e,h,f),b=1-ct(s,f,p),S=1-ct(s,c,p),E=1-ct(e,c,p),P.push(nt[l]),P.push(rt[l])):164===l?(w=ct(s,f,h),b=ct(e,p,f),S=ct(e,p,c),E=ct(s,p,c),P.push(nt[l]),P.push(rt[l])):129===l?(_=1-ct(e,f,p),S=ct(s,p,c),m=1-ct(s,h,c),v=1-ct(e,h,c),P.push(it[l]),P.push(ot[l])):41===l?(_=ct(s,p,f),S=1-ct(e,c,p),m=ct(e,c,h),v=ct(s,c,h),P.push(it[l]),P.push(ot[l])):66===l?(b=1-ct(e,f,p),_=1-ct(s,f,p),E=1-ct(s,c,p),m=1-ct(e,h,c),P.push(rt[l]),P.push(it[l])):104===l?(b=ct(s,p,f),_=ct(e,p,f),E=ct(e,p,c),m=ct(s,c,h),P.push(it[l]),P.push(at[l])):144===l?(x=ct(e,f,h),S=ct(e,p,c),E=ct(s,p,c),v=1-ct(s,h,c),P.push(et[l]),P.push(st[l])):26===l?(x=1-ct(s,h,f),S=1-ct(s,c,p),E=1-ct(e,c,p),v=ct(e,c,h),P.push(et[l]),P.push(st[l])):36===l?(w=ct(s,f,h),b=ct(e,p,f),m=ct(e,c,h),v=ct(s,c,h),P.push(nt[l]),P.push(rt[l])):134===l?(w=1-ct(e,h,f),b=1-ct(s,f,p),m=1-ct(s,h,c),v=1-ct(e,h,c),P.push(nt[l]),P.push(rt[l])):9===l?(x=1-ct(e,h,f),w=1-ct(s,h,f),_=ct(s,p,f),S=1-ct(e,c,p),P.push(et[l]),P.push(nt[l])):161===l?(x=ct(s,f,h),w=ct(e,f,h),_=1-ct(e,f,p),S=ct(s,p,c),P.push(et[l]),P.push(nt[l])):37===l?(w=ct(s,f,h),S=1-ct(e,c,p),m=ct(e,c,h),v=ct(s,c,h),P.push(nt[l]),P.push(ot[l])):133===l?(w=1-ct(e,h,f),S=ct(s,p,c),m=1-ct(s,h,c),v=1-ct(e,h,c),P.push(nt[l]),P.push(ot[l])):148===l?(b=ct(e,p,f),S=ct(e,p,c),E=ct(s,p,c),v=1-ct(s,h,c),P.push(rt[l]),P.push(st[l])):22===l?(b=1-ct(s,f,p),S=1-ct(s,c,p),E=1-ct(e,c,p),v=ct(e,c,h),P.push(rt[l]),P.push(st[l])):82===l?(x=ct(e,f,h),b=1-ct(e,f,p),_=1-ct(s,f,p),E=1-ct(s,c,p),P.push(et[l]),P.push(it[l])):88===l?(x=1-ct(s,h,f),b=ct(s,p,f),_=ct(e,p,f),E=ct(e,p,c),P.push(et[l]),P.push(it[l])):73===l?(x=1-ct(e,h,f),w=1-ct(s,h,f),_=ct(s,p,f),m=1-ct(e,h,c),P.push(et[l]),P.push(nt[l])):97===l?(x=ct(s,f,h),w=ct(e,f,h),_=1-ct(e,f,p),m=ct(s,c,h),P.push(et[l]),P.push(nt[l])):145===l?(x=ct(e,f,h),_=1-ct(e,f,p),S=ct(s,p,c),v=1-ct(s,h,c),P.push(et[l]),P.push(ot[l])):25===l?(x=1-ct(s,h,f),_=ct(s,p,f),S=1-ct(e,c,p),v=ct(e,c,h),P.push(et[l]),P.push(ot[l])):70===l?(w=1-ct(e,h,f),b=1-ct(s,f,p),E=1-ct(s,c,p),m=1-ct(e,h,c),P.push(nt[l]),P.push(rt[l])):100===l?(w=ct(s,f,h),b=ct(e,p,f),E=ct(e,p,c),m=ct(s,c,h),P.push(nt[l]),P.push(rt[l])):34===l?(0===y?(x=1-ct(e,h,f),w=1-ct(s,h,f),b=ct(s,p,f),_=ct(e,p,f),S=ct(e,p,c),E=ct(s,p,c),m=1-ct(s,h,c),v=1-ct(e,h,c)):(x=ct(s,f,h),w=ct(e,f,h),b=1-ct(e,f,p),_=1-ct(s,f,p),S=1-ct(s,c,p),E=1-ct(e,c,p),m=ct(e,c,h),v=ct(s,c,h)),P.push(et[l]),P.push(nt[l]),P.push(ot[l]),P.push(st[l])):35===l?(4===y?(x=1-ct(e,h,f),w=1-ct(s,h,f),b=ct(s,p,f),_=ct(e,p,f),S=ct(e,p,c),E=ct(s,p,c),m=1-ct(s,h,c),v=1-ct(e,h,c)):(x=ct(s,f,h),w=ct(e,f,h),b=1-ct(e,f,p),_=1-ct(s,f,p),S=1-ct(s,c,p),E=1-ct(e,c,p),m=ct(e,c,h),v=ct(s,c,h)),P.push(et[l]),P.push(nt[l]),P.push(it[l]),P.push(st[l])):136===l?(0===y?(x=ct(s,f,h),w=ct(e,f,h),b=1-ct(e,f,p),_=1-ct(s,f,p),S=1-ct(s,c,p),E=1-ct(e,c,p),m=ct(e,c,h),v=ct(s,c,h)):(x=1-ct(e,h,f),w=1-ct(s,h,f),b=ct(s,p,f),_=ct(e,p,f),S=ct(e,p,c),E=ct(s,p,c),m=1-ct(s,h,c),v=1-ct(e,h,c)),P.push(et[l]),P.push(nt[l]),P.push(ot[l]),P.push(st[l])):153===l?(0===y?(x=ct(e,f,h),_=1-ct(e,f,p),S=1-ct(e,c,p),v=ct(e,c,h)):(x=1-ct(s,h,f),_=ct(s,p,f),S=ct(s,p,c),v=1-ct(s,h,c)),P.push(et[l]),P.push(it[l])):102===l?(0===y?(w=1-ct(e,h,f),b=ct(e,p,f),E=ct(e,p,c),m=1-ct(e,h,c)):(w=ct(s,f,h),b=1-ct(s,f,p),E=1-ct(s,c,p),m=ct(s,c,h)),P.push(nt[l]),P.push(st[l])):155===l?(4===y?(x=ct(e,f,h),_=1-ct(e,f,p),S=1-ct(e,c,p),v=ct(e,c,h)):(x=1-ct(s,h,f),_=ct(s,p,f),S=ct(s,p,c),v=1-ct(s,h,c)),P.push(et[l]),P.push(ot[l])):103===l?(4===y?(w=1-ct(e,h,f),b=ct(e,p,f),E=ct(e,p,c),m=1-ct(e,h,c)):(w=ct(s,f,h),b=1-ct(s,f,p),E=1-ct(s,c,p),m=ct(s,c,h)),P.push(nt[l]),P.push(rt[l])):152===l?(0===y?(x=ct(e,f,h),b=1-ct(e,f,p),_=1-ct(s,f,p),S=1-ct(s,c,p),E=1-ct(e,c,p),v=ct(e,c,h)):(x=1-ct(s,h,f),b=ct(s,p,f),_=ct(e,p,f),S=ct(e,p,c),E=ct(s,p,c),v=1-ct(s,h,c)),P.push(et[l]),P.push(rt[l]),P.push(it[l])):156===l?(4===y?(x=ct(e,f,h),b=1-ct(e,f,p),_=1-ct(s,f,p),S=1-ct(s,c,p),E=1-ct(e,c,p),v=ct(e,c,h)):(x=1-ct(s,h,f),b=ct(s,p,f),_=ct(e,p,f),S=ct(e,p,c),E=ct(s,p,c),v=1-ct(s,h,c)),P.push(et[l]),P.push(it[l]),P.push(st[l])):137===l?(0===y?(x=ct(s,f,h),w=ct(e,f,h),_=1-ct(e,f,p),S=1-ct(e,c,p),m=ct(e,c,h),v=ct(s,c,h)):(x=1-ct(e,h,f),w=1-ct(s,h,f),_=ct(s,p,f),S=ct(s,p,c),m=1-ct(s,h,c),v=1-ct(e,h,c)),P.push(et[l]),P.push(nt[l]),P.push(it[l])):139===l?(4===y?(x=ct(s,f,h),w=ct(e,f,h),_=1-ct(e,f,p),S=1-ct(e,c,p),m=ct(e,c,h),v=ct(s,c,h)):(x=1-ct(e,h,f),w=1-ct(s,h,f),_=ct(s,p,f),S=ct(s,p,c),m=1-ct(s,h,c),v=1-ct(e,h,c)),P.push(et[l]),P.push(nt[l]),P.push(ot[l])):98===l?(0===y?(x=1-ct(e,h,f),w=1-ct(s,h,f),b=ct(s,p,f),_=ct(e,p,f),E=ct(e,p,c),m=1-ct(e,h,c)):(x=ct(s,f,h),w=ct(e,f,h),b=1-ct(e,f,p),_=1-ct(s,f,p),E=1-ct(s,c,p),m=ct(s,c,h)),P.push(et[l]),P.push(nt[l]),P.push(st[l])):99===l?(4===y?(x=1-ct(e,h,f),w=1-ct(s,h,f),b=ct(s,p,f),_=ct(e,p,f),E=ct(e,p,c),m=1-ct(e,h,c)):(x=ct(s,f,h),w=ct(e,f,h),b=1-ct(e,f,p),_=1-ct(s,f,p),E=1-ct(s,c,p),m=ct(s,c,h)),P.push(et[l]),P.push(nt[l]),P.push(it[l])):38===l?(0===y?(w=1-ct(e,h,f),b=ct(e,p,f),S=ct(e,p,c),E=ct(s,p,c),m=1-ct(s,h,c),v=1-ct(e,h,c)):(w=ct(s,f,h),b=1-ct(s,f,p),S=1-ct(s,c,p),E=1-ct(e,c,p),m=ct(e,c,h),v=ct(s,c,h)),P.push(nt[l]),P.push(ot[l]),P.push(st[l])):39===l?(4===y?(w=1-ct(e,h,f),b=ct(e,p,f),S=ct(e,p,c),E=ct(s,p,c),m=1-ct(s,h,c),v=1-ct(e,h,c)):(w=ct(s,f,h),b=1-ct(s,f,p),S=1-ct(s,c,p),E=1-ct(e,c,p),m=ct(e,c,h),v=ct(s,c,h)),P.push(nt[l]),P.push(rt[l]),P.push(st[l])):85===l&&(x=1,w=0,b=1,_=0,S=0,E=1,m=0,v=1),(m<0||m>1||v<0||v>1||x<0||x>1||b<0||b>1||S<0||S>1||E<0||E>1)&&console.log("MarchingSquaresJS-isoBands: "+l+" "+d+" "+c+","+h+","+f+","+p+" "+y+" "+m+" "+v+" "+x+" "+w+" "+b+" "+_+" "+S+" "+E),o.cells[a][u]={cval:l,cval_real:d,flipped:y,topleft:m,topright:v,righttop:x,rightbottom:w,bottomright:b,bottomleft:_,leftbottom:S,lefttop:E,edges:P}}}}}return o}(t,e,n);return _.polygons?(_.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),u=function(t){var e=[],n=0;return t.cells.forEach((function(t,r){t.forEach((function(t,i){if(void 0!==t){var o=lt[t.cval](t);"object"==typeof o&&ht(o)?"object"==typeof o[0]&&ht(o[0])?"object"==typeof o[0][0]&&ht(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=t})):(o.forEach((function(t){t[0]+=i,t[1]+=r})),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(l)):(_.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),u=function(t){for(var e=[],n=t.rows,r=t.cols,i=[],o=0;o<n;o++)for(var s=0;s<r;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=pt(t.cells[o][s]),u=null,l=s,c=o;null!==a&&i.push([a.p[0]+l,a.p[1]+c]);do{if(null===(u=dt(t.cells[c][l],a.x,a.y,a.o)))break;if(i.push([u.p[0]+l,u.p[1]+c]),l+=u.x,a=u,(c+=u.y)<0||c>=n||l<0||l>=r||void 0===t.cells[c][l]){var h=ft(t,l-=u.x,c-=u.y,u.x,u.y,u.o);if(null===h)break;h.path.forEach((function(t){i.push(t)})),l=h.i,c=h.j,a=h}}while(void 0!==t.cells[c][l]&&t.cells[c][l].edges.length>0);e.push(i),i=[],t.cells[o][s].edges.length>0&&s--}return e}(l)),"function"==typeof _.successCallback&&_.successCallback(u),u}var x=64,w=16,E=[],S=[],P=[],C=[],I=[],M=[],O=[],T=[],L=[],N=[],A=[],R=[],D=[],k=[],F=[],B=[],j=[],z=[],G=[],q=[],U=[],V=[],X=[],Y=[];O[85]=N[85]=-1,T[85]=A[85]=0,L[85]=R[85]=1,G[85]=V[85]=1,q[85]=X[85]=0,U[85]=Y[85]=1,E[85]=C[85]=0,S[85]=I[85]=-1,P[85]=F[85]=0,B[85]=D[85]=0,j[85]=k[85]=1,M[85]=z[85]=1,V[1]=V[169]=0,X[1]=X[169]=-1,Y[1]=Y[169]=0,D[1]=D[169]=-1,k[1]=k[169]=0,F[1]=F[169]=0,N[4]=N[166]=0,A[4]=A[166]=-1,R[4]=R[166]=1,B[4]=B[166]=1,j[4]=j[166]=0,z[4]=z[166]=0,O[16]=O[154]=0,T[16]=T[154]=1,L[16]=L[154]=1,C[16]=C[154]=1,I[16]=I[154]=0,M[16]=M[154]=1,G[64]=G[106]=0,q[64]=q[106]=1,U[64]=U[106]=0,E[64]=E[106]=-1,S[64]=S[106]=0,P[64]=P[106]=1,G[2]=G[168]=0,q[2]=q[168]=-1,U[2]=U[168]=1,V[2]=V[168]=0,X[2]=X[168]=-1,Y[2]=Y[168]=0,D[2]=D[168]=-1,k[2]=k[168]=0,F[2]=F[168]=0,B[2]=B[168]=-1,j[2]=j[168]=0,z[2]=z[168]=1,O[8]=O[162]=0,T[8]=T[162]=-1,L[8]=L[162]=0,N[8]=N[162]=0,A[8]=A[162]=-1,R[8]=R[162]=1,D[8]=D[162]=1,k[8]=k[162]=0,F[8]=F[162]=1,B[8]=B[162]=1,j[8]=j[162]=0,z[8]=z[162]=0,O[32]=O[138]=0,T[32]=T[138]=1,L[32]=L[138]=1,N[32]=N[138]=0,A[32]=A[138]=1,R[32]=R[138]=0,E[32]=E[138]=1,S[32]=S[138]=0,P[32]=P[138]=0,C[32]=C[138]=1,I[32]=I[138]=0,M[32]=M[138]=1,V[128]=V[42]=0,X[128]=X[42]=1,Y[128]=Y[42]=1,G[128]=G[42]=0,q[128]=q[42]=1,U[128]=U[42]=0,E[128]=E[42]=-1,S[128]=S[42]=0,P[128]=P[42]=1,C[128]=C[42]=-1,I[128]=I[42]=0,M[128]=M[42]=0,N[5]=N[165]=-1,A[5]=A[165]=0,R[5]=R[165]=0,V[5]=V[165]=1,X[5]=X[165]=0,Y[5]=Y[165]=0,B[20]=B[150]=0,j[20]=j[150]=1,z[20]=z[150]=1,C[20]=C[150]=0,I[20]=I[150]=-1,M[20]=M[150]=1,O[80]=O[90]=-1,T[80]=T[90]=0,L[80]=L[90]=1,G[80]=G[90]=1,q[80]=q[90]=0,U[80]=U[90]=1,D[65]=D[105]=0,k[65]=k[105]=1,F[65]=F[105]=0,E[65]=E[105]=0,S[65]=S[105]=-1,P[65]=P[105]=0,O[160]=O[10]=-1,T[160]=T[10]=0,L[160]=L[10]=1,N[160]=N[10]=-1,A[160]=A[10]=0,R[160]=R[10]=0,V[160]=V[10]=1,X[160]=X[10]=0,Y[160]=Y[10]=0,G[160]=G[10]=1,q[160]=q[10]=0,U[160]=U[10]=1,B[130]=B[40]=0,j[130]=j[40]=1,z[130]=z[40]=1,D[130]=D[40]=0,k[130]=k[40]=1,F[130]=F[40]=0,E[130]=E[40]=0,S[130]=S[40]=-1,P[130]=P[40]=0,C[130]=C[40]=0,I[130]=I[40]=-1,M[130]=M[40]=1,N[37]=N[133]=0,A[37]=A[133]=1,R[37]=R[133]=1,V[37]=V[133]=0,X[37]=X[133]=1,Y[37]=Y[133]=0,E[37]=E[133]=-1,S[37]=S[133]=0,P[37]=P[133]=0,C[37]=C[133]=1,I[37]=I[133]=0,M[37]=M[133]=0,B[148]=B[22]=-1,j[148]=j[22]=0,z[148]=z[22]=0,V[148]=V[22]=0,X[148]=X[22]=-1,Y[148]=Y[22]=1,G[148]=G[22]=0,q[148]=q[22]=1,U[148]=U[22]=1,C[148]=C[22]=-1,I[148]=I[22]=0,M[148]=M[22]=1,O[82]=O[88]=0,T[82]=T[88]=-1,L[82]=L[88]=1,B[82]=B[88]=1,j[82]=j[88]=0,z[82]=z[88]=1,D[82]=D[88]=-1,k[82]=k[88]=0,F[82]=F[88]=1,G[82]=G[88]=0,q[82]=q[88]=-1,U[82]=U[88]=0,O[73]=O[97]=0,T[73]=T[97]=1,L[73]=L[97]=0,N[73]=N[97]=0,A[73]=A[97]=-1,R[73]=R[97]=0,D[73]=D[97]=1,k[73]=k[97]=0,F[73]=F[97]=0,E[73]=E[97]=1,S[73]=S[97]=0,P[73]=P[97]=1,O[145]=O[25]=0,T[145]=T[25]=-1,L[145]=L[25]=0,D[145]=D[25]=1,k[145]=k[25]=0,F[145]=F[25]=1,V[145]=V[25]=0,X[145]=X[25]=1,Y[145]=Y[25]=1,C[145]=C[25]=-1,I[145]=I[25]=0,M[145]=M[25]=0,N[70]=N[100]=0,A[70]=A[100]=1,R[70]=R[100]=0,B[70]=B[100]=-1,j[70]=j[100]=0,z[70]=z[100]=1,G[70]=G[100]=0,q[70]=q[100]=-1,U[70]=U[100]=1,E[70]=E[100]=1,S[70]=S[100]=0,P[70]=P[100]=0,N[101]=N[69]=0,A[101]=A[69]=1,R[101]=R[69]=0,E[101]=E[69]=1,S[101]=S[69]=0,P[101]=P[69]=0,V[149]=V[21]=0,X[149]=X[21]=1,Y[149]=Y[21]=1,C[149]=C[21]=-1,I[149]=I[21]=0,M[149]=M[21]=0,B[86]=B[84]=-1,j[86]=j[84]=0,z[86]=z[84]=1,G[86]=G[84]=0,q[86]=q[84]=-1,U[86]=U[84]=1,O[89]=O[81]=0,T[89]=T[81]=-1,L[89]=L[81]=0,D[89]=D[81]=1,k[89]=k[81]=0,F[89]=F[81]=1,O[96]=O[74]=0,T[96]=T[74]=1,L[96]=L[74]=0,N[96]=N[74]=-1,A[96]=A[74]=0,R[96]=R[74]=1,G[96]=G[74]=1,q[96]=q[74]=0,U[96]=U[74]=0,E[96]=E[74]=1,S[96]=S[74]=0,P[96]=P[74]=1,O[24]=O[146]=0,T[24]=T[146]=-1,L[24]=L[146]=1,B[24]=B[146]=1,j[24]=j[146]=0,z[24]=z[146]=1,D[24]=D[146]=0,k[24]=k[146]=1,F[24]=F[146]=1,C[24]=C[146]=0,I[24]=I[146]=-1,M[24]=M[146]=0,N[6]=N[164]=-1,A[6]=A[164]=0,R[6]=R[164]=1,B[6]=B[164]=-1,j[6]=j[164]=0,z[6]=z[164]=0,V[6]=V[164]=0,X[6]=X[164]=-1,Y[6]=Y[164]=1,G[6]=G[164]=1,q[6]=q[164]=0,U[6]=U[164]=0,D[129]=D[41]=0,k[129]=k[41]=1,F[129]=F[41]=1,V[129]=V[41]=0,X[129]=X[41]=1,Y[129]=Y[41]=0,E[129]=E[41]=-1,S[129]=S[41]=0,P[129]=P[41]=0,C[129]=C[41]=0,I[129]=I[41]=-1,M[129]=M[41]=0,B[66]=B[104]=0,j[66]=j[104]=1,z[66]=z[104]=0,D[66]=D[104]=-1,k[66]=k[104]=0,F[66]=F[104]=1,G[66]=G[104]=0,q[66]=q[104]=-1,U[66]=U[104]=0,E[66]=E[104]=0,S[66]=S[104]=-1,P[66]=P[104]=1,O[144]=O[26]=-1,T[144]=T[26]=0,L[144]=L[26]=0,V[144]=V[26]=1,X[144]=X[26]=0,Y[144]=Y[26]=1,G[144]=G[26]=0,q[144]=q[26]=1,U[144]=U[26]=1,C[144]=C[26]=-1,I[144]=I[26]=0,M[144]=M[26]=1,N[36]=N[134]=0,A[36]=A[134]=1,R[36]=R[134]=1,B[36]=B[134]=0,j[36]=j[134]=1,z[36]=z[134]=0,E[36]=E[134]=0,S[36]=S[134]=-1,P[36]=P[134]=1,C[36]=C[134]=1,I[36]=I[134]=0,M[36]=M[134]=0,O[9]=O[161]=-1,T[9]=T[161]=0,L[9]=L[161]=0,N[9]=N[161]=0,A[9]=A[161]=-1,R[9]=R[161]=0,D[9]=D[161]=1,k[9]=k[161]=0,F[9]=F[161]=0,V[9]=V[161]=1,X[9]=X[161]=0,Y[9]=Y[161]=1,O[136]=0,T[136]=1,L[136]=1,N[136]=0,A[136]=1,R[136]=0,B[136]=-1,j[136]=0,z[136]=1,D[136]=-1,k[136]=0,F[136]=0,V[136]=0,X[136]=-1,Y[136]=0,G[136]=0,q[136]=-1,U[136]=1,E[136]=1,S[136]=0,P[136]=0,C[136]=1,I[136]=0,M[136]=1,O[34]=0,T[34]=-1,L[34]=0,N[34]=0,A[34]=-1,R[34]=1,B[34]=1,j[34]=0,z[34]=0,D[34]=1,k[34]=0,F[34]=1,V[34]=0,X[34]=1,Y[34]=1,G[34]=0,q[34]=1,U[34]=0,E[34]=-1,S[34]=0,P[34]=1,C[34]=-1,I[34]=0,M[34]=0,O[35]=0,T[35]=1,L[35]=1,N[35]=0,A[35]=-1,R[35]=1,B[35]=1,j[35]=0,z[35]=0,D[35]=-1,k[35]=0,F[35]=0,V[35]=0,X[35]=-1,Y[35]=0,G[35]=0,q[35]=1,U[35]=0,E[35]=-1,S[35]=0,P[35]=1,C[35]=1,I[35]=0,M[35]=1,O[153]=0,T[153]=1,L[153]=1,D[153]=-1,k[153]=0,F[153]=0,V[153]=0,X[153]=-1,Y[153]=0,C[153]=1,I[153]=0,M[153]=1,N[102]=0,A[102]=-1,R[102]=1,B[102]=1,j[102]=0,z[102]=0,G[102]=0,q[102]=1,U[102]=0,E[102]=-1,S[102]=0,P[102]=1,O[155]=0,T[155]=-1,L[155]=0,D[155]=1,k[155]=0,F[155]=1,V[155]=0,X[155]=1,Y[155]=1,C[155]=-1,I[155]=0,M[155]=0,N[103]=0,A[103]=1,R[103]=0,B[103]=-1,j[103]=0,z[103]=1,G[103]=0,q[103]=-1,U[103]=1,E[103]=1,S[103]=0,P[103]=0,O[152]=0,T[152]=1,L[152]=1,B[152]=-1,j[152]=0,z[152]=1,D[152]=-1,k[152]=0,F[152]=0,V[152]=0,X[152]=-1,Y[152]=0,G[152]=0,q[152]=-1,U[152]=1,C[152]=1,I[152]=0,M[152]=1,O[156]=0,T[156]=-1,L[156]=1,B[156]=1,j[156]=0,z[156]=1,D[156]=-1,k[156]=0,F[156]=0,V[156]=0,X[156]=-1,Y[156]=0,G[156]=0,q[156]=1,U[156]=1,C[156]=-1,I[156]=0,M[156]=1,O[137]=0,T[137]=1,L[137]=1,N[137]=0,A[137]=1,R[137]=0,D[137]=-1,k[137]=0,F[137]=0,V[137]=0,X[137]=-1,Y[137]=0,E[137]=1,S[137]=0,P[137]=0,C[137]=1,I[137]=0,M[137]=1,O[139]=0,T[139]=1,L[139]=1,N[139]=0,A[139]=-1,R[139]=0,D[139]=1,k[139]=0,F[139]=0,V[139]=0,X[139]=1,Y[139]=0,E[139]=-1,S[139]=0,P[139]=0,C[139]=1,I[139]=0,M[139]=1,O[98]=0,T[98]=-1,L[98]=0,N[98]=0,A[98]=-1,R[98]=1,B[98]=1,j[98]=0,z[98]=0,D[98]=1,k[98]=0,F[98]=1,G[98]=0,q[98]=1,U[98]=0,E[98]=-1,S[98]=0,P[98]=1,O[99]=0,T[99]=1,L[99]=0,N[99]=0,A[99]=-1,R[99]=1,B[99]=1,j[99]=0,z[99]=0,D[99]=-1,k[99]=0,F[99]=1,G[99]=0,q[99]=-1,U[99]=0,E[99]=1,S[99]=0,P[99]=1,N[38]=0,A[38]=-1,R[38]=1,B[38]=1,j[38]=0,z[38]=0,V[38]=0,X[38]=1,Y[38]=1,G[38]=0,q[38]=1,U[38]=0,E[38]=-1,S[38]=0,P[38]=1,C[38]=-1,I[38]=0,M[38]=0,N[39]=0,A[39]=1,R[39]=1,B[39]=-1,j[39]=0,z[39]=0,V[39]=0,X[39]=-1,Y[39]=1,G[39]=0,q[39]=1,U[39]=0,E[39]=-1,S[39]=0,P[39]=1,C[39]=1,I[39]=0,M[39]=0;var H=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},W=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},J=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},K=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},Z=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},Q=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},$=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},tt=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},et=[],nt=[],rt=[],it=[],ot=[],st=[],at=[],ut=[];it[1]=ot[1]=18,it[169]=ot[169]=18,rt[4]=nt[4]=12,rt[166]=nt[166]=12,et[16]=ut[16]=4,et[154]=ut[154]=4,st[64]=at[64]=22,st[106]=at[106]=22,rt[2]=st[2]=17,it[2]=ot[2]=18,rt[168]=st[168]=17,it[168]=ot[168]=18,et[8]=it[8]=9,nt[8]=rt[8]=12,et[162]=it[162]=9,nt[162]=rt[162]=12,et[32]=ut[32]=4,nt[32]=at[32]=1,et[138]=ut[138]=4,nt[138]=at[138]=1,ot[128]=ut[128]=21,st[128]=at[128]=22,ot[42]=ut[42]=21,st[42]=at[42]=22,nt[5]=ot[5]=14,nt[165]=ot[165]=14,rt[20]=ut[20]=6,rt[150]=ut[150]=6,et[80]=st[80]=11,et[90]=st[90]=11,it[65]=at[65]=3,it[105]=at[105]=3,et[160]=st[160]=11,nt[160]=ot[160]=14,et[10]=st[10]=11,nt[10]=ot[10]=14,rt[130]=ut[130]=6,it[130]=at[130]=3,rt[40]=ut[40]=6,it[40]=at[40]=3,nt[101]=at[101]=1,nt[69]=at[69]=1,ot[149]=ut[149]=21,ot[21]=ut[21]=21,rt[86]=st[86]=17,rt[84]=st[84]=17,et[89]=it[89]=9,et[81]=it[81]=9,et[96]=at[96]=0,nt[96]=st[96]=15,et[74]=at[74]=0,nt[74]=st[74]=15,et[24]=rt[24]=8,it[24]=ut[24]=7,et[146]=rt[146]=8,it[146]=ut[146]=7,nt[6]=st[6]=15,rt[6]=ot[6]=16,nt[164]=st[164]=15,rt[164]=ot[164]=16,it[129]=ut[129]=7,ot[129]=at[129]=20,it[41]=ut[41]=7,ot[41]=at[41]=20,rt[66]=at[66]=2,it[66]=st[66]=19,rt[104]=at[104]=2,it[104]=st[104]=19,et[144]=ot[144]=10,st[144]=ut[144]=23,et[26]=ot[26]=10,st[26]=ut[26]=23,nt[36]=ut[36]=5,rt[36]=at[36]=2,nt[134]=ut[134]=5,rt[134]=at[134]=2,et[9]=ot[9]=10,nt[9]=it[9]=13,et[161]=ot[161]=10,nt[161]=it[161]=13,nt[37]=ut[37]=5,ot[37]=at[37]=20,nt[133]=ut[133]=5,ot[133]=at[133]=20,rt[148]=ot[148]=16,st[148]=ut[148]=23,rt[22]=ot[22]=16,st[22]=ut[22]=23,et[82]=rt[82]=8,it[82]=st[82]=19,et[88]=rt[88]=8,it[88]=st[88]=19,et[73]=at[73]=0,nt[73]=it[73]=13,et[97]=at[97]=0,nt[97]=it[97]=13,et[145]=it[145]=9,ot[145]=ut[145]=21,et[25]=it[25]=9,ot[25]=ut[25]=21,nt[70]=at[70]=1,rt[70]=st[70]=17,nt[100]=at[100]=1,rt[100]=st[100]=17,et[34]=it[34]=9,nt[34]=rt[34]=12,ot[34]=ut[34]=21,st[34]=at[34]=22,et[136]=ut[136]=4,nt[136]=at[136]=1,rt[136]=st[136]=17,it[136]=ot[136]=18,et[35]=ut[35]=4,nt[35]=rt[35]=12,it[35]=ot[35]=18,st[35]=at[35]=22,et[153]=ut[153]=4,it[153]=ot[153]=18,nt[102]=rt[102]=12,st[102]=at[102]=22,et[155]=it[155]=9,ot[155]=ut[155]=23,nt[103]=at[103]=1,rt[103]=st[103]=17,et[152]=ut[152]=4,rt[152]=st[152]=17,it[152]=ot[152]=18,et[156]=rt[156]=8,it[156]=ot[156]=18,st[156]=ut[156]=23,et[137]=ut[137]=4,nt[137]=at[137]=1,it[137]=ot[137]=18,et[139]=ut[139]=4,nt[139]=it[139]=13,ot[139]=at[139]=20,et[98]=it[98]=9,nt[98]=rt[98]=12,st[98]=at[98]=22,et[99]=at[99]=0,nt[99]=rt[99]=12,it[99]=st[99]=19,nt[38]=rt[38]=12,ot[38]=ut[38]=21,st[38]=at[38]=22,nt[39]=ut[39]=5,rt[39]=ot[39]=16,st[39]=at[39]=22;var lt=[];function ct(t,e,n){return(t-e)/(n-e)}function ht(t){return t.constructor.toString().indexOf("Array")>-1}function ft(t,e,n,r,i,o){for(var s=t.cells[n][e],a=s.cval_real,u=e+r,l=n+i,c=[],h=!1;!h;){if(void 0===t.cells[l]||void 0===t.cells[l][u])if(l-=i,u-=r,a=(s=t.cells[l][u]).cval_real,-1===i)if(0===o)if(1&a)c.push([u,l]),r=-1,i=0,o=0;else{if(!(4&a)){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+1,l]),r=1,i=0,o=0}else{if(!(1&a)){if(4&a){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u+s.bottomleft,l]),r=0,i=1,o=0,h=!0;break}c.push([u,l]),r=-1,i=0,o=0}else if(1===i)if(0===o){if(!(a&w)){if(a&x){c.push([u+s.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+s.topright,l+1]),r=0,i=-1,o=1,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}else c.push([u+1,l+1]),r=1,i=0,o=1;else if(-1===r)if(0===o){if(!(a&x)){if(1&a){c.push([u,l+s.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+s.lefttop]),r=1,i=0,o=1,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}else{if(!(a&x)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([u,l+1]),r=0,i=1,o=0}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(4&a)){c.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}else{if(!(4&a)){if(a&w){c.push([u+1,l+s.righttop]),r=-1,i=0,o=1;break}c.push([u+1,l+s.rightbottom]),r=-1,i=0,o=0,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else if(a=(s=t.cells[l][u]).cval_real,-1===r)if(0===o)if(void 0!==t.cells[l-1]&&void 0!==t.cells[l-1][u])r=0,i=-1,o=1;else{if(!(1&a)){c.push([u+s.bottomright,l]),r=0,i=1,o=1,h=!0;break}c.push([u,l])}else{if(!(a&x)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+u+","+l);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===r){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l+1]&&void 0!==t.cells[l+1][u])r=0,i=1,o=0;else{if(!(a&w)){c.push([u+s.topleft,l+1]),r=0,i=-1,o=0,h=!0;break}c.push([u+1,l+1]),r=1,i=0,o=1}}else if(-1===i){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u+1])r=1,i=0,o=1;else{if(!(4&a)){c.push([u+1,l+s.righttop]),r=-1,i=0,o=1,h=!0;break}c.push([u+1,l]),r=0,i=-1,o=1}}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[l][u-1])r=-1,i=0,o=0;else{if(!(a&x)){c.push([u,l+s.leftbottom]),r=1,i=0,o=0,h=!0;break}c.push([u,l+1]),r=0,i=1,o=0}}if(l+=i,(u+=r)===e&&l===n)break}return{path:c,i:u,j:l,x:r,y:i,o}}function pt(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&w?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return 4&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return 1&n?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&w?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return 4&n?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return 1&n?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return 1&n?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&x?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return 1&n?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&x?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return 4&n?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&x?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return 1&n?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&x?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&x?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&w?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&x?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&w?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}function dt(t,e,n,r){var i,o,s,a,u,l=t.cval;switch(e){case-1:switch(r){case 0:i=nt[l],s=N[l],a=A[l],u=R[l];break;default:i=et[l],s=O[l],a=T[l],u=L[l]}break;case 1:switch(r){case 0:i=ot[l],s=V[l],a=X[l],u=Y[l];break;default:i=st[l],s=G[l],a=q[l],u=U[l]}break;default:switch(n){case-1:switch(r){case 0:i=at[l],s=E[l],a=S[l],u=P[l];break;default:i=ut[l],s=C[l],a=I[l],u=M[l]}break;case 1:switch(r){case 0:i=it[l],s=D[l],a=k[l],u=F[l];break;default:i=rt[l],s=B[l],a=j[l],u=z[l]}}}if(o=t.edges.indexOf(i),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),l=t.cval_real,i){case 0:l&w?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:4&l?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:4&l?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:1&l?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:l&w?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:4&l?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:4&l?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:1&l?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:4&l?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:1&l?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:1&l?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:l&x?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:4&l?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:1&l?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:1&l?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:l&x?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:4&l?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:l&x?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:1&l?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:l&x?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:l&x?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:l&w?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:l&x?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:l&w?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==u||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+s+" "+a+" "+u)),{p:[e,n],x:s,y:a,o:u}}function yt(t,e,n){if(n=n||{},!u.isObject(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",i=n.commonProperties||{},o=n.breaksProperties||[];if(a.collectionOf(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!u.isObject(i))throw new Error("commonProperties is not an Object");if(!Array.isArray(o))throw new Error("breaksProperties is not an Array");var s=m(t,{zProperty:r,flip:!0}),l=function(t,e,n){for(var r=[],i=1;i<e.length;i++){var o=+e[i-1],s=+e[i],a=mt(gt(b(t,o,s-o))),u={};u.groupedRings=a,u[n]=o+"-"+s,r.push(u)}return r}(s,e,r),c=(l=function(t,e,n){var r=f.default(n),i=r[2]-r[0],o=r[3]-r[1],s=r[0],a=r[1],u=e[0].length-1,l=e.length-1,c=i/u,h=o/l,p=function(t){t[0]=t[0]*c+s,t[1]=t[1]*h+a};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(p)}))}))})),t}(l,s,t)).map((function(t,e){if(o[e]&&!u.isObject(o[e]))throw new Error("Each mappedProperty is required to be an Object");var n=g.default({},i,o[e]);return n[r]=t[r],u.multiPolygon(t.groupedRings,n)}));return u.featureCollection(c)}function gt(t){var e=[],n=[];t.forEach((function(t){var r=p.default(u.polygon([t]));n.push(r),e.push({ring:t,area:r})})),n.sort((function(t,e){return e-t}));var r=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){r.push(e[n].ring),e.splice(n,1);break}})),r}function mt(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!_t(e);)for(var r=0;r<e.length;r++)if(!e[r].grouped){var i=[];i.push(e[r].lrCoordinates),e[r].grouped=!0;for(var o=u.polygon([e[r].lrCoordinates]),s=r+1;s<e.length;s++){if(!e[s].grouped)vt(u.polygon([e[s].lrCoordinates]),o)&&(i.push(e[s].lrCoordinates),e[s].grouped=!0)}n.push(i)}return n}function vt(t,e){for(var n=y.default(t),r=0;r<n.features.length;r++)if(!d.default(n.features[r],e))return!1;return!0}function _t(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}lt[1]=lt[169]=H,lt[4]=lt[166]=W,lt[16]=lt[154]=J,lt[64]=lt[106]=K,lt[168]=lt[2]=Z,lt[162]=lt[8]=Q,lt[138]=lt[32]=$,lt[42]=lt[128]=tt,lt[5]=lt[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},lt[20]=lt[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},lt[80]=lt[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},lt[65]=lt[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},lt[160]=lt[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},lt[130]=lt[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},lt[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},lt[101]=lt[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},lt[149]=lt[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},lt[86]=lt[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},lt[89]=lt[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},lt[96]=lt[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},lt[24]=lt[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},lt[6]=lt[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},lt[129]=lt[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},lt[66]=lt[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},lt[144]=lt[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},lt[36]=lt[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},lt[9]=lt[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},lt[37]=lt[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},lt[148]=lt[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},lt[82]=lt[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},lt[73]=lt[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},lt[145]=lt[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},lt[70]=lt[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},lt[34]=function(t){return[tt(t),Q(t)]},lt[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},lt[136]=function(t){return[$(t),Z(t)]},lt[153]=function(t){return[J(t),H(t)]},lt[102]=function(t){return[W(t),K(t)]},lt[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},lt[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},lt[152]=function(t){return[J(t),Z(t)]},lt[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},lt[137]=function(t){return[$(t),H(t)]},lt[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},lt[98]=function(t){return[Q(t),K(t)]},lt[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},lt[38]=function(t){return[W(t),tt(t)]},lt[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},t.exports=yt,t.exports.default=yt},7928:(t,e,n)=>{"use strict";var r=n(9705),i=n(1540),o=n(611),s=n(4102),a=n(7418);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(r),c=u(a),h={successCallback:null,verbose:!1},f={};function p(t,e,n){n=n||{};for(var r=Object.keys(h),i=0;i<r.length;i++){var o=r[i],s=n[o];s=null!=s?s:h[o],f[o]=s}f.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var a,u,l,c,p=(a=function(t,e){for(var n=t.length-1,r=t[0].length-1,i={rows:n,cols:r,cells:[]},o=0;o<n;++o){i.cells[o]=[];for(var s=0;s<r;++s){var a=0,u=t[o+1][s],l=t[o+1][s+1],c=t[o][s+1],h=t[o][s];if(!(isNaN(u)||isNaN(l)||isNaN(c)||isNaN(h))){a|=u>=e?8:0,a|=l>=e?4:0,a|=c>=e?2:0;var f,p,y,g,m=!1;if(5==(a|=h>=e?1:0)||10===a){var v=(u+l+c+h)/4;5===a&&v<e?(a=10,m=!0):10===a&&v<e&&(a=5,m=!0)}0!==a&&15!==a&&(f=p=y=g=.5,1===a?(y=1-d(e,u,h),p=1-d(e,c,h)):2===a?(p=d(e,h,c),g=1-d(e,l,c)):3===a?(y=1-d(e,u,h),g=1-d(e,l,c)):4===a?(f=d(e,u,l),g=d(e,c,l)):5===a?(f=d(e,u,l),g=d(e,c,l),p=1-d(e,c,h),y=1-d(e,u,h)):6===a?(p=d(e,h,c),f=d(e,u,l)):7===a?(y=1-d(e,u,h),f=d(e,u,l)):8===a?(y=d(e,h,u),f=1-d(e,l,u)):9===a?(p=1-d(e,c,h),f=1-d(e,l,u)):10===a?(f=1-d(e,l,u),g=1-d(e,l,c),p=d(e,h,c),y=d(e,h,u)):11===a?(f=1-d(e,l,u),g=1-d(e,l,c)):12===a?(y=d(e,h,u),g=d(e,c,l)):13===a?(p=1-d(e,c,h),g=d(e,c,l)):14===a?(y=d(e,h,u),p=d(e,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),i.cells[o][s]={cval:a,flipped:m,top:f,right:g,bottom:p,left:y})}}}return i}(t,e),u=[],l=0,c=1e-7,a.cells.forEach((function(t,e){t.forEach((function(t,n){if(void 0!==t&&5!==(p=t).cval&&10!==p.cval&&!y(t)){var r=function(t,e,n){var r,i,o=t.length,s=[],a=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],l=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],h=t[e][n],f=h.cval,p=l[f],d=m(h,p);s.push([n+d[0],e+d[1]]),p=c[f],d=m(h,p),s.push([n+d[0],e+d[1]]),g(h);for(var y=n+a[f],v=e+u[f],_=f;y>=0&&v>=0&&v<o&&(y!=n||v!=e)&&void 0!==(h=t[v][y]);){if(0===(f=h.cval)||15===f)return{path:s,info:"mergeable"};p=c[f],r=a[f],i=u[f],5!==f&&10!==f||(5===f?h.flipped?-1===u[_]?(p="left",r=-1,i=0):(p="right",r=1,i=0):-1===a[_]&&(p="bottom",r=0,i=-1):10===f&&(h.flipped?-1===a[_]?(p="top",r=0,i=1):(p="bottom",r=0,i=-1):1===u[_]&&(p="left",r=-1,i=0))),d=m(h,p),s.push([y+d[0],v+d[1]]),g(h),y+=r,v+=i,_=f}return{path:s,info:"closed"}}(a.cells,e,n),i=!1;if("mergeable"===r.info)for(var o=r.path[r.path.length-1][0],s=r.path[r.path.length-1][1],h=l-1;h>=0;h--)if(Math.abs(u[h][0][0]-o)<=c&&Math.abs(u[h][0][1]-s)<=c){for(var f=r.path.length-2;f>=0;--f)u[h].unshift(r.path[f]);i=!0;break}i||(u[l++]=r.path)}var p}))})),u);return"function"==typeof f.successCallback&&f.successCallback(p),p}function d(t,e,n){return(t-e)/(n-e)}function y(t){return 0===t.cval||15===t.cval}function g(t){y(t)||5===t.cval||10===t.cval||(t.cval=15)}function m(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function v(t,e){if(e=e||{},!s.isObject(e))throw new Error("options is invalid");var n=e.zProperty||"elevation",r=e.flip,a=e.flags;o.collectionOf(t,"Point","input must contain Points");for(var u=function(t,e){var n={};return i.featureEach(t,(function(t){var e=o.getCoords(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return o.getCoords(t)[0]-o.getCoords(e)[0]}))})).sort((function(t,n){return e?o.getCoords(t[0])[1]-o.getCoords(n[0])[1]:o.getCoords(n[0])[1]-o.getCoords(t[0])[1]}))}(t,r),l=[],c=0;c<u.length;c++){for(var h=u[c],f=[],p=0;p<h.length;p++){var d=h[p];d.properties[n]?f.push(d.properties[n]):f.push(0),!0===a&&(d.properties.matrixPosition=[c,p])}l.push(f)}return l}function _(t,e,n){if(n=n||{},!s.isObject(n))throw new Error("options is invalid");var r=n.zProperty||"elevation",a=n.commonProperties||{},u=n.breaksProperties||[];if(o.collectionOf(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!s.isObject(a))throw new Error("commonProperties must be an Object");if(!Array.isArray(u))throw new Error("breaksProperties must be an Array");var h=v(t,{zProperty:r,flip:!0}),f=function(t,e,n){var r=l.default(n),o=r[2]-r[0],s=r[3]-r[1],a=r[0],u=r[1],c=e[0].length-1,h=e.length-1,f=o/c,p=s/h,d=function(t){t[0]=t[0]*f+a,t[1]=t[1]*p+u};return t.forEach((function(t){i.coordEach(t,d)})),t}(function(t,e,n,r,i){for(var o=[],a=1;a<e.length;a++){var u=+e[a],l=c.default({},r,i[a]);l[n]=u;var h=s.multiLineString(p(t,u),l);o.push(h)}return o}(h,e,r,a,u),h,t);return s.featureCollection(f)}t.exports=_,t.exports.default=_},1641:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102);function i(t,e,n,r,i,o,s,a){var u,l,c,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(u=(a-o)*(n-t)-(s-i)*(r-e))?null!==f.x&&null!==f.y&&f:(h=(n-t)*(l=e-o)-(r-e)*(c=t-i),l=((s-i)*l-(a-o)*c)/u,c=h/u,f.x=t+l*(n-t),f.y=e+l*(r-e),l>=0&&l<=1&&(f.onLine1=!0),c>=0&&c<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}e.default=function(t){var e,n,o={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var s=n;s<e.length-1;s++){if(t===e){if(1===Math.abs(n-s))continue;if(0===n&&s===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var a=i(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[s][0],e[s][1],e[s+1][0],e[s+1][1]);a&&o.features.push(r.point([a[0],a[1]]))}}))})),o}},91:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1013)),o=n(1540);e.default=function(t,e){return void 0===e&&(e={}),o.segmentReduce(t,(function(t,n){var r=n.geometry.coordinates;return t+i.default(r[0],r[1],e)}),0)}},7272:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(265)),o=r(n(3737)),s=n(4102);function a(t){var e=t%360;return e<0&&(e+=360),e}e.default=function(t,e,n,r,u){void 0===u&&(u={});var l=u.steps||64,c=a(n),h=a(r),f=Array.isArray(t)||"Feature"!==t.type?{}:t.properties;if(c===h)return s.lineString(i.default(t,e,u).geometry.coordinates[0],f);for(var p=c,d=c<h?h:h+360,y=p,g=[],m=0;y<d;)g.push(o.default(t,e,y,u).geometry.coordinates),y=p+360*++m/l;return y>d&&g.push(o.default(t,e,d,u).geometry.coordinates),s.lineString(g,f)}},9632:(t,e,n)=>{"use strict";var r=n(91),i=n(1378),o=n(1540),s=n(4102);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(r),l=a(i);function c(t,e,n){if(n=n||{},!s.isObject(n))throw new Error("options is invalid");var r=n.units,i=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var a=[];return o.flattenEach(t,(function(t){i&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,r){var i=u.default(t,{units:n});if(i<=e)return r(t);var o=i/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++){r(l.default(t,e*s,e*(s+1),{units:n}),s)}}(t,e,r,(function(t){a.push(t)}))})),s.featureCollection(a)}t.exports=c,t.exports.default=c},3663:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4102),o=n(611),s=r(n(4590)),a=n(1540),u=r(n(1787));function l(t,e){var n=o.getCoords(t),r=o.getCoords(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var s=n[0][0],a=n[0][1],u=n[1][0],l=n[1][1],c=r[0][0],h=r[0][1],f=r[1][0],p=r[1][1],d=(p-h)*(u-s)-(f-c)*(l-a),y=(f-c)*(a-h)-(p-h)*(s-c),g=(u-s)*(a-h)-(l-a)*(s-c);if(0===d)return null;var m=y/d,v=g/d;if(m>=0&&m<=1&&v>=0&&v<=1){var _=s+m*(u-s),b=a+m*(l-a);return i.point([_,b])}return null}e.default=function(t,e){var n={},r=[];if("LineString"===t.type&&(t=i.feature(t)),"LineString"===e.type&&(e=i.feature(e)),"Feature"===t.type&&"Feature"===e.type&&null!==t.geometry&&null!==e.geometry&&"LineString"===t.geometry.type&&"LineString"===e.geometry.type&&2===t.geometry.coordinates.length&&2===e.geometry.coordinates.length){var c=l(t,e);return c&&r.push(c),i.featureCollection(r)}var h=u.default();return h.load(s.default(e)),a.featureEach(s.default(t),(function(t){a.featureEach(h.search(t),(function(e){var i=l(t,e);if(i){var s=o.getCoords(i).join(",");n[s]||(n[s]=!0,r.push(i))}}))})),i.featureCollection(r)}},5668:(t,e,n)=>{"use strict";var r=n(1540),i=n(611),o=n(4102);function s(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function a(t,e){return t[0]*e[1]-e[0]*t[1]}function u(t,e){return!function(t,e){return 0===a(s(t),s(e))}(t,e)&&function(t,e){var n,r,i=t[0],o=s(t),u=e[0],l=s(e),c=a(o,l);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(i,function(t,e){return[t*e[0],t*e[1]]}(a((r=i,[(n=u)[0]-r[0],n[1]-r[1]]),l)/c,o))}(t,e)}function l(t,e,n){if(n=n||{},!o.isObject(n))throw new Error("options is invalid");var s=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var a=i.getType(t),u=t.properties;switch(a){case"LineString":return c(t,e,s);case"MultiLineString":var l=[];return r.flattenEach(t,(function(t){l.push(c(t,e,s).geometry.coordinates)})),o.multiLineString(l,u);default:throw new Error("geometry "+a+" is not supported")}}function c(t,e,n){var r=[],s=o.lengthToDegrees(e,n),a=i.getCoords(t),l=[];return a.forEach((function(t,e){if(e!==a.length-1){var n=(c=t,h=a[e+1],f=s,p=Math.sqrt((c[0]-h[0])*(c[0]-h[0])+(c[1]-h[1])*(c[1]-h[1])),d=c[0]+f*(h[1]-c[1])/p,y=h[0]+f*(h[1]-c[1])/p,g=c[1]+f*(c[0]-h[0])/p,m=h[1]+f*(c[0]-h[0])/p,[[d,g],[y,m]]);if(r.push(n),e>0){var i=r[e-1],o=u(n,i);!1!==o&&(i[1]=o,n[0]=o),l.push(i[0]),e===a.length-2&&(l.push(n[0]),l.push(n[1]))}2===a.length&&(l.push(n[0]),l.push(n[1]))}var c,h,f,p,d,y,g,m})),o.lineString(l,t.properties)}t.exports=l,t.exports.default=l},273:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1787)),o=r(n(4590)),s=r(n(3807)),a=r(n(2793)),u=n(611),l=n(1540),c=n(4102),h=r(n(251));function f(t,e){var n=u.getCoords(e),r=u.getCoords(t),i=r[0],o=r[r.length-1],s=t.geometry.coordinates;return h.default(n[0],i)?s.unshift(n[1]):h.default(n[0],o)?s.push(n[1]):h.default(n[1],i)?s.unshift(n[0]):h.default(n[1],o)&&s.push(n[0]),t}e.default=function(t,e,n){if(void 0===n&&(n={}),n=n||{},!c.isObject(n))throw new Error("options is invalid");var r,p=n.tolerance||0,d=[],y=i.default(),g=o.default(t);return y.load(g),l.segmentEach(e,(function(t){var e=!1;t&&(l.featureEach(y.search(t),(function(n){if(!1===e){var i=u.getCoords(t).sort(),o=u.getCoords(n).sort();h.default(i,o)||(0===p?a.default(i[0],n)&&a.default(i[1],n):s.default(n,i[0]).properties.dist<=p&&s.default(n,i[1]).properties.dist<=p)?(e=!0,r=r?f(r,t):t):(0===p?a.default(o[0],t)&&a.default(o[1],t):s.default(t,o[0]).properties.dist<=p&&s.default(t,o[1]).properties.dist<=p)&&(r=r?f(r,n):n)}})),!1===e&&r&&(d.push(r),r=void 0))})),r&&d.push(r),c.featureCollection(d)}},4590:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(611),o=n(1540);e.default=function(t){if(!t)throw new Error("geojson is required");var e=[];return o.flattenEach(t,(function(t){!function(t,e){var n=[],o=t.geometry;if(null!==o){switch(o.type){case"Polygon":n=i.getCoords(o);break;case"LineString":n=[i.getCoords(o)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,i){var o,s,a,u,l,c,h=r.lineString([t,i],e);return h.bbox=(s=i,a=(o=t)[0],u=o[1],l=s[0],c=s[1],[a<l?a:l,u<c?u:c,a>l?a:l,u>c?u:c]),n.push(h),i})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}}(t,e)})),r.featureCollection(e)}},1378:(t,e,n)=>{"use strict";var r=n(1208),i=n(1013),o=n(3737),s=n(4102);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(r),l=a(i),c=a(o);function h(t,e,n,r){if(r=r||{},!s.isObject(r))throw new Error("options is invalid");var i,o=[];if("Feature"===t.type)i=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");i=t.coordinates}for(var a,h,f,p=i.length,d=0,y=0;y<i.length&&!(e>=d&&y===i.length-1);y++){if(d>e&&0===o.length){if(!(a=e-d))return o.push(i[y]),s.lineString(o);h=u.default(i[y],i[y-1])-180,f=c.default(i[y],a,h,r),o.push(f.geometry.coordinates)}if(d>=n)return(a=n-d)?(h=u.default(i[y],i[y-1])-180,f=c.default(i[y],a,h,r),o.push(f.geometry.coordinates),s.lineString(o)):(o.push(i[y]),s.lineString(o));if(d>=e&&o.push(i[y]),y===i.length-1)return s.lineString(o);d+=l.default(i[y],i[y+1],r)}if(d<e&&i.length===p)throw new Error("Start position is beyond line");var g=i[i.length-1];return s.lineString([g,g])}t.exports=h,t.exports.default=h},4792:(t,e,n)=>{"use strict";var r=n(611),i=n(4102);function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=o(n(3807));function a(t,e,n){var o=r.getCoords(n);if("LineString"!==r.getType(n))throw new Error("line must be a LineString");for(var a,u=s.default(n,t),l=s.default(n,e),c=[(a=u.properties.index<=l.properties.index?[u,l]:[l,u])[0].geometry.coordinates],h=a[0].properties.index+1;h<a[1].properties.index+1;h++)c.push(o[h]);return c.push(a[1].geometry.coordinates),i.lineString(c,n.properties)}t.exports=a,t.exports.default=a},7477:(t,e,n)=>{"use strict";var r=n(1787),i=n(5077),o=n(9705),s=n(5608),a=n(4590),u=n(3663),l=n(3807),c=n(611),h=n(1540),f=n(4102);function p(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var d=p(r),y=p(i),g=p(o),m=p(s),v=p(a),_=p(u),b=p(l);function x(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=c.getType(t),r=c.getType(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===r)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===r)throw new Error("splitter cannot be a GeometryCollection");var i=m.default(e,{precision:7});switch(r){case"Point":return E(t,i);case"MultiPoint":return w(t,i);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return w(t,_.default(t,i))}}function w(t,e){var n=[],r=d.default();return h.flattenEach(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var i=r.search(e);if(i.features.length){var o=S(e,i);n=n.filter((function(t){return t.id!==o.id})),r.remove(o),h.featureEach(E(o,e),(function(t){n.push(t),r.insert(t)}))}}else(n=E(t,e).features).forEach((function(t){t.bbox||(t.bbox=y.default(g.default(t)))})),r.load(f.featureCollection(n))})),f.featureCollection(n)}function E(t,e){var n=[],r=c.getCoords(t)[0],i=c.getCoords(t)[t.geometry.coordinates.length-1];if(P(r,c.getCoord(e))||P(i,c.getCoord(e)))return f.featureCollection([t]);var o=d.default(),s=v.default(t);o.load(s);var a=o.search(e);if(!a.features.length)return f.featureCollection([t]);var u=S(e,a),l=[r],p=h.featureReduce(s,(function(t,r,i){var o=c.getCoords(r)[1],s=c.getCoord(e);return i===u.id?(t.push(s),n.push(f.lineString(t)),P(s,o)?[s]:[s,o]):(t.push(o),t)}),l);return p.length>1&&n.push(f.lineString(p)),f.featureCollection(n)}function S(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,r=1/0;return h.featureEach(e,(function(e){var i=b.default(e,t).properties.dist;i<r&&(n=e,r=i)})),n}function P(t,e){return t[0]===e[0]&&t[1]===e[1]}t.exports=x,t.exports.default=x},1933:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(9705)),o=n(611),s=n(4102),a=r(n(6565));function u(t,e,n,r){e=e||("Feature"===t.type?t.properties:{});var a=o.getGeom(t),u=a.coordinates,c=a.type;if(!u.length)throw new Error("line must contain coordinates");switch(c){case"LineString":return n&&(u=l(u)),s.polygon([u],e);case"MultiLineString":var h=[],f=0;return u.forEach((function(t){if(n&&(t=l(t)),r){var e=(o=i.default(s.lineString(t)),a=o[0],u=o[1],c=o[2],p=o[3],Math.abs(a-c)*Math.abs(u-p));e>f?(h.unshift(t),f=e):h.push(t)}else h.push(t);var o,a,u,c,p})),s.polygon(h,e);default:throw new Error("geometry type "+c+" is not supported")}}function l(t){var e=t[0],n=e[0],r=e[1],i=t[t.length-1],o=i[0],s=i[1];return n===o&&r===s||t.push(e),t}e.default=function(t,e){var n,r,i;void 0===e&&(e={});var l=e.properties,c=null===(n=e.autoComplete)||void 0===n||n,h=null===(r=e.orderCoords)||void 0===r||r;switch(null!==(i=e.mutate)&&void 0!==i&&i||(t=a.default(t)),t.type){case"FeatureCollection":var f=[];return t.features.forEach((function(t){f.push(o.getCoords(u(t,{},c,h)))})),s.multiPolygon(f,l);default:return u(t,l,c,h)}}},482:(t,e,n)=>{"use strict";var r=n(4102);function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var o=i(n(2676));function s(t,e){var n,i=function(t){var e=[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]],n=t&&t.geometry.coordinates||e;return r.polygon(n)}(e),s=null;return"FeatureCollection"===t.type?s=a(2===(n=t).features.length?o.default.union(n.features[0].geometry.coordinates,n.features[1].geometry.coordinates):o.default.union.apply(o.default,n.features.map((function(t){return t.geometry.coordinates})))):s=a(o.default.union(t.geometry.coordinates)),s.geometry.coordinates.forEach((function(t){i.geometry.coordinates.push(t[0])})),i}function a(t){return r.multiPolygon(t)}t.exports=s,t.exports.default=s},1540:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102);function i(t,e,n){if(null!==t)for(var r,o,s,a,u,l,c,h,f=0,p=0,d=t.type,y="FeatureCollection"===d,g="Feature"===d,m=y?t.features.length:1,v=0;v<m;v++){u=(h=!!(c=y?t.features[v].geometry:g?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var _=0;_<u;_++){var b=0,x=0;if(null!==(a=h?c.geometries[_]:c)){l=a.coordinates;var w=a.type;switch(f=!n||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(l,p,v,b,x))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(!1===e(l[r],p,v,b,x))return!1;p++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(o=0;o<l[r].length-f;o++){if(!1===e(l[r][o],p,v,b,x))return!1;p++}"MultiLineString"===w&&b++,"Polygon"===w&&x++}"Polygon"===w&&b++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(x=0,o=0;o<l[r].length;o++){for(s=0;s<l[r][o].length-f;s++){if(!1===e(l[r][o][s],p,v,b,x))return!1;p++}x++}b++}break;case"GeometryCollection":for(r=0;r<a.geometries.length;r++)if(!1===i(a.geometries[r],e,n))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function o(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length&&!1!==e(t.features[n].properties,n);n++);break;case"Feature":e(t.properties,0)}}function s(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length&&!1!==e(t.features[n],n);n++);}function a(t,e){var n,r,i,o,s,a,u,l,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,y=p?t.features.length:1;for(n=0;n<y;n++){for(a=p?t.features[n].geometry:d?t.geometry:t,l=p?t.features[n].properties:d?t.properties:{},c=p?t.features[n].bbox:d?t.bbox:void 0,h=p?t.features[n].id:d?t.id:void 0,s=(u=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,i=0;i<s;i++)if(null!==(o=u?a.geometries[i]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(o,f,l,c,h))return!1;break;case"GeometryCollection":for(r=0;r<o.geometries.length;r++)if(!1===e(o.geometries[r],f,l,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,f,l,c,h))return!1;f++}}function u(t,e){a(t,(function(t,n,i,o,s){var a,u=null===t?null:t.type;switch(u){case null:case"Point":case"LineString":case"Polygon":return!1!==e(r.feature(t,i,{bbox:o,id:s}),n,0)&&void 0}switch(u){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}for(var l=0;l<t.coordinates.length;l++){var c={type:a,coordinates:t.coordinates[l]};if(!1===e(r.feature(c,i),n,l))return!1}}))}function l(t,e){u(t,(function(t,n,o){var s=0;if(t.geometry){var a=t.geometry.type;if("Point"!==a&&"MultiPoint"!==a){var u,l=0,c=0,h=0;return!1!==i(t,(function(i,a,f,p,d){if(void 0===u||n>l||p>c||d>h)return u=i,l=n,c=p,h=d,void(s=0);var y=r.lineString([u,i],t.properties);if(!1===e(y,n,o,d,s))return!1;s++,u=i}))&&void 0}}}))}function c(t,e){if(!t)throw new Error("geojson is required");u(t,(function(t,n,i){if(null!==t.geometry){var o=t.geometry.type,s=t.geometry.coordinates;switch(o){case"LineString":if(!1===e(t,n,i,0,0))return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(!1===e(r.lineString(s[a],t.properties),n,i,a))return!1}}}))}e.coordAll=function(t){var e=[];return i(t,(function(t){e.push(t)})),e},e.coordEach=i,e.coordReduce=function(t,e,n,r){var o=n;return i(t,(function(t,r,i,s,a){o=0===r&&void 0===n?t:e(o,t,r,i,s,a)}),r),o},e.featureEach=s,e.featureReduce=function(t,e,n){var r=n;return s(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},e.findPoint=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.coordIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),u=u||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":u=u||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":return r.point(l,u,e);case"MultiPoint":return o<0&&(o=l.length+o),r.point(l[o],u,e);case"LineString":return a<0&&(a=l.length+a),r.point(l[a],u,e);case"Polygon":return s<0&&(s=l.length+s),a<0&&(a=l[s].length+a),r.point(l[s][a],u,e);case"MultiLineString":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a),r.point(l[o][a],u,e);case"MultiPolygon":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),a<0&&(a=l[o][s].length-a),r.point(l[o][s][a],u,e)}throw new Error("geojson is invalid")},e.findSegment=function(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n,i=e.featureIndex||0,o=e.multiFeatureIndex||0,s=e.geometryIndex||0,a=e.segmentIndex||0,u=e.properties;switch(t.type){case"FeatureCollection":i<0&&(i=t.features.length+i),u=u||t.features[i].properties,n=t.features[i].geometry;break;case"Feature":u=u||t.properties,n=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":n=t;break;default:throw new Error("geojson is invalid")}if(null===n)return null;var l=n.coordinates;switch(n.type){case"Point":case"MultiPoint":return null;case"LineString":return a<0&&(a=l.length+a-1),r.lineString([l[a],l[a+1]],u,e);case"Polygon":return s<0&&(s=l.length+s),a<0&&(a=l[s].length+a-1),r.lineString([l[s][a],l[s][a+1]],u,e);case"MultiLineString":return o<0&&(o=l.length+o),a<0&&(a=l[o].length+a-1),r.lineString([l[o][a],l[o][a+1]],u,e);case"MultiPolygon":return o<0&&(o=l.length+o),s<0&&(s=l[o].length+s),a<0&&(a=l[o][s].length-a-1),r.lineString([l[o][s][a],l[o][s][a+1]],u,e)}throw new Error("geojson is invalid")},e.flattenEach=u,e.flattenReduce=function(t,e,n){var r=n;return u(t,(function(t,i,o){r=0===i&&0===o&&void 0===n?t:e(r,t,i,o)})),r},e.geomEach=a,e.geomReduce=function(t,e,n){var r=n;return a(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)})),r},e.lineEach=c,e.lineReduce=function(t,e,n){var r=n;return c(t,(function(t,i,o,s){r=0===i&&void 0===n?t:e(r,t,i,o,s)})),r},e.propEach=o,e.propReduce=function(t,e,n){var r=n;return o(t,(function(t,i){r=0===i&&void 0===n?t:e(r,t,i)})),r},e.segmentEach=l,e.segmentReduce=function(t,e,n){var r=n,i=!1;return l(t,(function(t,o,s,a,u){r=!1===i&&void 0===n?t:e(r,t,o,s,a,u),i=!0})),r}},9034:(t,e,n)=>{"use strict";var r=n(1208),i=n(3737),o=n(1013);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=s(r),u=s(i),l=s(o);function c(t,e){var n=l.default(t,e),r=a.default(t,e);return u.default(t,n/2,r)}t.exports=c,t.exports.default=c},920:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(5366)),o=n(1540);function s(t){for(var e=0,n=0,r=t;n<r.length;n++){e+=r[n]}return e/t.length}e.default=function(t,e){var n=e.inputField,r=e.threshold||1e5,a=e.p||2,u=e.binary||!1,l=e.alpha||-1,c=e.standardization||!0,h=i.default(t,{alpha:l,binary:u,p:a,standardization:c,threshold:r}),f=[];o.featureEach(t,(function(t){var e=t.properties||{};f.push(e[n])}));for(var p=s(f),d=function(t){for(var e=s(t),n=0,r=0,i=t;r<i.length;r++){var o=i[r];n+=Math.pow(o-e,2)}return n/t.length}(f),y=0,g=0,m=0,v=0,_=h.length,b=0;b<_;b++){for(var x=0,w=0;w<_;w++)y+=h[b][w]*(f[b]-p)*(f[w]-p),g+=h[b][w],m+=Math.pow(h[b][w]+h[w][b],2),x+=h[b][w]+h[w][b];v+=Math.pow(x,2)}var E=y/g/d,S=-1/(_-1),P=(_*_*(m*=.5)-_*v+g*g*3)/((_-1)*(_+1)*(g*g))-S*S,C=Math.sqrt(P);return{expectedMoranIndex:S,moranIndex:E,stdNorm:C,zNorm:(E-S)/C}}},3807:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1208)),o=r(n(1013)),s=r(n(3737)),a=r(n(3663)),u=n(1540),l=n(4102),c=n(611);e.default=function(t,e,n){void 0===n&&(n={});var r=l.point([1/0,1/0],{dist:1/0}),h=0;return u.flattenEach(t,(function(t){for(var u=c.getCoords(t),f=0;f<u.length-1;f++){var p=l.point(u[f]);p.properties.dist=o.default(e,p,n);var d=l.point(u[f+1]);d.properties.dist=o.default(e,d,n);var y=o.default(p,d,n),g=Math.max(p.properties.dist,d.properties.dist),m=i.default(p,d),v=s.default(e,g,m+90,n),_=s.default(e,g,m-90,n),b=a.default(l.lineString([v.geometry.coordinates,_.geometry.coordinates]),l.lineString([p.geometry.coordinates,d.geometry.coordinates])),x=null;b.features.length>0&&((x=b.features[0]).properties.dist=o.default(e,x,n),x.properties.location=h+o.default(p,x,n)),p.properties.dist<r.properties.dist&&((r=p).properties.index=f,r.properties.location=h),d.properties.dist<r.properties.dist&&((r=d).properties.index=f+1,r.properties.location=h+y),x&&x.properties.dist<r.properties.dist&&((r=x).properties.index=f),h+=y}})),r}},2059:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(611),o=n(1540),s=r(n(3892)),a=r(n(7418));e.default=function(t,e,n){void 0===n&&(n={});var r=n.units,u=n.properties||{},l=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return o.geomEach(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t);if(!l.features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==i.getType(e))throw new Error("line must be a LineString");var c=1/0,h=null;return o.featureEach(l,(function(t){var n=s.default(t,e,{units:r});n<c&&(c=n,h=t)})),h&&(h.properties=a.default({dist:c},h.properties,u)),h}},6379:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(6565)),o=r(n(1013)),s=n(1540);e.default=function(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,r=1/0,a=0;return s.featureEach(e,(function(e,n){var i=o.default(t,e);i<r&&(a=n,r=i)})),(n=i.default(e.features[a])).properties.featureIndex=a,n.properties.distanceToPoint=r,n}},3377:(t,e,n)=>{"use strict";var r=n(611);function i(t,e){var n=r.getCoord(t),i=r.getGeom(e).coordinates[0];if(i.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var o=e.properties||{},s=o.a,a=o.b,u=o.c,l=n[0],c=n[1],h=i[0][0],f=i[0][1],p=void 0!==s?s:i[0][2],d=i[1][0],y=i[1][1],g=void 0!==a?a:i[1][2],m=i[2][0],v=i[2][1],_=void 0!==u?u:i[2][2];return(_*(l-h)*(c-y)+p*(l-d)*(c-v)+g*(l-m)*(c-f)-g*(l-h)*(c-v)-_*(l-d)*(c-f)-p*(l-m)*(c-y))/((l-h)*(c-y)+(l-d)*(c-v)+(l-m)*(c-f)-(l-h)*(c-v)-(l-d)*(c-f)-(l-m)*(c-y))}t.exports=i,t.exports.default=i},6813:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(5184)),o=r(n(1013)),s=n(4102);e.default=function(t,e,n){void 0===n&&(n={}),n.mask&&!n.units&&(n.units="kilometers");for(var r=[],a=t[0],u=t[1],l=t[2],c=t[3],h=e/o.default([a,u],[l,u],n)*(l-a),f=e/o.default([a,u],[a,c],n)*(c-u),p=l-a,d=c-u,y=Math.floor(p/h),g=(d-Math.floor(d/f)*f)/2,m=a+(p-y*h)/2;m<=l;){for(var v=u+g;v<=c;){var _=s.point([m,v],n.properties);n.mask?i.default(_,n.mask)&&r.push(_):r.push(_),v+=f}m+=h}return s.featureCollection(r)}},5771:(t,e,n)=>{"use strict";var r=n(3922),i=n(8230),o=n(6379),s=n(8147),a=n(4102);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(r),c=u(i),h=u(o),f=u(s);function p(t){for(var e=function(t){if("FeatureCollection"!==t.type)return"Feature"!==t.type?a.featureCollection([a.feature(t)]):a.featureCollection([t]);return t}(t),n=c.default(e),r=!1,i=0;!r&&i<e.features.length;){var o,s=e.features[i].geometry,u=!1;if("Point"===s.type)n.geometry.coordinates[0]===s.coordinates[0]&&n.geometry.coordinates[1]===s.coordinates[1]&&(r=!0);else if("MultiPoint"===s.type){var p=!1;for(o=0;!p&&o<s.coordinates.length;)n.geometry.coordinates[0]===s.coordinates[o][0]&&n.geometry.coordinates[1]===s.coordinates[o][1]&&(r=!0,p=!0),o++}else if("LineString"===s.type)for(o=0;!u&&o<s.coordinates.length-1;)d(n.geometry.coordinates[0],n.geometry.coordinates[1],s.coordinates[o][0],s.coordinates[o][1],s.coordinates[o+1][0],s.coordinates[o+1][1])&&(u=!0,r=!0),o++;else if("MultiLineString"===s.type)for(var y=0;y<s.coordinates.length;){u=!1,o=0;for(var g=s.coordinates[y];!u&&o<g.length-1;)d(n.geometry.coordinates[0],n.geometry.coordinates[1],g[o][0],g[o][1],g[o+1][0],g[o+1][1])&&(u=!0,r=!0),o++;y++}else"Polygon"!==s.type&&"MultiPolygon"!==s.type||f.default(n,s)&&(r=!0);i++}if(r)return n;var m=a.featureCollection([]);for(i=0;i<e.features.length;i++)m.features=m.features.concat(l.default(e.features[i]).features);return a.point(h.default(n,m).geometry.coordinates)}function d(t,e,n,r,i,o){return Math.sqrt((i-n)*(i-n)+(o-r)*(o-r))===Math.sqrt((t-n)*(t-n)+(e-r)*(e-r))+Math.sqrt((i-t)*(i-t)+(o-e)*(o-e))}t.exports=p,t.exports.default=p},3892:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1013)),o=n(4102),s=n(611),a=n(1540),u=r(n(6213));function l(t,e){return t[0]*e[0]+t[1]*e[1]}function c(t,e,n){return"planar"===n.method?u.default(t,e,n):i.default(t,e,n)}e.default=function(t,e,n){if(void 0===n&&(n={}),n.method||(n.method="geodesic"),n.units||(n.units="kilometers"),!t)throw new Error("pt is required");if(Array.isArray(t)?t=o.point(t):"Point"===t.type?t=o.feature(t):s.featureOf(t,"Point","point"),!e)throw new Error("line is required");Array.isArray(e)?e=o.lineString(e):"LineString"===e.type?e=o.feature(e):s.featureOf(e,"LineString","line");var r=1/0,i=t.geometry.coordinates;return a.segmentEach(e,(function(t){var e=t.geometry.coordinates[0],o=t.geometry.coordinates[1],s=function(t,e,n,r){var i=[n[0]-e[0],n[1]-e[1]],o=l([t[0]-e[0],t[1]-e[1]],i);if(o<=0)return c(t,e,{method:r.method,units:"degrees"});var s=l(i,i);if(s<=o)return c(t,n,{method:r.method,units:"degrees"});var a=o/s,u=[e[0]+a*i[0],e[1]+a*i[1]];return c(t,u,{method:r.method,units:"degrees"})}(i,e,o,n);s<r&&(r=s)})),o.convertLength(r,"degrees",n.units)}},187:(t,e,n)=>{"use strict";var r=n(8147),i=n(4102),o=n(1540);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=s(r);function u(t,e){var n=[];return o.featureEach(t,(function(t){var r=!1;if("Point"===t.geometry.type)o.geomEach(e,(function(e){a.default(t,e)&&(r=!0)})),r&&n.push(t);else{if("MultiPoint"!==t.geometry.type)throw new Error("Input geometry must be a Point or MultiPoint");var s=[];o.geomEach(e,(function(e){o.coordEach(t,(function(t){a.default(t,e)&&(r=!0,s.push(t))}))})),r&&n.push(i.multiPoint(s))}})),i.featureCollection(n)}t.exports=u,t.exports.default=u},4978:(t,e,n)=>{"use strict";var r=n(1540),i=n(4102);function o(t,e){var n=[],o=e.iterations||1;if(!t)throw new Error("inputPolys is required");return r.geomEach(t,(function(t,e,r){var u,l,c;switch(t.type){case"Polygon":u=[[]];for(var h=0;h<o;h++)c=[[]],l=t,h>0&&(l=i.polygon(u).geometry),s(l,c),u=c.slice(0);n.push(i.polygon(u,r));break;case"MultiPolygon":u=[[[]]];for(var f=0;f<o;f++)c=[[[]]],l=t,f>0&&(l=i.multiPolygon(u).geometry),a(l,c),u=c.slice(0);n.push(i.multiPolygon(u,r));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}})),i.featureCollection(n)}function s(t,e){var n=0,i=0;r.coordEach(t,(function(r,o,s,a,u){u>n&&(n=u,i=o,e.push([]));var l=o-i,c=t.coordinates[u][l+1],h=r[0],f=r[1],p=c[0],d=c[1];e[u].push([.75*h+.25*p,.75*f+.25*d]),e[u].push([.25*h+.75*p,.25*f+.75*d])}),!0),e.forEach((function(t){t.push(t[0])}))}function a(t,e){var n=0,i=0,o=0;r.coordEach(t,(function(r,s,a,u,l){u>o&&(o=u,i=s,e.push([[]])),l>n&&(n=l,i=s,e[u].push([]));var c=s-i,h=t.coordinates[u][l][c+1],f=r[0],p=r[1],d=h[0],y=h[1];e[u][l].push([.75*f+.25*d,.75*p+.25*y]),e[u][l].push([.25*f+.75*d,.25*p+.75*y])}),!0),e.forEach((function(t){t.forEach((function(t){t.push(t[0])}))}))}t.exports=o,t.exports.default=o},5215:(t,e,n)=>{"use strict";var r=n(611),i=n(4102),o=n(9705),s=n(3922),a=n(6379);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(o),c=u(s),h=u(a);function f(t,e){var n,o,s,a,u=r.getCoords(t),f=r.getCoords(e),d=l.default(e),g=0,m=null;switch(u[0]>d[0]&&u[0]<d[2]&&u[1]>d[1]&&u[1]<d[3]&&(g=(m=h.default(t,c.default(e))).properties.featureIndex),r.getType(e)){case"Polygon":n=f[0][g],o=f[0][0],null!==m&&m.geometry.coordinates[1]<u[1]&&(o=f[0][g]),a=y(f[0][0],f[0][f[0].length-1],u);var v=p(f[0],u,a,s,n,o);n=v[0],o=v[1];break;case"MultiPolygon":for(var _=0,b=0,x=0,w=0;w<f[0].length;w++){_=w;for(var E=!1,S=0;S<f[0][w].length;S++){if(b=S,x===g){E=!0;break}x++}if(E)break}n=f[0][_][b],o=f[0][_][b],a=y(f[0][0][0],f[0][0][f[0][0].length-1],u),f.forEach((function(t){var e=p(t[0],u,a,s,n,o);n=e[0],o=e[1]}))}return i.featureCollection([i.point(n),i.point(o)])}function p(t,e,n,r,i,o){for(var s=0;s<t.length;s++){var a=t[s],u=t[s+1];s===t.length-1&&(u=t[0]),r=y(a,u,e),n<=0&&r>0?y(e,a,i)<0||(i=a):n>0&&r<=0&&(d(e,a,o)||(o=a)),n=r}return[i,o]}function d(t,e,n){return y(t,e,n)>0}function y(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}t.exports=f,t.exports.default=f},7383:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(611);function o(t,e){return void 0===e&&(e={}),a(i.getGeom(t).coordinates,e.properties?e.properties:"Feature"===t.type?t.properties:{})}function s(t,e){void 0===e&&(e={});var n=i.getGeom(t).coordinates,o=e.properties?e.properties:"Feature"===t.type?t.properties:{},s=[];return n.forEach((function(t){s.push(a(t,o))})),r.featureCollection(s)}function a(t,e){return t.length>1?r.multiLineString(t,e):r.lineString(t[0],e)}e.default=function(t,e){void 0===e&&(e={});var n=i.getGeom(t);switch(e.properties||"Feature"!==t.type||(e.properties=t.properties),n.type){case"Polygon":return o(n,e);case"MultiPolygon":return s(n,e);default:throw new Error("invalid poly")}},e.polygonToLine=o,e.multiPolygonToLine=s,e.coordsToLine=a},4312:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4102),o=r(n(7254)),s=r(n(6467));e.default=function(t){var e=o.default.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],r=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):r.push(t)})),n.forEach((function(t){s.default.findEdgeRingContaining(t,r)&&r.push(t)})),i.featureCollection(r.map((function(t){return t.toPolygon()})))}},5344:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(4772),o=function(){function t(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return t.prototype.getSymetric=function(){return this.symetric||(this.symetric=new t(this.to,this.from),this.symetric.symetric=this),this.symetric},t.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},t.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},t.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},t.prototype.toLineString=function(){return r.lineString([this.from.coordinates,this.to.coordinates])},t.prototype.compareTo=function(t){return i.orientationIndex(t.from.coordinates,t.to.coordinates,this.to.coordinates)},t}();e.default=o},6467:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4772),o=n(4102),s=r(n(9062)),a=r(n(8147)),u=function(){function t(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return t.prototype.push=function(t){this.edges.push(t),this.polygon=this.envelope=void 0},t.prototype.get=function(t){return this.edges[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.edges.forEach(t)},t.prototype.map=function(t){return this.edges.map(t)},t.prototype.some=function(t){return this.edges.some(t)},t.prototype.isValid=function(){return!0},t.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,r){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=r),e}),0),n=(0===e?this.length:e)-1,r=(e+1)%this.length,o=i.orientationIndex(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[r].from.coordinates);return 0===o?this.edges[n].from.coordinates[0]>this.edges[r].from.coordinates[0]:o>0},t.prototype.toMultiPoint=function(){return o.multiPoint(this.edges.map((function(t){return t.from.coordinates})))},t.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=o.polygon([t])},t.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=s.default(this.toPolygon())},t.findEdgeRingContaining=function(t,e){var n,r,s=t.getEnvelope();return e.forEach((function(e){var a=e.getEnvelope();if(r&&(n=r.getEnvelope()),!i.envelopeIsEqual(a,s)&&i.envelopeContains(a,s)){for(var u=t.map((function(t){return t.from.coordinates})),l=void 0,c=function(t){e.some((function(e){return i.coordinatesEqual(t,e.from.coordinates)}))||(l=t)},h=0,f=u;h<f.length;h++){c(f[h])}l&&e.inside(o.point(l))&&(r&&!i.envelopeContains(n,a)||(r=e))}})),r},t.prototype.inside=function(t){return a.default(t,this.toPolygon())},t}();e.default=u},7254:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(3424)),o=r(n(5344)),s=r(n(6467)),a=n(1540),u=n(611);var l=function(){function t(){this.edges=[],this.nodes={}}return t.fromGeoJson=function(e){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(e);var n=new t;return a.flattenEach(e,(function(t){u.featureOf(t,"LineString","Graph::fromGeoJson"),a.coordReduce(t,(function(t,e){if(t){var r=n.getNode(t),i=n.getNode(e);n.addEdge(r,i)}return e}))})),n},t.prototype.getNode=function(t){var e=i.default.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new i.default(t)),n},t.prototype.addEdge=function(t,e){var n=new o.default(t,e),r=n.getSymetric();this.edges.push(n),this.edges.push(r)},t.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},t.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},t.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},t.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},t.prototype._computeNextCCWEdges=function(t,e){for(var n,r,i=t.getOuterEdges(),o=i.length-1;o>=0;--o){var s=i[o],a=s.symetric,u=void 0,l=void 0;s.label===e&&(u=s),a.label===e&&(l=a),u&&l&&(l&&(r=l),u&&(r&&(r.next=u,r=void 0),n||(n=u)))}r&&(r.next=n)},t.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var r=n;do{r.label=e,r=r.next}while(!n.isEqual(r));e++}})),t},t.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},t.prototype._findIntersectionNodes=function(t){var e=[],n=t,r=function(){var r=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++r})),r>1&&e.push(n.from),n=n.next};do{r()}while(!t.isEqual(n));return e},t.prototype._findEdgeRing=function(t){var e=t,n=new s.default;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},t.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},t.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()},t}();e.default=l},3424:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4772),i=function(){function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return t.buildId=function(t){return t.join(",")},t.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},t.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},t.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},t.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var i=e.to,o=n.to;if(i.coordinates[0]-t.coordinates[0]>=0&&o.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&o.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&o.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||o.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-o.coordinates[1]:o.coordinates[1]-i.coordinates[1];var s=r.orientationIndex(t.coordinates,i.coordinates,o.coordinates);return s<0?1:s>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(o.coordinates[0]-t.coordinates[0],2)+Math.pow(o.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},t.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},t.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},t.prototype.addInnerEdge=function(t){this.innerEdges.push(t)},t}();e.default=i},4772:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(8147)),o=n(4102);e.orientationIndex=function(t,e,n){var r,i=e[0]-t[0],o=e[1]-t[1],s=n[0]-e[0],a=n[1]-e[1];return((r=i*a-s*o)>0)-(r<0)||+r},e.envelopeIsEqual=function(t,e){var n=t.geometry.coordinates[0].map((function(t){return t[0]})),r=t.geometry.coordinates[0].map((function(t){return t[1]})),i=e.geometry.coordinates[0].map((function(t){return t[0]})),o=e.geometry.coordinates[0].map((function(t){return t[1]}));return Math.max.apply(null,n)===Math.max.apply(null,i)&&Math.max.apply(null,r)===Math.max.apply(null,o)&&Math.min.apply(null,n)===Math.min.apply(null,i)&&Math.min.apply(null,r)===Math.min.apply(null,o)},e.envelopeContains=function(t,e){return e.geometry.coordinates[0].every((function(e){return i.default(o.point(e),t)}))},e.coordinatesEqual=function(t,e){return t[0]===e[0]&&t[1]===e[1]}},981:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(1540),o=n(4102),s=r(n(6565));function a(t,e,n){void 0===n&&(n={});var r=(n=n||{}).mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&o.isNumber(t[0])?t="mercator"===e?u(t):l(t):(!0!==r&&(t=s.default(t)),i.coordEach(t,(function(t){var n="mercator"===e?u(t):l(t);t[0]=n[0],t[1]=n[1]}))),t}function u(t){var e,n=Math.PI/180,r=6378137,i=20037508.342789244,o=[r*(Math.abs(t[0])<=180?t[0]:t[0]-360*((e=t[0])<0?-1:e>0?1:0))*n,r*Math.log(Math.tan(.25*Math.PI+.5*t[1]*n))];return o[0]>i&&(o[0]=i),o[0]<-i&&(o[0]=-i),o[1]>i&&(o[1]=i),o[1]<-i&&(o[1]=-i),o}function l(t){var e=180/Math.PI,n=6378137;return[t[0]*e/n,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/n)))*e]}e.toMercator=function(t,e){return void 0===e&&(e={}),a(t,"mercator",e)},e.toWgs84=function(t,e){return void 0===e&&(e={}),a(t,"wgs84",e)}},6295:function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4102);function o(t){return Array.isArray(t)?a(t):t&&t.bbox?a(t.bbox):[360*s(),180*s()]}function s(){return Math.random()-.5}function a(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}e.randomPosition=o,e.randomPoint=function(t,e){void 0===e&&(e={}),null==t&&(t=1);for(var n=[],r=0;r<t;r++)n.push(i.point(o(e.bbox)));return i.featureCollection(n)},e.randomPolygon=function(t,e){void 0===e&&(e={}),null==t&&(t=1),i.isNumber(e.num_vertices)&&void 0!==e.num_vertices||(e.num_vertices=10),i.isNumber(e.max_radial_length)&&void 0!==e.max_radial_length||(e.max_radial_length=10);for(var n=[],s=function(t){var s,a=[],u=r(Array(e.num_vertices+1)).map(Math.random);u.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),u.forEach((function(t){t=2*t*Math.PI/u[u.length-1];var n=Math.random();a.push([n*(e.max_radial_length||10)*Math.sin(t),n*(e.max_radial_length||10)*Math.cos(t)])})),a[a.length-1]=a[0],a=a.map((s=o(e.bbox),function(t){return[t[0]+s[0],t[1]+s[1]]})),n.push(i.polygon([a]))},a=0;a<t;a++)s();return i.featureCollection(n)},e.randomLineString=function(t,e){if(void 0===e&&(e={}),e=e||{},!i.isObject(e))throw new Error("options is invalid");var n=e.bbox,r=e.num_vertices,s=e.max_length,a=e.max_rotation;null==t&&(t=1),(!i.isNumber(r)||void 0===r||r<2)&&(r=10),i.isNumber(s)&&void 0!==s||(s=1e-4),i.isNumber(a)&&void 0!==a||(a=Math.PI/8);for(var u=[],l=0;l<t;l++){for(var c=[o(n)],h=0;h<r-1;h++){var f=(0===h?2*Math.random()*Math.PI:Math.tan((c[h][1]-c[h-1][1])/(c[h][0]-c[h-1][0])))+(Math.random()-.5)*a*2,p=Math.random()*s;c.push([c[h][0]+p*Math.cos(f),c[h][1]+p*Math.sin(f)])}u.push(i.lineString(c))}return i.featureCollection(u)}},4131:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(5745)),o=r(n(1013)),s=n(4102);e.default=function(t,e,n,r){void 0===r&&(r={});for(var a=[],u=t[0],l=t[1],c=t[2],h=t[3],f=e/o.default([u,l],[c,l],r)*(c-u),p=n/o.default([u,l],[u,h],r)*(h-l),d=c-u,y=h-l,g=Math.floor(d/f),m=Math.floor(y/p),v=(y-m*p)/2,_=u+(d-g*f)/2,b=0;b<g;b++){for(var x=l+v,w=0;w<m;w++){var E=s.polygon([[[_,x],[_,x+p],[_+f,x+p],[_+f,x],[_,x]]],r.properties);r.mask?i.default(r.mask,E)&&a.push(E):a.push(E),x+=p}_+=f}return s.featureCollection(a)}},1138:(t,e,n)=>{"use strict";var r=n(6565),i=n(3809),o=n(1540),s=n(611),a=n(4102);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(r),c=u(i);function h(t,e){if(e=e||{},!a.isObject(e))throw new Error("options is invalid");var n=e.reverse||!1,r=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof r)throw new Error("<mutate> must be a boolean");!1===r&&(t=l.default(t));var i=[];switch(t.type){case"GeometryCollection":return o.geomEach(t,(function(t){f(t,n)})),t;case"FeatureCollection":return o.featureEach(t,(function(t){o.featureEach(f(t,n),(function(t){i.push(t)}))})),a.featureCollection(i)}return f(t,n)}function f(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return o.geomEach(t,(function(t){f(t,e)})),t;case"LineString":return p(s.getCoords(t),e),t;case"Polygon":return d(s.getCoords(t),e),t;case"MultiLineString":return s.getCoords(t).forEach((function(t){p(t,e)})),t;case"MultiPolygon":return s.getCoords(t).forEach((function(t){d(t,e)})),t;case"Point":case"MultiPoint":return t}}function p(t,e){c.default(t)===e&&t.reverse()}function d(t,e){c.default(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)c.default(t[n])===e&&t[n].reverse()}t.exports=h,t.exports.default=h},2054:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(611);function o(t,e){var n=r.degreesToRadians(t[1]),i=r.degreesToRadians(e[1]),o=r.degreesToRadians(e[0]-t[0]);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);var s=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(n/2+Math.PI/4)),a=Math.atan2(o,s);return(r.radiansToDegrees(a)+360)%360}e.default=function(t,e,n){var r;return void 0===n&&(n={}),(r=n.final?o(i.getCoord(e),i.getCoord(t)):o(i.getCoord(t),i.getCoord(e)))>180?-(360-r):r}},6082:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(611);e.default=function(t,e,n,o){void 0===o&&(o={});var s=e<0,a=r.convertLength(Math.abs(e),o.units,"meters");s&&(a=-Math.abs(a));var u=i.getCoord(t),l=function(t,e,n,i){i=void 0===i?r.earthRadius:Number(i);var o=e/i,s=t[0]*Math.PI/180,a=r.degreesToRadians(t[1]),u=r.degreesToRadians(n),l=o*Math.cos(u),c=a+l;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var h=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=Math.abs(h)>1e-11?l/h:Math.cos(a),p=o*Math.sin(u)/f;return[(180*(s+p)/Math.PI+540)%360-180,180*c/Math.PI]}(u,a,n);return l[0]+=l[0]-u[0]>180?-360:u[0]-l[0]>180?360:0,r.point(l,o.properties)}},6213:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102),i=n(611);e.default=function(t,e,n){void 0===n&&(n={});var o=i.getCoord(t),s=i.getCoord(e);s[0]+=s[0]-o[0]>180?-360:o[0]-s[0]>180?360:0;var a=function(t,e,n){var i=n=void 0===n?r.earthRadius:Number(n),o=t[1]*Math.PI/180,s=e[1]*Math.PI/180,a=s-o,u=Math.abs(e[0]-t[0])*Math.PI/180;u>Math.PI&&(u-=2*Math.PI);var l=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(o/2+Math.PI/4)),c=Math.abs(l)>1e-11?a/l:Math.cos(o);return Math.sqrt(a*a+c*c*u*u)*i}(o,s);return r.convertLength(a,"meters",n.units)}},3503:(t,e,n)=>{"use strict";var r=n(4102);function i(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return r.featureCollection(function(t,e){var n,r,i=t.slice(0),o=t.length,s=o-e;for(;o-- >s;)n=i[r=Math.floor((o+1)*Math.random())],i[r]=i[o],i[o]=n;return i.slice(s)}(t.features,e))}t.exports=i,t.exports.default=i},1674:(t,e,n)=>{"use strict";var r=n(265),i=n(7272),o=n(1540),s=n(4102),a=n(611);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(r),c=u(i);function h(t,e,n,r,i){if(i=i||{},!s.isObject(i))throw new Error("options is invalid");var u=i.properties;if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==r)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof i)throw new Error("options must be an object");if(f(n)===f(r))return l.default(t,e,i);var h=a.getCoords(t),p=c.default(t,e,n,r,i),d=[[h]];return o.coordEach(p,(function(t){d[0].push(t)})),d[0].push(h),s.polygon(d,u)}function f(t){var e=t%360;return e<0&&(e+=360),e}t.exports=h,t.exports.default=h},3550:(t,e,n)=>{"use strict";var r=n(9705),i=n(8147),o=n(1013),s=n(7517),a=n(1435),u=n(3652),l=n(611),c=n(4102);function h(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var f=h(r),p=h(i),d=h(o),y=h(s),g=h(a),m=h(u);function v(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}var _={search:function(t,e,n,r){t.cleanDirty();var i=(r=r||{}).heuristic||_.heuristics.manhattan,o=r.closest||!1,s=new w((function(t){return t.f})),a=e;for(e.h=i(e,n),s.push(e);s.size()>0;){var u=s.pop();if(u===n)return v(u);u.closed=!0;for(var l=t.neighbors(u),c=0,h=l.length;c<h;++c){var f=l[c];if(!f.closed&&!f.isWall()){var p=u.g+f.getCost(u),d=f.visited;(!d||p<f.g)&&(f.visited=!0,f.parent=u,f.h=f.h||i(f,n),f.g=p,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),d?s.rescoreElement(f):s.push(f))}}}return o?v(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),r=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return 1*(r+i)+(n-2)*Math.min(r,i)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};function b(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var r=0,i=t[n];r<i.length;r++){var o=new x(n,r,i[r]);this.grid[n][r]=o,this.nodes.push(o)}}this.init()}function x(t,e,n){this.x=t,this.y=e,this.weight=n}function w(t){this.content=[],this.scoreFunction=t}function E(t,e,n){if(n=n||{},!c.isObject(n))throw new Error("options is invalid");var r=n.resolution,i=n.minDistance,o=n.obstacles||c.featureCollection([]);if(!t)throw new Error("start is required");if(!e)throw new Error("end is required");if(r&&!c.isNumber(r)||r<=0)throw new Error("options.resolution must be a number, greater than 0");if(i)throw new Error("options.minDistance is not yet implemented");var s=l.getCoord(t),a=l.getCoord(e);switch(t=c.point(s),e=c.point(a),l.getType(o)){case"FeatureCollection":if(0===o.features.length)return c.lineString([s,a]);break;case"Polygon":o=c.featureCollection([c.feature(l.getGeom(o))]);break;default:throw new Error("invalid obstacles")}var u=o;u.features.push(t),u.features.push(e);var h=f.default(y.default(m.default(f.default(u)),1.15));r||(r=d.default([h[0],h[1]],[h[2],h[1]],n)/100);u.features.pop(),u.features.pop();for(var p=h[0],v=h[1],x=h[2],w=h[3],E=r/d.default([p,v],[x,v],n)*(x-p),P=r/d.default([p,v],[p,w],n)*(w-v),C=x-p,I=w-v,M=Math.floor(C/E),O=Math.floor(I/P),T=(C-M*E)/2,L=[],N=[],A=[],R=[],D=1/0,k=1/0,F=w-(I-O*P)/2,B=0;F>=v;){for(var j=[],z=[],G=p+T,q=0;G<=x;){var U=c.point([G,F]),V=S(U,o);j.push(V?0:1),z.push(G+"|"+F);var X=d.default(U,t);!V&&X<D&&(D=X,A={x:q,y:B});var Y=d.default(U,e);!V&&Y<k&&(k=Y,R={x:q,y:B}),G+=E,q++}N.push(j),L.push(z),F-=P,B++}var H=new b(N,{diagonal:!0}),W=H.grid[A.y][A.x],J=H.grid[R.y][R.x],K=_.search(H,W,J),Z=[s];return K.forEach((function(t){var e=L[t.x][t.y].split("|");Z.push([+e[0],+e[1]])})),Z.push(a),g.default(c.lineString(Z))}function S(t,e){for(var n=0;n<e.features.length;n++)if(p.default(t,e.features[n]))return!0;return!1}b.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)_.cleanNode(this.nodes[t])},b.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)_.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},b.prototype.markDirty=function(t){this.dirtyNodes.push(t)},b.prototype.neighbors=function(t){var e=[],n=t.x,r=t.y,i=this.grid;return i[n-1]&&i[n-1][r]&&e.push(i[n-1][r]),i[n+1]&&i[n+1][r]&&e.push(i[n+1][r]),i[n]&&i[n][r-1]&&e.push(i[n][r-1]),i[n]&&i[n][r+1]&&e.push(i[n][r+1]),this.diagonal&&(i[n-1]&&i[n-1][r-1]&&e.push(i[n-1][r-1]),i[n+1]&&i[n+1][r-1]&&e.push(i[n+1][r-1]),i[n-1]&&i[n-1][r+1]&&e.push(i[n-1][r+1]),i[n+1]&&i[n+1][r+1]&&e.push(i[n+1][r+1])),e},b.prototype.toString=function(){for(var t,e,n,r,i=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,r=(e=o[s]).length;n<r;n++)t.push(e[n].weight);i.push(t.join(" "))}return i.join("\n")},x.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},x.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},x.prototype.isWall=function(){return 0===this.weight},w.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,r=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(r)))break;this.content[n]=e,this.content[t]=r,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],r=this.scoreFunction(n);;){var i,o=t+1<<1,s=o-1,a=null;if(s<e){var u=this.content[s];(i=this.scoreFunction(u))<r&&(a=s)}if(o<e){var l=this.content[o];this.scoreFunction(l)<(null===a?r:i)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}},t.exports=E,t.exports.default=E},7191:(t,e,n)=>{"use strict";var r=n(1435),i=n(6565),o=n(1540),s=n(4102);function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=a(r),l=a(i);function c(t,e,n){var r=e.x,i=e.y,o=n.x-r,s=n.y-i;if(0!==o||0!==s){var a=((t.x-r)*o+(t.y-i)*s)/(o*o+s*s);a>1?(r=n.x,i=n.y):a>0&&(r+=o*a,i+=s*a)}return(o=t.x-r)*o+(s=t.y-i)*s}function h(t,e,n,r,i){for(var o,s=r,a=e+1;a<n;a++){var u=c(t[a],t[e],t[n]);u>s&&(o=a,s=u)}s>r&&(o-e>1&&h(t,e,o,r,i),i.push(t[o]),n-o>1&&h(t,o,n,r,i))}function f(t,e){var n=t.length-1,r=[t[0]];return h(t,0,n,e,r),r.push(t[n]),r}function p(t,e,n){if(t.length<=2)return t;var r=void 0!==e?e*e:1;return t=f(t=n?t:function(t,e){for(var n,r,i,o,s,a=t[0],u=[a],l=1,c=t.length;l<c;l++)n=t[l],i=a,o=void 0,s=void 0,o=(r=n).x-i.x,s=r.y-i.y,o*o+s*s>e&&(u.push(n),a=n);return a!==n&&u.push(n),u}(t,r),r)}function d(t,e){if(e=e||{},!s.isObject(e))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,r=e.highQuality||!1,i=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==i&&(t=l.default(t)),o.geomEach(t,(function(t){!function(t,e,n){var r=t.type;if("Point"===r||"MultiPoint"===r)return t;u.default(t,!0);var i=t.coordinates;switch(r){case"LineString":t.coordinates=y(i,e,n);break;case"MultiLineString":t.coordinates=i.map((function(t){return y(t,e,n)}));break;case"Polygon":t.coordinates=g(i,e,n);break;case"MultiPolygon":t.coordinates=i.map((function(t){return g(t,e,n)}))}}(t,n,r)})),t}function y(t,e,n){return p(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function g(t,e,n){return t.map((function(t){var r=t.map((function(t){return{x:t[0],y:t[1]}}));if(r.length<4)throw new Error("invalid polygon");for(var i=p(r,e,n).map((function(t){return[t.x,t.y]}));!m(i);)i=p(r,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return i[i.length-1][0]===i[0][0]&&i[i.length-1][1]===i[0][1]||i.push(i[0]),i}))}function m(t){return!(t.length<3)&&!(3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}t.exports=d,t.exports.default=d},5434:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(4131));e.default=function(t,e,n){return void 0===n&&(n={}),i.default(t,e,e,n)}},5077:(t,e,n)=>{"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(n(1013));function o(t){var e=t[0],n=t[1],r=t[2],o=t[3];if(i.default(t.slice(0,2),[r,n])>=i.default(t.slice(0,2),[e,o])){var s=(n+o)/2;return[e,s-(r-e)/2,r,s+(r-e)/2]}var a=(e+r)/2;return[a-(o-n)/2,n,a+(o-n)/2,o]}t.exports=o,t.exports.default=o},3955:(t,e,n)=>{"use strict";var r=n(1540),i=n(611),o=n(4102),s=n(6320),a=n(187),u=n(1211);function l(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=l(s),h=l(a),f=l(u);function p(t,e){if(e=e||{},!o.isObject(e))throw new Error("options is invalid");var n=e.steps||64,s=e.weight,a=e.properties||{};if(!o.isNumber(n))throw new Error("steps must be a number");if(!o.isObject(a))throw new Error("properties must be a number");var u=r.coordAll(t).length,l=c.default(t,{weight:s}),p=0,y=0,g=0;r.featureEach(t,(function(t){var e=t.properties[s]||1,n=d(i.getCoords(t),i.getCoords(l));p+=Math.pow(n.x,2)*e,y+=Math.pow(n.y,2)*e,g+=n.x*n.y*e}));var m=p-y,v=Math.sqrt(Math.pow(m,2)+4*Math.pow(g,2)),_=2*g,b=Math.atan((m+v)/_),x=180*b/Math.PI,w=0,E=0,S=0;r.featureEach(t,(function(t){var e=t.properties[s]||1,n=d(i.getCoords(t),i.getCoords(l));w+=Math.pow(n.x*Math.cos(b)-n.y*Math.sin(b),2)*e,E+=Math.pow(n.x*Math.sin(b)+n.y*Math.cos(b),2)*e,S+=e}));var P=Math.sqrt(2*w/S),C=Math.sqrt(2*E/S),I=f.default(l,P,C,{units:"degrees",angle:x,steps:n,properties:a}),M=h.default(t,o.featureCollection([I])),O={meanCenterCoordinates:i.getCoords(l),semiMajorAxis:P,semiMinorAxis:C,numberOfFeatures:u,angle:x,percentageWithinEllipse:100*r.coordAll(M).length/u};return I.properties.standardDeviationalEllipse=O,I}function d(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}t.exports=p,t.exports.default=p},2015:(t,e,n)=>{"use strict";var r=n(8147),i=n(6565),o=n(1540);function s(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var a=s(r),u=s(i);function l(t,e,n,r){return t=u.default(t),e=u.default(e),o.featureEach(t,(function(t){t.properties||(t.properties={}),o.featureEach(e,(function(e){void 0===t.properties[r]&&a.default(t,e)&&(t.properties[r]=e.properties[n])}))})),t}t.exports=l,t.exports.default=l},5845:(t,e,n)=>{"use strict";var r=n(9187),i=n(4102);function o(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=o(r);function a(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=u(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(u(t))})),e}function u(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}(t),n=s.default(e.vertices,e.holes,2),r=[],o=[];n.forEach((function(t,r){var i=n[r];o.push([e.vertices[2*i],e.vertices[2*i+1]])}));for(var a=0;a<o.length;a+=3){var u=o.slice(a,a+3);u.push(o[a]),r.push(i.polygon([u]))}return r}t.exports=a,t.exports.default=a},8829:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4102);e.default=function(t,e){var n=!1;return r.featureCollection(function(t){if(t.length<3)return[];t.sort(o);var e,n,r,a,u,l,c=t.length-1,h=t[c].x,f=t[0].x,p=t[c].y,d=p,y=1e-12;for(;c--;)t[c].y<p&&(p=t[c].y),t[c].y>d&&(d=t[c].y);var g,m=f-h,v=d-p,_=m>v?m:v,b=.5*(f+h),x=.5*(d+p),w=[new i({__sentinel:!0,x:b-20*_,y:x-_},{__sentinel:!0,x:b,y:x+20*_},{__sentinel:!0,x:b+20*_,y:x-_})],E=[],S=[];c=t.length;for(;c--;){for(S.length=0,g=w.length;g--;)(m=t[c].x-w[g].x)>0&&m*m>w[g].r?(E.push(w[g]),w.splice(g,1)):m*m+(v=t[c].y-w[g].y)*v>w[g].r||(S.push(w[g].a,w[g].b,w[g].b,w[g].c,w[g].c,w[g].a),w.splice(g,1));for(s(S),g=S.length;g;)n=S[--g],e=S[--g],r=t[c],a=n.x-e.x,u=n.y-e.y,l=2*(a*(r.y-n.y)-u*(r.x-n.x)),Math.abs(l)>y&&w.push(new i(e,n,r))}Array.prototype.push.apply(E,w),c=E.length;for(;c--;)(E[c].a.__sentinel||E[c].b.__sentinel||E[c].c.__sentinel)&&E.splice(c,1);return E}(t.features.map((function(t){var r={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?r.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,r.z=t.geometry.coordinates[2]),r}))).map((function(t){var e=[t.a.x,t.a.y],i=[t.b.x,t.b.y],o=[t.c.x,t.c.y],s={};return n?(e.push(t.a.z),i.push(t.b.z),o.push(t.c.z)):s={a:t.a.z,b:t.b.z,c:t.c.z},r.polygon([[e,i,o,e]],s)})))};var i=function(t,e,n){this.a=t,this.b=e,this.c=n;var r,i,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,u=n.y-t.y,l=o*(t.x+e.x)+s*(t.y+e.y),c=a*(t.x+n.x)+u*(t.y+n.y),h=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(u*l-s*c)/h,this.y=(o*c-a*l)/h,r=this.x-t.x,i=this.y-t.y,this.r=r*r+i*i};function o(t,e){return e.x-t.x}function s(t){var e,n,r,i,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],r=s;r;)if(o=t[--r],e===(i=t[--r])&&n===o||e===o&&n===i){t.splice(s,2),t.splice(r,2),s-=2;continue t}}},67:(t,e,n)=>{"use strict";var r=n(6338),i=n(2054),o=n(6213),s=n(6082),a=n(6565),u=n(1540),l=n(611),c=n(4102);function h(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var f=h(r),p=h(i),d=h(o),y=h(s),g=h(a);function m(t,e,n){if(n=n||{},!c.isObject(n))throw new Error("options is invalid");var r=n.pivot,i=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e||(r||(r=f.default(t)),!1!==i&&void 0!==i||(t=g.default(t)),u.coordEach(t,(function(t){var n=p.default(r,t)+e,i=d.default(r,t),o=l.getCoords(y.default(r,i,n));t[0]=o[0],t[1]=o[1]}))),t}t.exports=m,t.exports.default=m},7517:(t,e,n)=>{"use strict";var r=n(6565),i=n(8230),o=n(6338),s=n(9705),a=n(2054),u=n(6213),l=n(6082),c=n(1540),h=n(4102),f=n(611);function p(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var d=p(r),y=p(i),g=p(o),m=p(s),v=p(a),_=p(u),b=p(l);function x(t,e,n){if(n=n||{},!h.isObject(n))throw new Error("options is invalid");var r=n.origin,i=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(r)||"object"==typeof r;return!0!==i&&(t=d.default(t)),"FeatureCollection"!==t.type||o?w(t,e,r):(c.featureEach(t,(function(n,i){t.features[i]=w(n,e,r)})),t)}function w(t,e,n){var r="Point"===f.getType(t);return n=function(t,e){null==e&&(e="centroid");if(Array.isArray(e)||"object"==typeof e)return f.getCoord(e);var n=t.bbox?t.bbox:m.default(t),r=n[0],i=n[1],o=n[2],s=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return h.point([r,i]);case"se":case"southeast":case"eastsouth":case"bottomright":return h.point([o,i]);case"nw":case"northwest":case"westnorth":case"topleft":return h.point([r,s]);case"ne":case"northeast":case"eastnorth":case"topright":return h.point([o,s]);case"center":return y.default(t);case void 0:case null:case"centroid":return g.default(t);default:throw new Error("invalid origin")}}(t,n),1===e||r||c.coordEach(t,(function(t){var r=_.default(n,t),i=v.default(n,t),o=r*e,s=f.getCoords(b.default(n,o,i));t[0]=s[0],t[1]=s[1],3===t.length&&(t[2]*=e)})),t}t.exports=x,t.exports.default=x},2418:(t,e,n)=>{"use strict";var r=n(1540),i=n(4102),o=n(611),s=n(6565),a=n(6082);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(s),c=u(a);function h(t,e,n,s){if(s=s||{},!i.isObject(s))throw new Error("options is invalid");var a=s.units,u=s.zTranslation,h=s.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(u&&"number"!=typeof u&&isNaN(u))throw new Error("zTranslation is not a number");if(u=void 0!==u?u:0,0===e&&0===u)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n+=180),!1!==h&&void 0!==h||(t=l.default(t)),r.coordEach(t,(function(t){var r=o.getCoords(c.default(t,e,n,{units:a}));t[0]=r[0],t[1]=r[1],u&&3===t.length&&(t[2]+=u)})),t}t.exports=h,t.exports.default=h},4686:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(1013)),o=r(n(4170)),s=n(4102);e.default=function(t,e,n){void 0===n&&(n={});for(var r=[],a=e/i.default([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),u=e/i.default([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),l=0,c=t[0];c<=t[2];){for(var h=0,f=t[1];f<=t[3];){var p=null,d=null;l%2==0&&h%2==0?(p=s.polygon([[[c,f],[c,f+u],[c+a,f],[c,f]]],n.properties),d=s.polygon([[[c,f+u],[c+a,f+u],[c+a,f],[c,f+u]]],n.properties)):l%2==0&&h%2==1?(p=s.polygon([[[c,f],[c+a,f+u],[c+a,f],[c,f]]],n.properties),d=s.polygon([[[c,f],[c,f+u],[c+a,f+u],[c,f]]],n.properties)):h%2==0&&l%2==1?(p=s.polygon([[[c,f],[c,f+u],[c+a,f+u],[c,f]]],n.properties),d=s.polygon([[[c,f],[c+a,f+u],[c+a,f],[c,f]]],n.properties)):h%2==1&&l%2==1&&(p=s.polygon([[[c,f],[c,f+u],[c+a,f],[c,f]]],n.properties),d=s.polygon([[[c,f+u],[c+a,f+u],[c+a,f],[c,f+u]]],n.properties)),n.mask?(o.default(n.mask,p)&&r.push(p),o.default(n.mask,d)&&r.push(d)):(r.push(p),r.push(d)),f+=u,h++}l++,c+=a}return s.featureCollection(r)}},5608:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1540);e.default=function(t,e){void 0===e&&(e={});var n=e.precision,i=e.coordinates,o=e.mutate;if(n=null==n||isNaN(n)?6:n,i=null==i||isNaN(i)?3:i,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof i)throw new Error("<coordinates> must be a number");!1!==o&&void 0!==o||(t=JSON.parse(JSON.stringify(t)));var s=Math.pow(10,n);return r.coordEach(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var r=0;r<t.length;r++)t[r]=Math.round(t[r]*e)/e}(t,s,i)})),t}},8347:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7928),i=n(7382),o=n(187),s=n(8538),a=n(305),u=n(7970),l=n(7191),c=n(7478),h=n(2015),f=n(3503),p=n(9062),d=n(5077),y=n(265),g=n(9034),m=n(8230),v=n(5084),_=n(6338),b=n(8141),x=n(1013),w=n(3922),E=n(9705),S=n(5845),P=n(3652),C=n(8147),I=n(6379),M=n(3807),O=n(2059),T=n(3377),L=n(8829),N=n(1208),A=n(3737),R=n(1641),D=n(5771),k=n(1070),F=n(5913),B=n(91),j=n(4792),z=n(1378),G=n(6813),q=n(5608),U=n(4288),V=n(3663),X=n(9632),Y=n(4404),H=n(5422),W=n(4590),J=n(7477),K=n(7272),Z=n(7383),Q=n(1933),$=n(173),tt=n(273),et=n(1674),nt=n(2054),rt=n(6213),it=n(6082),ot=n(5215),st=n(1138),at=n(7406),ut=n(67),lt=n(7517),ct=n(2418),ht=n(5668),ft=n(4312),pt=n(5883),dt=n(4766),yt=n(7656),gt=n(3809),mt=n(7612),vt=n(2793),_t=n(9482),bt=n(5184),xt=n(5745),wt=n(6565),Et=n(1435),St=n(1495),Pt=n(6398),Ct=n(3892),It=n(4840),Mt=n(3550),Ot=n(2276),Tt=n(1211),Lt=n(6320),Nt=n(2935),At=n(3955),Rt=n(8517),Dt=n(4978),kt=n(920),Ft=n(5366),Bt=n(981),jt=n(6295),zt=n(3140),Gt=n(4102),qt=n(611),Ut=n(1540),Vt=n(8727),Xt=n(5950),Yt=n(1959),Ht=n(4170),Wt=n(2407),Jt=n(5621),Kt=n(482),Zt=n(5434),Qt=n(4686),$t=n(5566);function te(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}function ee(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var ne=te(r),re=te(i),ie=te(o),oe=te(s),se=te(a),ae=te(u),ue=te(l),le=te(c),ce=te(h),he=te(f),fe=te(p),pe=te(d),de=te(y),ye=te(g),ge=te(m),me=te(v),ve=te(_),_e=te(b),be=te(x),xe=te(w),we=te(E),Ee=te(S),Se=te(P),Pe=te(C),Ce=te(I),Ie=te(M),Me=te(O),Oe=te(T),Te=te(L),Le=te(N),Ne=te(A),Ae=te(R),Re=te(D),De=te(k),ke=te(F),Fe=te(B),Be=te(j),je=te(z),ze=te(G),Ge=te(q),qe=te(U),Ue=te(V),Ve=te(X),Xe=te(Y),Ye=te(H),He=te(W),We=te(J),Je=te(K),Ke=te(Z),Ze=te(Q),Qe=te($),$e=te(tt),tn=te(et),en=te(nt),nn=te(rt),rn=te(it),on=te(ot),sn=te(st),an=te(at),un=te(ut),ln=te(lt),cn=te(ct),hn=te(ht),fn=te(ft),pn=te(pt),dn=te(dt),yn=te(yt),gn=te(gt),mn=te(mt),vn=te(vt),_n=te(_t),bn=te(bt),xn=te(xt),wn=te(wt),En=te(Et),Sn=te(St),Pn=te(Pt),Cn=te(Ct),In=te(It),Mn=te(Mt),On=te(Ot),Tn=te(Tt),Ln=te(Lt),Nn=te(Nt),An=te(At),Rn=te(Rt),Dn=te(Dt),kn=te(kt),Fn=te(Ft),Bn=ee(Bt),jn=ee(jt),zn=ee(zt),Gn=ee(Gt),qn=ee(qt),Un=ee(Ut),Vn=te(Vt),Xn=te(Xt),Yn=te(Yt),Hn=te(Ht),Wn=te(Wt),Jn=te(Jt),Kn=te(Kt),Zn=te(Zt),Qn=te(Qt),$n=te($t);Object.keys(Bt).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Bt[t]}})})),Object.keys(jt).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return jt[t]}})})),Object.keys(zt).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return zt[t]}})})),Object.keys(Gt).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Gt[t]}})})),Object.keys(qt).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return qt[t]}})})),Object.keys(Ut).forEach((function(t){"default"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return Ut[t]}})})),Object.defineProperty(e,"isolines",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(e,"convex",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(e,"pointsWithinPolygon",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(e,"within",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(e,"concave",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(e,"collect",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(e,"flip",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(e,"simplify",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(e,"bezier",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(e,"bezierSpline",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(e,"tag",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(e,"sample",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(e,"envelope",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(e,"square",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(e,"circle",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(e,"midpoint",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(e,"center",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(e,"centerOfMass",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(e,"centroid",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(e,"combine",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(e,"distance",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(e,"explode",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(e,"bbox",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(e,"tesselate",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(e,"bboxPolygon",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(e,"booleanPointInPolygon",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(e,"inside",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(e,"nearest",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(e,"nearestPoint",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(e,"nearestPointOnLine",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(e,"pointOnLine",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(e,"nearestPointToLine",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(e,"planepoint",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(e,"tin",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(e,"bearing",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(e,"destination",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(e,"kinks",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(e,"pointOnFeature",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(e,"pointOnSurface",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(e,"area",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(e,"along",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(e,"length",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(e,"lineDistance",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(e,"lineSlice",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(e,"lineSliceAlong",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(e,"pointGrid",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(e,"truncate",{enumerable:!0,get:function(){return Ge.default}}),Object.defineProperty(e,"flatten",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(e,"lineIntersect",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(e,"lineChunk",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(e,"unkinkPolygon",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(e,"greatCircle",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(e,"lineSegment",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(e,"lineSplit",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(e,"lineArc",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(e,"polygonToLine",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(e,"polygonToLineString",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(e,"lineStringToPolygon",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(e,"lineToPolygon",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(e,"bboxClip",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(e,"lineOverlap",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(e,"sector",{enumerable:!0,get:function(){return tn.default}}),Object.defineProperty(e,"rhumbBearing",{enumerable:!0,get:function(){return en.default}}),Object.defineProperty(e,"rhumbDistance",{enumerable:!0,get:function(){return nn.default}}),Object.defineProperty(e,"rhumbDestination",{enumerable:!0,get:function(){return rn.default}}),Object.defineProperty(e,"polygonTangents",{enumerable:!0,get:function(){return on.default}}),Object.defineProperty(e,"rewind",{enumerable:!0,get:function(){return sn.default}}),Object.defineProperty(e,"isobands",{enumerable:!0,get:function(){return an.default}}),Object.defineProperty(e,"transformRotate",{enumerable:!0,get:function(){return un.default}}),Object.defineProperty(e,"transformScale",{enumerable:!0,get:function(){return ln.default}}),Object.defineProperty(e,"transformTranslate",{enumerable:!0,get:function(){return cn.default}}),Object.defineProperty(e,"lineOffset",{enumerable:!0,get:function(){return hn.default}}),Object.defineProperty(e,"polygonize",{enumerable:!0,get:function(){return fn.default}}),Object.defineProperty(e,"booleanDisjoint",{enumerable:!0,get:function(){return pn.default}}),Object.defineProperty(e,"booleanContains",{enumerable:!0,get:function(){return dn.default}}),Object.defineProperty(e,"booleanCrosses",{enumerable:!0,get:function(){return yn.default}}),Object.defineProperty(e,"booleanClockwise",{enumerable:!0,get:function(){return gn.default}}),Object.defineProperty(e,"booleanOverlap",{enumerable:!0,get:function(){return mn.default}}),Object.defineProperty(e,"booleanPointOnLine",{enumerable:!0,get:function(){return vn.default}}),Object.defineProperty(e,"booleanEqual",{enumerable:!0,get:function(){return _n.default}}),Object.defineProperty(e,"booleanWithin",{enumerable:!0,get:function(){return bn.default}}),Object.defineProperty(e,"booleanIntersects",{enumerable:!0,get:function(){return xn.default}}),Object.defineProperty(e,"clone",{enumerable:!0,get:function(){return wn.default}}),Object.defineProperty(e,"cleanCoords",{enumerable:!0,get:function(){return En.default}}),Object.defineProperty(e,"clustersDbscan",{enumerable:!0,get:function(){return Sn.default}}),Object.defineProperty(e,"clustersKmeans",{enumerable:!0,get:function(){return Pn.default}}),Object.defineProperty(e,"pointToLineDistance",{enumerable:!0,get:function(){return Cn.default}}),Object.defineProperty(e,"booleanParallel",{enumerable:!0,get:function(){return In.default}}),Object.defineProperty(e,"shortestPath",{enumerable:!0,get:function(){return Mn.default}}),Object.defineProperty(e,"voronoi",{enumerable:!0,get:function(){return On.default}}),Object.defineProperty(e,"ellipse",{enumerable:!0,get:function(){return Tn.default}}),Object.defineProperty(e,"centerMean",{enumerable:!0,get:function(){return Ln.default}}),Object.defineProperty(e,"centerMedian",{enumerable:!0,get:function(){return Nn.default}}),Object.defineProperty(e,"standardDeviationalEllipse",{enumerable:!0,get:function(){return An.default}}),Object.defineProperty(e,"angle",{enumerable:!0,get:function(){return Rn.default}}),Object.defineProperty(e,"polygonSmooth",{enumerable:!0,get:function(){return Dn.default}}),Object.defineProperty(e,"moranIndex",{enumerable:!0,get:function(){return kn.default}}),Object.defineProperty(e,"distanceWeight",{enumerable:!0,get:function(){return Fn.default}}),e.projection=Bn,e.random=jn,e.clusters=zn,Object.defineProperty(e,"bearingToAngle",{enumerable:!0,get:function(){return Gt.bearingToAzimuth}}),Object.defineProperty(e,"convertDistance",{enumerable:!0,get:function(){return Gt.convertLength}}),Object.defineProperty(e,"degrees2radians",{enumerable:!0,get:function(){return Gt.degreesToRadians}}),Object.defineProperty(e,"distanceToDegrees",{enumerable:!0,get:function(){return Gt.lengthToDegrees}}),Object.defineProperty(e,"distanceToRadians",{enumerable:!0,get:function(){return Gt.lengthToRadians}}),e.helpers=Gn,Object.defineProperty(e,"radians2degrees",{enumerable:!0,get:function(){return Gt.radiansToDegrees}}),Object.defineProperty(e,"radiansToDistance",{enumerable:!0,get:function(){return Gt.radiansToLength}}),e.invariant=qn,e.meta=Un,Object.defineProperty(e,"difference",{enumerable:!0,get:function(){return Vn.default}}),Object.defineProperty(e,"buffer",{enumerable:!0,get:function(){return Xn.default}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return Yn.default}}),Object.defineProperty(e,"intersect",{enumerable:!0,get:function(){return Hn.default}}),Object.defineProperty(e,"dissolve",{enumerable:!0,get:function(){return Wn.default}}),Object.defineProperty(e,"hexGrid",{enumerable:!0,get:function(){return Jn.default}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return Kn.default}}),Object.defineProperty(e,"squareGrid",{enumerable:!0,get:function(){return Zn.default}}),Object.defineProperty(e,"triangleGrid",{enumerable:!0,get:function(){return Qn.default}}),Object.defineProperty(e,"interpolate",{enumerable:!0,get:function(){return $n.default}})},1959:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(2676)),o=n(611),s=n(4102);e.default=function(t,e,n){void 0===n&&(n={});var r=o.getGeom(t),a=o.getGeom(e),u=i.default.union(r.coordinates,a.coordinates);return 0===u.length?null:1===u.length?s.polygon(u[0],n.properties):s.multiPolygon(u,n.properties)}},4404:(t,e,n)=>{"use strict";var r=n(1540),i=n(4102),o=n(5510),s=n(1070),a=n(8147);function u(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var l=u(o),c=u(s),h=u(a);function f(t,e,n){if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var r=t.geometry.coordinates,i=[],o={};if(n){for(var s=[],a=0;a<r.length;a++)for(var u=0;u<r[a].length-1;u++)s.push(m(a,u));var c=l.default();c.load(s)}for(var h=0;h<r.length;h++)for(var f=0;f<r[h].length-1;f++){if(n)c.search(m(h,f)).forEach((function(t){var e=t.ring,n=t.edge;g(h,f,e,n)}));else for(var d=0;d<r.length;d++)for(var y=0;y<r[d].length-1;y++)g(h,f,d,y)}return e||(i={type:"Feature",geometry:{type:"MultiPoint",coordinates:i}}),i;function g(t,n,s,a){var u,l,c=r[t][n],h=r[t][n+1],f=r[s][a],d=r[s][a+1],y=function(t,e,n,r){if(p(t,n)||p(t,r)||p(e,n)||p(r,n))return null;var i=t[0],o=t[1],s=e[0],a=e[1],u=n[0],l=n[1],c=r[0],h=r[1],f=(i-s)*(l-h)-(o-a)*(u-c);return 0===f?null:[((i*a-o*s)*(u-c)-(i-s)*(u*h-l*c))/f,((i*a-o*s)*(l-h)-(o-a)*(u*h-l*c))/f]}(c,h,f,d);if(null!==y&&(u=h[0]!==c[0]?(y[0]-c[0])/(h[0]-c[0]):(y[1]-c[1])/(h[1]-c[1]),l=d[0]!==f[0]?(y[0]-f[0])/(d[0]-f[0]):(y[1]-f[1])/(d[1]-f[1]),!(u>=1||u<=0||l>=1||l<=0))){var g=y,m=!o[g];m&&(o[g]=!0),e?i.push(e(y,t,n,c,h,u,s,a,f,d,l,m)):i.push(y)}}function m(t,e){var n,i,o,s,a=r[t][e],u=r[t][e+1];return a[0]<u[0]?(n=a[0],i=u[0]):(n=u[0],i=a[0]),a[1]<u[1]?(o=a[1],s=u[1]):(o=u[1],s=a[1]),{minX:n,minY:o,maxX:i,maxY:s,ring:t,edge:e}}}function p(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!p(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function d(t){if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var e=t.geometry.coordinates.length,n=[],r=0;r<e;r++){var o=t.geometry.coordinates[r];_(o[0],o[o.length-1])||o.push(o[0]),n.push.apply(n,o.slice(0,o.length-1))}if(!function(t){for(var e={},n=1,r=0,i=t.length;r<i;++r){if(Object.prototype.hasOwnProperty.call(e,t[r])){n=0;break}e[t[r]]=1}return n}(n))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var s=n.length,a=f(t,(function(t,e,n,r,i,o,s,a,u,l,c,h){return[t,e,n,r,i,o,s,a,u,l,c,h]})),u=a.length;if(0==u){var p=[];for(r=0;r<e;r++)p.push(i.polygon([t.geometry.coordinates[r]],{parent:-1,winding:v(t.geometry.coordinates[r])}));var d=i.featureCollection(p);return H(),W(),d}var x=[],w=[];for(r=0;r<e;r++){x.push([]);for(var E=0;E<t.geometry.coordinates[r].length-1;E++)x[r].push([new y(t.geometry.coordinates[r][b(E+1,t.geometry.coordinates[r].length-1)],1,[r,E],[r,b(E+1,t.geometry.coordinates[r].length-1)],void 0)]),w.push(new g(t.geometry.coordinates[r][E],[r,b(E-1,t.geometry.coordinates[r].length-1)],[r,E],void 0,void 0,!1,!0))}for(r=0;r<u;r++)x[a[r][1]][a[r][2]].push(new y(a[r][0],a[r][5],[a[r][1],a[r][2]],[a[r][6],a[r][7]],void 0)),a[r][11]&&w.push(new g(a[r][0],[a[r][1],a[r][2]],[a[r][6],a[r][7]],void 0,void 0,!0,!0));var S=w.length;for(r=0;r<x.length;r++)for(E=0;E<x[r].length;E++)x[r][E].sort((function(t,e){return t.param<e.param?-1:1}));var P=[];for(r=0;r<S;r++)P.push({minX:w[r].coord[0],minY:w[r].coord[1],maxX:w[r].coord[0],maxY:w[r].coord[1],index:r});var C=l.default();C.load(P);for(r=0;r<x.length;r++)for(E=0;E<x[r].length;E++)for(var I=0;I<x[r][E].length;I++){O=I==x[r][E].length-1?x[r][b(E+1,t.geometry.coordinates[r].length-1)][0].coord:x[r][E][I+1].coord;var M=C.search({minX:O[0],minY:O[1],maxX:O[0],maxY:O[1]})[0];x[r][E][I].nxtIsectAlongEdgeIn=M.index}for(r=0;r<x.length;r++)for(E=0;E<x[r].length;E++)for(I=0;I<x[r][E].length;I++){var O=x[r][E][I].coord,T=(M=C.search({minX:O[0],minY:O[1],maxX:O[0],maxY:O[1]})[0]).index;T<s?w[T].nxtIsectAlongRingAndEdge2=x[r][E][I].nxtIsectAlongEdgeIn:_(w[T].ringAndEdge1,x[r][E][I].ringAndEdgeIn)?w[T].nxtIsectAlongRingAndEdge1=x[r][E][I].nxtIsectAlongEdgeIn:w[T].nxtIsectAlongRingAndEdge2=x[r][E][I].nxtIsectAlongEdgeIn}var L=[];for(r=0,E=0;E<e;E++){var N=r;for(I=0;I<t.geometry.coordinates[E].length-1;I++)w[r].coord[0]<w[N].coord[0]&&(N=r),r++;var A=w[N].nxtIsectAlongRingAndEdge2;for(I=0;I<w.length;I++)if(w[I].nxtIsectAlongRingAndEdge1==N||w[I].nxtIsectAlongRingAndEdge2==N){var R=I;break}var D=m([w[R].coord,w[N].coord,w[A].coord],!0)?1:-1;L.push({isect:N,parent:-1,winding:D})}L.sort((function(t,e){return w[t.isect].coord>w[e.isect].coord?-1:1}));for(p=[];L.length>0;){var k=L.pop(),F=k.isect,B=k.parent,j=k.winding,z=p.length,G=[w[F].coord],q=F;if(w[F].ringAndEdge1Walkable)var U=w[F].ringAndEdge1,V=w[F].nxtIsectAlongRingAndEdge1;else U=w[F].ringAndEdge2,V=w[F].nxtIsectAlongRingAndEdge2;for(;!_(w[F].coord,w[V].coord);){G.push(w[V].coord);var X=void 0;for(r=0;r<L.length;r++)if(L[r].isect==V){X=r;break}if(null!=X&&L.splice(X,1),_(U,w[V].ringAndEdge1)){if(U=w[V].ringAndEdge2,w[V].ringAndEdge2Walkable=!1,w[V].ringAndEdge1Walkable){var Y={isect:V};m([w[q].coord,w[V].coord,w[w[V].nxtIsectAlongRingAndEdge2].coord],1==j)?(Y.parent=B,Y.winding=-j):(Y.parent=z,Y.winding=j),L.push(Y)}q=V,V=w[V].nxtIsectAlongRingAndEdge2}else{if(U=w[V].ringAndEdge1,w[V].ringAndEdge1Walkable=!1,w[V].ringAndEdge2Walkable){Y={isect:V};m([w[q].coord,w[V].coord,w[w[V].nxtIsectAlongRingAndEdge1].coord],1==j)?(Y.parent=B,Y.winding=-j):(Y.parent=z,Y.winding=j),L.push(Y)}q=V,V=w[V].nxtIsectAlongRingAndEdge1}}G.push(w[V].coord),p.push(i.polygon([G],{index:z,parent:B,winding:j,netWinding:void 0}))}d=i.featureCollection(p);function H(){for(var t=[],e=0;e<d.features.length;e++)-1==d.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,r=0;r<d.features.length;r++)t[e]!=r&&h.default(d.features[t[e]].geometry.coordinates[0][0],d.features[r],{ignoreBoundary:!0})&&c.default(d.features[r])<Infinity&&(n=r);d.features[t[e]].properties.parent=n}}function W(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var e=d.features[t].properties.winding;d.features[t].properties.netWinding=e,J(t,e)}}function J(t,e){for(var n=0;n<d.features.length;n++)if(d.features[n].properties.parent==t){var r=e+d.features[n].properties.winding;d.features[n].properties.netWinding=r,J(n,r)}}return H(),W(),d}var y=function(t,e,n,r,i){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=r,this.nxtIsectAlongEdgeIn=i},g=function(t,e,n,r,i,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=r,this.nxtIsectAlongRingAndEdge2=i,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};function m(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function v(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(m([t[b(e-1,t.length-1)],t[e],t[b(e+1,t.length-1)]],!0))var r=1;else r=-1;return r}function _(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!_(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function b(t,e){return(t%e+e)%e}function x(t){var e=[];return r.flattenEach(t,(function(t){"Polygon"===t.geometry.type&&r.featureEach(d(t),(function(n){e.push(i.polygon(n.geometry.coordinates,t.properties))}))})),i.featureCollection(e)}t.exports=x,t.exports.default=x},2276:(t,e,n)=>{"use strict";var r=n(4102),i=n(611),o=n(1704);function s(t){return(t=t.slice()).push(t[0]),r.polygon([t])}function a(t,e){if(e=e||{},!r.isObject(e))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return i.collectionOf(t,"Point","points"),r.featureCollection(o.voronoi().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(s))}t.exports=a,t.exports.default=a},707:t=>{t.exports={EleSymbolEvent:{ADDED:"symbol_event_added",REMOVED:"symbol_event_removed"},GridVectorLayerEvent:{BEFORE_RENDER:"beforeRender",AFTER_RENDER:"afterRender",ERROR_RENDER:"error",HANDLE_DEV:"handleDev"},SnapEvent:{DEV_SNAPPED:"devSnapped"},SelectEvent:{DEVS_SELECTED:"devsSelected"}}},6194:t=>{function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._eventMap={}}var n,r,i;return n=t,(r=[{key:"fire",value:function(t,e){if(this._eventMap[t])for(var n=0;n<this._eventMap[t].length;n++)this._eventMap[t][n].call(this,e)}},{key:"on",value:function(t,e){t&&e&&(this._eventMap[t]||(this._eventMap[t]=[]),this._eventMap[t].push(e))}},{key:"off",value:function(t,e){if(t)if(e){var n=this._eventMap[t].indexOf(e);n>-1&&this._eventMap[t].splice(n,1)}else delete this._eventMap[t]}}])&&e(n.prototype,r),i&&e(n,i),t}();t.exports=n},7859:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this))._visible=!0,t}return e=u,(n=[{key:"render",value:function(){}},{key:"refresh",value:function(){}},{key:"setVisible",value:function(t){}},{key:"getVisible",value:function(){return this._visible}},{key:"destroy",value:function(){}}])&&i(e.prototype,n),r&&i(e,r),u}(n(6194));t.exports=l},188:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),e=a.call(this),!(t&&t.map&&t.bounds))throw new Error("map");return e._map=t.map,e._bounds=t.bounds,e._extent={xmin:e._bounds[0][0],ymin:e._bounds[0][1],xmax:e._bounds[1][0],ymax:e._bounds[1][1]},e._suffix="_gridCell_"+Math.random(),e._layerIds=["fill"+e._suffix,"lines"+e._suffix],e._cellSize=9e-6*(t.cellSize||1),e._backgroundColor=t.backgroundColor||"#000000",e._lineColor=t.lineColor||"#fff",e._lineOpacity=t.lineOpacity||.5,e._lineWidth=t.lineWidth||1,e._crossPoints=[],e._lines=[],e}return e=u,(n=[{key:"_getFeatureLineData",value:function(t,e,n){return this._lines.push([t,e]),{type:"Feature",geometry:{type:"LineString",coordinates:[t,e]},properties:{lineColor:this._lineColor,lineWidth:this._lineWidth,lineOpacity:this._lineOpacity}}}},{key:"setCellSize",value:function(t){isNaN(t)&&(t=1),t<=0&&(t=1),this._cellSize=9e-6*t,this.render()}},{key:"setVisible",value:function(t){var e=t?"visible":"none";this._layerIds.forEach((function(t){map.setLayoutProperty(t,"visibility",e)}))}},{key:"refresh",value:function(){this.render()}},{key:"render",value:function(){this._map.getLayer(this._layerIds[0])||this._map.addLayer({id:this._layerIds[0],type:"fill",source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Polygon",coordinates:[[[this._extent.xmin,this._extent.ymin],[this._extent.xmin,this._extent.ymax],[this._extent.xmax,this._extent.ymax],[this._extent.xmax,this._extent.ymin],[this._extent.xmin,this._extent.ymin]]]}}]}},layout:{},paint:{"fill-color":this._backgroundColor,"fill-opacity":1,"fill-outline-color":this._lineColor}});var t=[];this._crossPoints=[],this._lines=[];for(var e=this._extent.xmin;e<this._extent.xmax;e+=this._cellSize)t.push(this._getFeatureLineData([e,this._extent.ymin],[e,this._extent.ymax]));for(var n=this._extent.ymin;n<this._extent.ymax;n+=this._cellSize)t.push(this._getFeatureLineData([this._extent.xmin,n],[this._extent.xmax,n]));for(var r=this._extent.xmin;r<this._extent.xmax;r+=this._cellSize)for(var i=this._extent.ymin;i<this._extent.ymax;i+=this._cellSize)this._crossPoints.push([r,i]);this._map.getLayer(this._layerIds[1])?this._map.getSource(this._layerIds[1]).setData({type:"FeatureCollection",features:t}):this._map.addLayer({id:this._layerIds[1],type:"line",source:{type:"geojson",data:{type:"FeatureCollection",features:t}},layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":["get","lineColor"],"line-width":["get","lineWidth"],"line-opacity":["get","lineOpacity"]}})}},{key:"destroy",value:function(){this._map.getLayer("fill"+this._suffix)&&this._map.removeLayer("fill"+this._suffix),this._map.getSource("fill"+this._suffix)&&this._map.removeSource("fill"+this._suffix),this._map.getLayer("fill"+this._suffix)&&this._map.removeLayer("fill"+this._suffix),this._map.getSource("fill"+this._suffix)&&this._map.removeSource("fill"+this._suffix),this._map=null,this._bounds=null,this._extent=null,this._crossPoints=null,this._lines=null}}])&&i(e.prototype,n),r&&i(e,r),u}(n(7859));t.exports=l},8880:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=n(7859),p=n(707).GridVectorLayerEvent,d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,r,i=l(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this))._map=t.map,e._idef=t.idef||"",e._displaySchema=null,e._historyLayer=[],e._devDatas={data:[],keys:[]},e._pointDef={type:"esymbol",paint:{"esymbol-color":["get","color"],"esymbol-opacity":["get","opacity"]},layout:{"esymbol-id":["get","id"],"esymbol-rotate":["get","rotate"],"esymbol-scaleable":["get","scaleable"],"esymbol-size":["get","size"]}},e._lineDef={type:"eline",paint:{"line-color":["get","color"],"line-opacity":["get","opacity"],"line-width":["get","size"]},layout:{"esymbol-id":["get","id"]}},e._fillDef={type:"fill",paint:{"fill-color":"rgba(0,0,0,0)","fill-outline-color":["get","color"]},layout:{}},e._textDef={type:"symbol",paint:{"text-color":["get","color"]},layout:{"text-field":"{text}","text-anchor":"bottom","text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-scaleable":!0,"text-size":["get","size"],"text-font":["Microsoft YaHei Regular"]}},e}return e=s,(n=[{key:"destroy",value:function(){}},{key:"addEleSymbols",value:function(t){if(t&&t.length){for(var e=0;e<t.length;e++){var n=t[e]._toFeature(),r=n.properties;if(!this._devDatas.data[r.layerid+this._idef]){switch(r.byteNodeType){case 131401:this._devDatas.data[r.layerid]=o({},this._pointDef);break;case 131402:this._devDatas.data[r.layerid]=o({},this._lineDef);break;case 131403:this._devDatas.data[r.layerid]=o({},this._fillDef);break;case 131405:this._devDatas.data[r.layerid]=o({},this._textDef)}this._devDatas.data[r.layerid].features=[]}this._devDatas.data[r.layerid+this._idef].features.push(n)}this._devDatas.keys=Object.keys(this._devDatas.data),this.refresh()}}},{key:"removeEleSymbols",value:function(t){if(t&&t.length){for(var e={},n=0;n<t.length;n++){var r=t[n];e[r.devTypeId]||(e[r.devTypeId]={}),e[r.devTypeId][r.devId]=!0}for(var i in e)if(this._devDatas.data[i+this._idef])for(var o=this._devDatas.data[i+this._idef].features.length-1;o>=0;o--){var s=this._devDatas.data[i+this._idef].features[o].properties;e[s.layerid][s.oid]&&this._devDatas.data[i+this._idef].features.splice(o,1)}this.refresh()}}},{key:"refresh",value:function(){this._render(this._devDatas)}},{key:"_render",value:function(t){for(var e=0,n=0;n<this._historyLayer.length;n++)-1==t.keys.indexOf(this._historyLayer[n])&&this._map.removeLayer(this._historyLayer[n])&&this._map.removeSource(this._historyLayer[n]);this._historyLayer=[];var r=[];for(n=0;n<t.keys.length;n++){var i=t.keys[n],o=t.data[i];e+=o.features.length;var s=this._map.getLayer(i);try{s&&s.type==o.type?(this._map.getSource(i).setData({type:"FeatureCollection",features:o.features}),this._map.moveLayer(i)):(s&&this._map.removeLayer(i)&&this._map.removeSource(i),this._map.addLayer({id:i,type:o.type,source:{type:"geojson",data:{type:"FeatureCollection",features:o.features}},paint:o.paint,layout:o.layout,style:{transition:{duration:0,delay:0}}})),"symbol"==o.type&&r.push(i),this._historyLayer.push(i)}catch(t){throw Error(t)}}for(n=0;n<r.length;n++)this._map.moveLayer(r[n]);this.fire(p.AFTER_RENDER),this._map.fire("pg-update"),console.log(":",e),this._map.powerGridDevs=t}},{key:"removeLayer",value:function(){for(var t=0;t<this._historyLayer.length;t++)try{this._map.getLayer(this._historyLayer[t])&&this._map.removeLayer(this._historyLayer[t]),this._map.getSource(this._historyLayer[t])&&this._map.removeSource(this._historyLayer[t])}catch(t){}this._historyLayer=[]}},{key:"setVisible",value:function(t){this._visible=!!t;var e=this._visible?"visible":"none";this._devDatas.keys.forEach((function(t){map.setLayoutProperty(t,"visibility",e)}))}},{key:"getVisible",value:function(){return this._visible}}])&&a(e.prototype,n),r&&a(e,r),s}(f);t.exports=d},5667:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=n(7859),d=(n(4420),n(856)),y=n(759),g=n(7597),m=n(1462),v=(n(5158),n(9152),n(2095),n(4867)),_=n(8288).LayersSequence,b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(s,t);var e,n,r,i=l(s);function s(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),e=i.call(this),!t||!t.map)throw new Error("map");return e._map=t.map,e._map.powerGridDevs={data:{},keys:[]},e._layers=t.layers||[],e._tileUrl=t.url,e._tileSize=t.tileSize||512,d.Tile.TILE_SIZE=e._tileSize,e._updateFunc=function(t){e._visible&&(console.log(":",e._map.getZoom()),e._getTiles())},e._map.on("moveend",e._updateFunc),e._renderCutLine=!1!==t.renderCutLine,e.historyLayer=[],e._allFeatures={},e._totalReqCount=0,e._viewInfo=null,e._cachedLevel=-1,e._cachedTile={},e._isDirty=!0,e._cacheId=t.cacheId||Math.random(),e._devMaxCount=3e3,e._maxLevel=t.maxLevel||9999,e._map&&e._map.egis&&(e._map.egis.gridTileLayer&&e._map.egis.gridTileLayer.destroy(),e._map.egis.gridTileLayer=h(e)),e}return e=s,(n=[{key:"setLayers",value:function(t,e){Array.isArray(t)&&(this._layers=t,e&&(this._visible=!0,this.refresh()))}},{key:"setMaxLevel",value:function(t){this._maxLevel=t||18}},{key:"setMaxDevCount",value:function(t){window.isNaN(t)||(this._devMaxCount=t>=500?t:3e3)}},{key:"setCacheId",value:function(t){t!=this._cacheId&&(this._cacheId=t,this._cachedLevel=-1,this._cachedTile={},this._isDirty=!0,this._removeFeatures(),this._getTiles())}},{key:"refresh",value:function(){this._cachedLevel=-1,this._allFeatures={},this._cachedTile={},this._getTiles()}},{key:"render",value:function(){this._getTiles()}},{key:"setVisible",value:function(t){this._visible=!!t,this._visible!=t&&(t?this.refresh():this._removeFeatures(),this._visible=t)}},{key:"_removeFeatures",value:function(){for(var t in this._cachedTile={},this._cachedLevel=-1,this._allFeatures)this._map.getLayer(t)&&this._map.removeLayer(t),this._map.getSource(t)&&this._map.removeSource(t)}},{key:"_addFeatureSlot",value:function(t,e){var n=e?"_extend":"";this._allFeatures[t+n]||(this._allFeatures[t+n]={features:[]},"131405"==t&&(this._allFeatures[131405].type="symbol",this._allFeatures[131405].layout={"text-field":"{text}","text-anchor":"bottom","text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-scaleable":!0,"text-size":["get","size"],"text-font":["Microsoft YaHei Regular"]},this._allFeatures[131405].paint={"text-color":["get","color"]}))}},{key:"_addExtendFeature",value:function(t){var e=t.properties.layerid;this._addFeatureSlot(e,!0);var n=e+"_extend";this._allFeatures[n].type="eline",this._allFeatures[n].layout={},this._allFeatures[n].paint={"line-color":["get","color"],"line-opacity":["get","opacity"],"line-width":["get","size"]};var r=JSON.parse(JSON.stringify(t));"MultiLineString"!=r.geometry.type&&(r.geometry.type="MultiLineString",r.geometry.coordinates=[r.geometry.coordinates]),r.properties.id=r.properties.symbolid,r.properties.size=r.properties.symbolsize,r.properties.color=g.fixColorToRGBA(r.properties.symbolcolor),r.properties.rotate=r.properties.symbolangle,r.properties.opacity=1,delete r.properties.symbolid,delete r.properties.zoom,delete r.properties.symbolangle,delete r.properties.symbolsize,delete r.properties.symbolcolor,this._allFeatures[n].features.push(r)}},{key:"_loadFeatures",value:function(t,e,n,r){var i=this,s=Object.keys(t.layers),a={};s.length>0&&(this._addFeatureSlot("131405"),s.forEach((function(s){if(!(i._layers.length>0&&-1==i._layers.indexOf(String(s))&&-1==i._layers.indexOf(Number(s)))){-1==s.indexOf("_")&&i._addFeatureSlot(s);for(var u=0;u<t.layers[s]._features.length;u++){var l=t.layers[s].feature(u).toGeoJSON(e,n,r);delete l.id;var c=String(l.properties.objtype||l.properties.type);if("131404"==c&&(a[l.properties.layerid+"_"+l.properties.oid]=l.properties),!i._allFeatures[s].type)switch(c){case"131401":i._allFeatures[s].type="esymbol",i._allFeatures[s].layout={"esymbol-id":["get","id"],"esymbol-rotate":["get","rotate"],"esymbol-scaleable":["get","scaleable"],"esymbol-size":["get","size"]},i._allFeatures[s].paint={"esymbol-color":["get","color"],"esymbol-opacity":["get","opacity"]};break;case"131402":case"131403":i._allFeatures[s].type="eline",i._allFeatures[s].layout={"esymbol-id":["get","id"]},i._allFeatures[s].paint={"line-color":["get","color"],"line-opacity":["get","opacity"],"line-width":["get","size"]};break;default:return void delete i._allFeatures[s]}switch(c){case"131401":switch(l.properties.geometrytype){case 2:case 5:i._renderCutLine&&Math.abs(l.properties.symbolangle%180%90)<=2&&i._addExtendFeature(l)}switch(l.geometry.type="MultiPoint",l.properties.geometrytype){case 2:l.geometry.coordinates=l.geometry.coordinates[1];break;case 3:Array.isArray(l.geometry.coordinates[0][0])&&(l.geometry.coordinates=l.geometry.coordinates[0]);for(var h=0,f=0,p=l.geometry.coordinates.length,d=0;d<p;d++)h+=l.geometry.coordinates[d][0],f+=l.geometry.coordinates[d][1];l.geometry.coordinates=[h/p,f/p];break;case 5:l.geometry.coordinates=l.geometry.coordinates[0][1]}l.geometry.coordinates=[l.geometry.coordinates],l.properties.id=l.properties.symbolid,l.properties.scaleable=!!l.properties.zoom,l.properties.rotate=l.properties.symbolangle,l.properties.size=l.properties.symbolsize,l.properties.color=g.fixColorToRGBA(l.properties.symbolcolor),l.properties.opacity=1,delete l.properties.symbolid,delete l.properties.zoom,delete l.properties.symbolangle,delete l.properties.symbolsize,delete l.properties.symbolcolor,"esymbol"!=i._allFeatures[s].type&&(i._allFeatures[s].type="esymbol",i._allFeatures[s].layout={"esymbol-id":["get","id"],"esymbol-rotate":["get","rotate"],"esymbol-scaleable":["get","scaleable"],"esymbol-size":["get","size"]},i._allFeatures[s].paint={"esymbol-color":["get","color"],"esymbol-opacity":["get","opacity"]});break;case"131402":l.properties.id=l.properties.symbolid,l.properties.scaleable=!!l.properties.zoom,l.properties.rotate=l.properties.symbolangle,"multilinestring"!=l.geometry.type.toLowerCase()&&(l.geometry.type="MultiLineString",l.geometry.coordinates=[l.geometry.coordinates]),l.properties.size=25.4*l.properties.symbolsize*.8,l.properties.size<6&&(l.properties.size=6),l.properties.color=g.fixColorToRGBA(l.properties.symbolcolor),l.properties.opacity=1,delete l.properties.symbolid,delete l.properties.zoom,delete l.properties.symbolangle,delete l.properties.symbolsize,delete l.properties.symbolcolor;break;case"131403":l.properties.color=g.fixColorToRGBA(l.properties.symbolcolor),delete l.properties.symbolcolor,l.properties.shape&&(l.geometry=JSON.parse(l.properties.shape)),l.properties.id="410",l.properties.size=6,delete l.properties.symbolsize,l.geometry.type="MultiLineString","eline"!=i._allFeatures[s].type&&(i._allFeatures[s].type="eline",i._allFeatures[s].layout={"esymbol-id":["get","id"]},i._allFeatures[s].paint={"line-color":["get","color"],"line-opacity":["get","opacity"],"line-width":["get","size"]});break;case"131404":break;case"131405":l.properties.size=3.6,l.properties.color="#ff0000"}switch(l.properties.l=r,l.properties.tr=e,l.properties.tc=n,c){case"131401":case"131402":case"131403":i._allFeatures[s].features.push(l);break;case"131405":i._allFeatures[131405].features.push(l)}}i._allFeatures[131405].features.forEach((function(t,e,n){if(n[e].properties=o(o({},n[e].properties),a[t.properties.layerid+"_"+t.properties.oid]),n[e].properties.byteNodetype="131405",n[e].properties.labelsize&&(n[e].properties.size=m.mmToPixel(n[e].properties.labelsize),delete n[e].properties.labelsize),n[e].properties.labelcolor){var r=g.fixColorToRGBA(n[e].properties.labelcolor);n[e].properties.color=r,delete n[e].properties.labelcolor}}))}})))}},{key:"_cancelTileRequest",value:function(){if(this._viewInfo)for(var t=Object.keys(this._cachedTile),e=t.length-1;e>=0;e--)if(this._cachedTile[t[e]]instanceof XMLHttpRequest){var n=t[e].split("_"),r=Number(n[0]),i=Number(n[1]);(Number(n[2])!=this._cachedLevel||r<this._viewInfo.row.min||r>this._viewInfo.row.max||i>this._viewInfo.column.max||i<this._viewInfo.column.min)&&(this._cachedTile[t[e]].abort(),delete this._cachedTile[t[e]])}}},{key:"_clearRenderedFeatures",value:function(t){for(var e in this._allFeatures)if(this._allFeatures[e].features.length)for(var n=this._allFeatures[e].features.length-1;n>=0;n--)t?this._cachedLevel==Math.floor(this._map.getZoom())&&(this._allFeatures[e].features[n].properties.tr<this._viewInfo.row.min||this._allFeatures[e].features[n].properties.tr>this._viewInfo.row.max||this._allFeatures[e].features[n].properties.tc>this._viewInfo.column.max||this._allFeatures[e].features[n].properties.tc<this._viewInfo.column.min)&&this._allFeatures[e].features.splice(n,1):this._allFeatures[e].features[n].properties.l!=this._cachedLevel&&this._allFeatures[e].features.splice(n,1);if(t){this._cachedTile={};for(var r=this._viewInfo.row.min;r<=this._viewInfo.row.max;r++)for(var i=this._viewInfo.column.min;i<=this._viewInfo.column.max;i++)this._cachedTile[r+"_"+i+"_"+this._cachedLevel]=!0}}},{key:"_render",value:function(t){for(var e=0,n=0;n<this.historyLayer.length;n++)if(-1==t.keys.indexOf(this.historyLayer[n]))try{this._map.getLayer(this.historyLayer[n])&&this._map.removeLayer(this.historyLayer[n]),this._map.getSource(this.historyLayer[n])&&this._map.removeSource(this.historyLayer[n])}catch(t){throw Error(t)}this.historyLayer=[];var r=[];for(n=0;n<t.keys.length;n++){var i=t.keys[n],o=i.indexOf("_extend")>-1,s=t.data[i];if(i.replace("_extend",""),e+=s.features.length,"300000"==i)for(var a={},u=s.features.length-1;u>=0;u--){var l=s.features[u].properties.layerid+"_"+s.features[u].properties.oid;a[l]?s.features.splice(u,1):a[l]=!0}for(var c=s.features.length-1;c>=0;c--)try{if(o){s.features[c].properties.size=4;var h=s.features[c].properties.id,f=s.features[c].properties.sbzlx,p=s.features[c].properties.rotate,d=s.features[c].properties.size,y={lng:s.features[c].geometry.coordinates[0][1][0],lat:s.features[c].geometry.coordinates[0][1][1]},g=m.calcTerminal(h,f,y,p,d/2*.5*(window.terminalScale||1));m.getCutLineCoords(s.features[c],g)}else{var v=m.transGeoByRelation(s.features[c].geometry.coordinates,s.features[c].properties.georelation);v&&(s.features[c].geometry.coordinates=v)}}catch(t){console.error(t)}var b=this._map.getLayer(i);b&&b.type==s.type?this._map.getSource(i).setData({type:"FeatureCollection",features:s.features}):(this._map.getLayer(i)&&this._map.removeLayer(i),this._map.getSource(i)&&this._map.removeSource(i),this._map.addLayer({id:i,type:s.type,source:{type:"geojson",data:{type:"FeatureCollection",features:s.features}},paint:s.paint,layout:s.layout,style:{transition:{duration:0,delay:0}}})),"symbol"==s.type&&r.push(i),this.historyLayer.push(i)}for(var x=0;x<_.length;x++)String(_[x]),this._map.getLayer(String(_[x]))&&this._map.moveLayer(String(_[x])),this._map.getLayer(String(_[x])+"_extend")&&this._map.moveLayer(String(_[x])+"_extend"),this._map.getLayer("extLine_"+String(_[x]))&&this._map.moveLayer("extLine_"+String(_[x]));for(var w in this._map.getLayer("131405")&&this._map.moveLayer("131405"),this._map.fire("pg-update"),console.log(":",e),window.totalDevCount=e,this._devMaxCount<e&&this._clearRenderedFeatures(!0),this._map.powerGridDevs=t,this._map.powerGridDevs.data)0==this._map.powerGridDevs.data[w].features.length&&delete this._map.powerGridDevs.data[w];this._map.powerGridDevs.keys=Object.keys(this._map.powerGridDevs.data)}},{key:"_getPbfUrl",value:function(t,e,n){return this._tileUrl.replace("{x}",t).replace("{y}",e).replace("{z}",n)+(this._cacheId?"?ci="+this._cacheId:"")}},{key:"_getTiles",value:function(){var t=this,e=this._map.getBounds(),n={xmin:e._sw.lng,ymin:e._sw.lat,xmax:e._ne.lng,ymax:e._ne.lat},r=Math.floor(this._map.getZoom());r=r>this._maxLevel?this._maxLevel:r;var i=d.getVecTileData(n,r);i.level=r,this._viewInfo=i,this._cancelTileRequest(),this._cachedLevel!=r&&(this._cachedLevel=r,this._clearRenderedFeatures(),this._cachedTile={}),this._totalReqCount+=(i.row.max-i.row.min+1)*(i.column.max-i.column.min+1);for(var o=i.row.min;o<=i.row.max;o++)for(var s=i.column.min;s<=i.column.max;s++){var a=this._getPbfUrl(o,s,r),u=new XMLHttpRequest;if(u.t_level=String(r),u.t_rc=o+"_"+s,this._cachedTile[u.t_rc+"_"+u.t_level]){if(this._totalReqCount--,0==this._totalReqCount)return void(this._isDirty&&(this._isDirty=!1,this._render({data:this._allFeatures,keys:Object.keys(this._allFeatures)})))}else u.responseType="arraybuffer",u.open("get",a,!0),v.active&&u.setRequestHeader("token",v.serviceInfo.token),this._isDirty=!0,u.onreadystatechange=function(e){if(4===e.currentTarget.readyState){if(200==e.currentTarget.status){t._cachedTile[e.currentTarget.t_rc+"_"+e.currentTarget.t_level]=!0;var n=Number(e.currentTarget.t_rc.split("_")[0]),r=Number(e.currentTarget.t_rc.split("_")[1]),i=Number(e.currentTarget.t_level),o=(i+n)%7+8,s=(i+r)%8+7,a=y.loadPbfFile(e.currentTarget.response,o,s);t._loadFeatures(a,n,r,i),t._totalReqCount--}else delete t._cachedTile[e.currentTarget.t_rc+"_"+e.currentTarget.t_level],t._totalReqCount--;0==t._totalReqCount&&t._isDirty&&(t._isDirty=!1,t._render({data:t._allFeatures,keys:Object.keys(t._allFeatures)}))}},this._cachedTile[u.t_rc+"_"+u.t_level]=u,u.send()}}},{key:"_updateTileCache",value:function(){}},{key:"destroy",value:function(){this._removeFeatures(),this._map&&this._map.off("moveend",this._updateFunc)}}])&&a(e.prototype,n),r&&a(e,r),s}(p);t.exports=b},7710:(t,e,n)=>{function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var p=n(1462),d=n(7859),y=n(707).GridVectorLayerEvent,g=n(4867),m=n(5959);var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(l,t);var e,n,r,o=u(l);function l(t){var e,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=o.call(this))._map=t.map,e._method=t.method,e._url=t.url,e._postData={},e.setGridOptions(t.data),e._isLock=!1,e._displaySchema=null,e._dataFormat=t.dataFormat||"raster",e.historyLayer=[],e.first=0,e._loaded=!1,e._workerUrl=t.workerUrl||null,e._updateLayerEvent=null,e._map&&e._map.egis&&(e._map.egis.gridVectorlayer&&e._map.egis.gridVectorlayer.destroy(),e._map.egis.gridVectorlayer=c(e)),"undefined"===!((n=window.Worker)&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype||f(n))&&console.warn(""),e}return e=l,(n=[{key:"setGridOptions",value:function(t){this._postData=i(i({},this._postData),t),t.displayfilter&&t.displayfilter instanceof Array&&(this._postData.displayfilter=JSON.stringify(t.displayfilter))}},{key:"setDisplaySchema",value:function(t){this._displaySchema=t}},{key:"getDisplaySchema",value:function(t){return this._displaySchema}},{key:"setDevCache",value:function(t){this._devCacheData=t||null,this.refresh()}},{key:"getDevCache",value:function(){return this._devCacheData}},{key:"_createWorker",value:function(){var t=this;this._workerUrl||(this._workerUrl=window.URL.createObjectURL(new Blob(['!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.dataParser=t():e.dataParser=t()}(self,(function(){return(()=>{var e={388:e=>{function t(e){this.keys=e?e.keys:[],this.data=e?e.data:{}}t.prototype.set=function(e,t){this.keys.push(e),this.data[e]=t},t.prototype.get=function(e){return this.data[e]||""},t.prototype.delete=function(e){var t=this.keys.indexOf(e);t>=0&&this.keys.splice(t,1),delete this.data[e]},t.prototype.has=function(e){return!!this.data[e]},e.exports=t},801:(e,t,r)=>{var o=r(129),s=r(273),i=r(388);function n(e){this.postmp=0,this.bytelen=0,this.charlen=1,this.uintlen=2,this.intlen=4,this.floatlen=4,this.dblen=8,this.end=0,this.bufferstep=0,this.labelcount=0,this.labelinfocount=0,e instanceof Uint8Array||(this.buffertmp=new Uint8Array(e))}n.prototype.step=function(e){this.bytelen=e,this.postmp=this.end,this.end=this.postmp+this.bytelen},n.prototype.decodebuffer=function(){var e,t=new i,r=new i;if(this.buffertmp.length<1)return t;this.bytelen=this.intlen,this.end=this.postmp+this.bytelen,this.step(this.getInt32());try{e=JSON.parse(this.getStr())}catch(e){throw new Error(e)}for(var o=0;o<e.length;o++)r.set(e[o].type,e[o].attributes);for(this.postmp=this.end,this.bufferstep=0;this.end<this.buffertmp.length;this.postmp=this.end,this.bufferstep++){var n=new i;this.bytelen=this.intlen,this.end=this.postmp+this.bytelen;var a=0;try{a=this.getInt32()}catch(e){}var l=r.get(a);if(l){n.set("byteNodetype",a);for(var p=0;p<l.length;p++){var h=l[p],y={};for(var c in h)y.name=c,y.type=h[c];switch(y.type){case 0:this.step(this.charlen),n.set(y.name,this.getInt8());break;case 1:this.step(this.intlen),n.set(y.name,this.getInt32());break;case 2:this.step(this.uintlen),n.set(y.name,this.getUInt32());break;case 3:this.step(this.floatlen),n.set(y.name,this.getFloat());break;case 4:this.step(this.dblen),n.set(y.name,this.getDouble());break;case 5:var g="";this.step(this.intlen),this.step(this.getInt32());try{g=this.getStr()}catch(e){g=""}n.set(y.name,g);break;case 6:break;case 7:n.set(y.name,this.getGeom())}}var u=n.get("graphyid");n.set("sbid",u),n.delete("graphyid"),n.has("layerid")&&(131404!=n.get("byteNodetype")&&131405!=n.get("byteNodetype")&&131406!=n.get("byteNodetype")||(n.set("layeridtmp",n.get("layerid")),n.delete("layerid"),n.set("layerid",n.get("byteNodetype"))));var f=n.get("layerid");f=String(f);var d={};try{var b=n.get("oid");if("131404"==f)t.has(f)?t.get(f)[b]=n:(d[b]=n,t.set(f,d));else{var m=n.get("geometrytype"),v=!1;if(131401==n.get("byteNodetype")&&(2==m||5==m)){var x=new i(JSON.parse(JSON.stringify(n)));x.set("byteNodetype",131402),x.set("isExtend",!0);var T=new s(x);T.options.data.byteNodetype=131401,this.setLayerData(t,f+"_extend",T),v=!0}n.set("hasTerminal",v);var S=new s(n);"131405"==f&&(d=t.get("131404")[b],n.set("font",d.get("font")),n.set("align",d.get("align")),n.set("arrange",d.get("arrange")),n.set("labelcolor",d.get("labelcolor")),n.set("labelsize",d.get("labelsize")),n.set("zoom",d.get("zoom"))),this.setLayerData(t,f,S)}}catch(e){console.error(e)}}}return t.delete("131404"),t.delete("131406"),t},n.prototype.setLayerData=function(e,t,r){if(e.has(t))e.get(t).features.push(r.getFeature());else{var o=r.getStyle();e.set(t,{type:r.cellType,features:[r.getFeature()],paint:o.paint,layout:o.layout})}},n.prototype.getGeom=function(){var e={georelation:[],coords:[]};this.step(this.intlen);for(var t=this.getInt32(),r=[],s=0;s<t/16;s++){this.step(this.dblen);var i=this.getDouble();this.step(this.dblen);var n=this.getDouble();r.push(i,n)}this.step(this.intlen);for(var a=this.getUInt32(),l=[],p=0;p<a/4;p++){this.step(this.intlen);var h=this.getInt32();e.georelation.push(h),p%3==0&&l.push(h)}for(var y=0,c=y+1;y<l.length;y++,c++){var g,u=l[y]-1;g=y===l.length-1?r.length:l[c]-1;for(var f=r.slice(u,g),d=[],b=0,m=b+1;b<f.length-1;m=(b+=2)+1){var v=o._unproject({x:f[b],y:f[m]});d.push([v.lng,v.lat])}e.coords.push(d)}return this.postmp=this.end,e},n.prototype.getBuffer=function(){var e=this.buffertmp.slice(this.postmp,this.end);return new DataView(e.buffer)},n.prototype.getFloat=function(){return this.getBuffer().getFloat32(0,!0)},n.prototype.getDouble=function(){return this.getBuffer().getFloat64(0,!0)},n.prototype.getInt32=function(){return this.getBuffer().getInt32(0,!0)},n.prototype.getUInt32=function(){return this.getBuffer().getInt32(0,!0)},n.prototype.getInt8=function(){return this.getBuffer().getUint8(0,!0)},n.prototype.getStr=function(){return this.byteToString(this.buffertmp.slice(this.postmp,this.end))},n.prototype.byteToString=function(e){if("string"==typeof e)return e;for(var t="",r=e,o=0;o<r.length;o++){var s=r[o].toString(2),i=s.match(/^1+?(?=0)/);if(i&&8==s.length){for(var n=i[0].length,a=r[o].toString(2).slice(7-n),l=1;l<n;l++)a+=r[l+o].toString(2).slice(2);t+=String.fromCharCode(parseInt(a,2)),o+=n-1}else t+=String.fromCharCode(r[o])}return t},e.exports=n},273:(e,t,r)=>{var o=r(129);function s(e){this.options=e,this.celltype()}s.prototype.celltype=function(){var e=null,t=null,r=null,o=String(this.options.get("byteNodetype")),s=this.options.get("geometrytype"),i=this.options.get("symbolid"),n=this.options.get("shape").coords||[];"131404"==o||"131405"==o||"131406"==o?(e="Point",t="symbol"):(4!=s&&1!=s||(e=Array.isArray(n[0])?"MultiPoint":"Point",t=i?"esymbol":"circle"),5!=s&&2!=s||(e=Array.isArray(n[0][0])?"MultiLineString":"LineString",t=i?"eline":"line"),6!=s&&3!=s||(e=Array.isArray(n[0][0][0])?"MultiPolygon":"Polygon",t="fill")),"131401"==o&&"Point"!=e&&"MultiPoint"!=e&&(e=(r=e).match(/Multi/g)?"MultiPoint":"Point",t=i?"esymbol":"circle"),this.geoType=e,this.subType=r,this.cellType=t},s.prototype.getPolygonCenter=function(e){for(var t=e[0],r=0,o=0,s=t.length-1,i=0;i<s;i++)r+=t[i][0],o+=t[i][1];return[r/s,o/s]},s.prototype.getCoords=function(){var e=this.options,t=null,r=e.get("x"),s=e.get("y");if("symbol"==this.cellType&&r&&s)if(1e3<r){var i=o._unproject({x:r,y:s});t=[i.lng,i.lat]}else t=[r,s];else 131406!=e.get("byteNodetype")&&(t=JSON.parse(JSON.stringify(e.get("shape").coords)));if(this.subType)if("LineString"==this.subType)t=t[0][1];else if("Polygon"==this.subType)t=this.getPolygonCenter(t);else if("MultiLineString"==this.subType||"MultiPolygon"==this.subType)for(var n=0;n<t.length;n++)"MultiLineString"==this.subType?t[n]=[t[n][1]]:t[n]=[this.getPolygonCenter(t[n])];return"MultiPoint"==this.geoType&&t[0]&&Array.isArray(t[0][0])&&(t=t[0]),t},s.prototype.getFeature=function(){var e=this.getCoords(),t=null;return e&&(t={type:"Feature",geometry:{type:this.geoType,coordinates:e},properties:this.getProperties()}),t},s.prototype.getProperties=function(){var e,t=this.options,r={shape:t.get("shape"),sbzlx:t.get("sbzlx"),scalable:1==t.get("zoom"),oid:t.get("oid"),sbid:t.get("sbid"),layerid:t.get("layeridtmp")||t.get("layerid")};!0===t.get("hasTerminal")&&(r.shape=t.get("shape")),this.options.keys.forEach((function(e){switch(e){case"symbolcolor":case"symbolangle":case"symbolsize":case"symbolid":case"text":case"labelcolor":case"labelangle":case"labelsize":case"font":case"shape":break;case"layerid":r.layerid=t.get("layeridtmp")||t.get("layerid");break;default:r[e]=t.data[e]}}));var s=function(e,o,s){var i=t.get(e);i&&i.length>0?r[o]=String(i):r[o]=i};return(t.get("symbolcolor")||t.get("labelcolor"))&&(symColorData=o.getColor(t.get("symbolcolor")||t.get("labelcolor")),r.color=symColorData.color),s("symbolangle","rotate"),s("symbolsize","size"),s("symbolid","id"),r.size=Number(t.get("symbolsize")),"symbol"==this.cellType&&t.get("text")&&(s("text","text"),s("labelangle","rotate"),t.get("font")&&(r.font=[t.get("font")])),"line"!=this.cellType&&"eline"!=this.cellType&&"symbol"==this.cellType&&t.get("text")&&((e=this.options.get("isExtend")?1:o.mmToPixel(t.get("symbolsize")||t.get("labelsize")||1))<1&&(e=1),r.size=e,r.opacity=symColorData?symColorData.alpha:1),r},s.prototype.getStyle=function(){var e={},t={};return"point"==this.cellType&&(e={"circle-radius":["get","size"],"circle-color":["get","color"]}),"line"!=this.cellType&&"eline"!=this.cellType||(e={"line-color":["get","color"],"line-width":["get","size"],"line-opacity":["get","opacity"]},"eline"!=this.cellType||this.options.data.isExtend||(t["esymbol-id"]=["get","id"])),"fill"==this.cellType&&(e={"fill-outline-color":["get","color"],"fill-color":"rgba(0,0,0,0)"}),"symbol"==this.cellType&&this.options.get("text")&&(e={"text-color":["get","color"]},t={"text-field":"{text}","text-anchor":"bottom","text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-scaleable":!0,"text-size":["get","size"],"text-font":["Microsoft YaHei Regular"]}),"esymbol"==this.cellType&&(e={"esymbol-color":["get","color"],"esymbol-opacity":["get","opacity"]},t={"esymbol-id":["get","id"],"esymbol-rotate":["get","rotate"],"esymbol-size":["get","size"],"esymbol-scaleable":["get","scalable"]}),{paint:e,layout:t}},e.exports=s},129:e=>{var t={ajax:function(e){var t=this;e.method=e.method?e.method.toUpperCase():"POST",e.url=e.url||"",e.async=e.async||!0,e.data=e.data||null;var r=null,o=null,s=null,i=new Promise((function(i,n){if(s=n,r=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),"POST"===e.method)r.open(e.method,e.url,e.async),o=JSON.stringify(e.data),"json"===e.type?r.setRequestHeader("Content-Type","application/json;charset=UTF-8"):"arrayBuffer"===e.type&&(r.responseType="arraybuffer",e.isEnc&&(o=new FormData).append(e.data.key,e.data.value));else if("GET"===e.method){var a,l=[];for(var p in e.data)l.push(p+"="+e.data[p]);a=e.url+"?"+l.join("&"),r.open(e.method,a,e.async),"arrayBuffer"===e.type&&(r.responseType="arraybuffer")}if(e.header)for(var h in e.header)r.setRequestHeader(h,e.header[h]);r.withCredentials="include"===e.credentials,r.onreadystatechange=function(){var e;if(4==r.readyState&&200==r.status)try{"arraybuffer"==r.responseType?(e=r.response,i(e)):e=JSON.parse(r.responseText)}catch(e){n(t._detectError(r.responseText))}},"GET"==e.method?r.send(null):"POST"==e.method&&r.send(o)}));return i.abort=function(){s("promise")},i},decodeDataUriText:function(e,t){var r=decodeURIComponent(t);return e?atob(r):r},decodeDataUriArrayBuffer:function(e,t){for(var r=decodeDataUriText(e,t),o=new ArrayBuffer(r.length),s=new Uint8Array(o),i=0;i<r.length;i++)s[i]=r.charCodeAt(i);return o},decodeDataUri:function(e,t){t=defaultValue(t,"");var r=e[1],o=!!e[2],s=e[3];switch(t){case"":case"text":return decodeDataUriText(o,s);case"arraybuffer":return decodeDataUriArrayBuffer(o,s);case"blob":var i=decodeDataUriArrayBuffer(o,s);return new Blob([i],{type:r});case"document":return(new DOMParser).parseFromString(decodeDataUriText(o,s),r);case"json":return JSON.parse(decodeDataUriText(o,s));default:throw new DeveloperError("Unhandled responseType: "+t)}},mmToPixel:function(e){return e/25.4*96},getColor:function(e){var t=(255&e).toString(16),r=(e>>8&255).toString(16),o=(e>>16&255).toString(16),s=e>>24&255;return 255==s&&(s=0),s=1-s/100,{color:"#"+(t=t.length<2?"0"+t:t)+(r=r.length<2?"0"+r:r)+(o=o.length<2?"0"+o:o),alpha:s}},_project:function(e){var t=6378137,r=Math.PI/180,o=85.0511287798,s=Math.max(Math.min(o,e.lat),-o),i=Math.sin(s*r);return{x:t*e.lng*r,y:t*Math.log((1+i)/(1-i))/2}},_unproject:function(e){var t=6378137,r=180/Math.PI;return{lat:(2*Math.atan(Math.exp(e.y/t))-Math.PI/2)*r,lng:e.x*r/t}},_segmentsIntr:function(e,t,r,o){var s=(e.x-r.x)*(t.y-r.y)-(e.y-r.y)*(t.x-r.x),i=(e.x-o.x)*(t.y-o.y)-(e.y-o.y)*(t.x-o.x);if(s*i>=0)return!1;var n=(r.x-e.x)*(o.y-e.y)-(r.y-e.y)*(o.x-e.x);if(n*(n+s-i)>=0)return!1;var a=n/(i-s),l=a*(t.x-e.x),p=a*(t.y-e.y);return[e.x+l,e.y+p]},_detectError:function(e){try{throw new Error(e.code+":"+e.message)}catch(e){throw new Error("")}}};e.exports=t}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,r),i.exports}var o,s,i;return o=r(129),s=r(801),i=[],self.addEventListener("message",(function(e){var t=e.data;for(var r in i)i[r].abort(),i[r]=null,delete i[r];i[t.time]=o.ajax({url:t.url,method:t.method,type:"arrayBuffer",header:t.header,data:t.postdata,isEnc:t.isEnc}),i[t.time].then((function(e){var r=new s(e).decodebuffer();self.postMessage(r),i[t.time]=null,delete i[t.time]}),(function(e){console.log("error:",t),i[t.time]=null,delete i[t.time]}))})),{}})()}));'],{type:"text/javascript"}))),this.worker=new window.Worker(this._workerUrl,{name:"GisLayer"}),this.worker.addEventListener("message",(function(e){if(t._loaded||t._map.loaded()){t._loaded=!0;try{t.fire(y.BEFORE_RENDER,e.data)}catch(e){console.error(e)}t._render(e.data)}else t.first&&(t.first=!0,t._map.on("load",(function(e){t._loaded=1;try{t.fire(y.BEFORE_RENDER,e.data)}catch(e){console.error(e)}t._render(e.data)})))})),this.worker.addEventListener(y.ERROR_RENDER,(function(e){t.fire(y.ERROR_RENDER,e)}))}},{key:"postData",get:function(){return console.error("getVecRequestData()"),this._postData},set:function(t){console.error("setVecRequestData(postData)"),this.setVecRequestData(t)}},{key:"getVecRequestData",value:function(){return this._postData}},{key:"setVecRequestData",value:function(t){t&&(this._postData=t)}},{key:"refresh",value:function(t){if(t&&this.removeLayer(),this._visible&&!this._isLock){var e=this,n=e._map.getBounds(),r=e._map.getContainer(),o=p.degreeToMercator(n._sw),s=p.degreeToMercator(n._ne),a=e._postData,u="".concat(o.x,",").concat(o.y,",").concat(s.x,",").concat(s.y),l={time:(new Date).getTime(),url:e._url,method:e._method||"get",postdata:i({REQUEST:"GETVECTORMAP",WIDTH:r.offsetWidth,HEIGHT:r.offsetHeight,BBOX:u},a)};if(g.active){var c=g.getRequestHeaders(this._msToken);g.serviceInfo.encMode?(l.isEnc=!0,l.postdata=g.getEncData(l.postdata,c,l.url)):l.header=c}this.worker.postMessage(l)}}},{key:"render",value:function(){var t=this;this.worker||(this._createWorker(),this.refresh(),this._updateLayerEvent=function(){t.refresh()},this._map.on("moveend",this._updateLayerEvent))}},{key:"addLayer",value:function(){this.render(),console.error("GridVectorLayeraddLayer()render()")}},{key:"removeLayer",value:function(){for(var t=0;t<this.historyLayer.length;t++)try{this._map.getLayer(this.historyLayer[t])&&this._map.removeLayer(this.historyLayer[t]),this._map.getSource(this.historyLayer[t])&&this._map.removeSource(this.historyLayer[t])}catch(t){}this.historyLayer=[]}},{key:"destory",value:function(){this.removeLayer(),this._updateLayerEvent&&(this._map.off("moveend",this._updateLayerEvent),this.worker&&(this.worker.terminate(),this.worker=null))}},{key:"_render",value:function(t){for(var e=0,n=0;n<this.historyLayer.length;n++)-1==t.keys.indexOf(this.historyLayer[n])&&(this.historyLayer[n].indexOf("extLine_")>-1?this._map.setLayoutProperty(this.historyLayer[n],"visibility","none"):this._map.removeLayer(this.historyLayer[n])&&this._map.removeSource(this.historyLayer[n]));this.historyLayer=[];var r=[],i={},o=null;for(this.getDisplaySchema()&&(o=this.getDisplaySchema().getSchema().globe),n=0;n<t.keys.length;n++){var s=t.keys[n],a=s.indexOf("_extend")>-1,u=t.data[s],l=s.replace("_extend",""),c=null;if(this.getDisplaySchema()&&(c=this.getDisplaySchema().getSchemaByLayerId(l)),this._devCacheData&&this._devCacheData.getCache().add[s])for(var h in this._devCacheData.getCache().add[s]){var f=this._devCacheData.getCache().add[s][h]._toFeature();u.features.push(f),console.log("")}var d=null;e+=u.features.length;for(var g=u.features.length-1;g>=0;g--){var v=u.features[g].properties.oid;switch(u.features[g].properties.oriSize=u.features[g].properties.size,u.type){case"esymbol":if(u.features[g].properties.hasTerminal){var _=u.features[g].properties.id,b=u.features[g].properties.sbzlx,x=m[_+"-"+b];if(u.features[g].properties.hasTerminal){var w=u.features[g].properties.shape.coords[0][0],E=u.features[g].properties.shape.coords[0][2];switch(x.length){case 1:E=u.features[g].properties.shape.coords[0][1];break;case 2:case 3:break;case 4:E=u.features[g].properties.shape.coords[0][3]}if(w&&E){var S=p.transSymbolAngle({x:w[0],y:w[1]},{x:E[0],y:E[1]});u.features[g].properties.rotate=-1*S}}}break;case"eline":a?u.features[g].properties.size=4:(u.features[g].properties.size*=20.32,u.features[g].properties.size<6&&(u.features[g].properties.size=6));break;case"fill":if(d||(d={type:"eline",paint:{"line-color":["get","color"],"line-width":["get","size"],"line-opacity":1},layout:{"esymbol-id":["get","id"]},features:[]},-1==this.historyLayer.indexOf("extLine_"+s)&&this.historyLayer.push("extLine_"+s)),d){var P=JSON.parse(JSON.stringify(u.features[g]));P.geometry.type="MultiLineString",P.properties.id="410",P.properties.byteNodetype=131402,P.properties.size=10,d.features.push(P),i["extLine_"+s]=d}break;case"symbol":u.features[g].properties.oid+="_"+Math.random(),u.features[g].properties}try{this.fire(y.HANDLE_DEV,u.features[g])}catch(t){console.error(t)}if(this._devCacheData){if(this._devCacheData.getCache().remove&&this._devCacheData.getCache().remove[l]&&(console.log(""),this._devCacheData.getCache().remove[l][v])){u.features.splice(g,1);continue}if(this._devCacheData.getCache().update&&this._devCacheData.getCache().update[s])for(var C in this._devCacheData.getCache().update[s])if(C==v){var I=this._devCacheData.getCache().update[s][C]._toFeature();for(var M in console.log(""),u.features[g].geometry=I.geometry,I.properties)"oid"!=M&&"layerid"!=M&&"sbzlx"!=M&&"shape"!=M&&I.properties[M]&&(u.features[g].properties[M]=I.properties[M])}}if(c)switch(u.type){case"esymbol":u.features[g].properties.color=p.getFinalPropValue(c,v,"color")||u.features[g].properties.color,u.features[g].properties.rotate=p.getFinalPropValue(c,v,"rotate")||u.features[g].properties.rotate,u.features[g].properties.size=p.getFinalPropValue(c,v,"size")||u.features[g].properties.size;break;case"eline":u.features[g].properties.color=p.getFinalPropValue(c,v,"color")||u.features[g].properties.color,u.features[g].properties.size=p.getFinalPropValue(c,v,"size")||u.features[g].properties.size}o&&o&&o.color&&(o.exclude&&o.exclude[l]?(o.exclude[l].common&&o.exclude[l].common.color&&(u.features[g].properties.color=o.exclude[l].common.color),o.exclude[l][v]&&(u.features[g].properties.color=o.exclude[l][v].color||o.color,u.features[g].properties.size=o.exclude[l][v].size)):(u.features[g].properties.color=o.color||u.features[g].properties.color,u.features[g].properties.size=o.size||u.features[g].properties.size));try{if(a){u.features[g].properties.size=4;var O=u.features[g].properties.id,T=u.features[g].properties.sbzlx,L=u.features[g].properties.rotate,N=u.features[g].properties.size,A={lng:u.features[g].geometry.coordinates[0][1][0],lat:u.features[g].geometry.coordinates[0][1][1]},R=!0;if(this._devCacheData&&this._devCacheData.getCache().update&&this._devCacheData.getCache().update[l])for(var D in this._devCacheData.getCache().update[l])if(D==v){u.features.splice(g,1),R=!1;break}if(!R)continue;var k=p.calcTerminal(O,T,A,L,N/2);p.getCutLineCoords(u.features[g],k)}else if(u.features[g].properties.shape){var F=p.transGeoByRelation(u.features[g].geometry.coordinates,u.features[g].properties.shape.georelation);F&&(u.features[g].geometry.coordinates=F)}}catch(t){console.error(t)}}var B=this._map.getLayer(s);try{B&&B.type==u.type?(this._map.getSource(s).setData({type:"FeatureCollection",features:u.features}),this._map.moveLayer(s)):(this._map.getLayer(s)&&this._map.removeLayer(s),this._map.getSource(s)&&this._map.removeSource(s),this._map.addLayer({id:s,type:u.type,source:{type:"geojson",data:{type:"FeatureCollection",features:u.features}},paint:u.paint,layout:u.layout,style:{transition:{duration:0,delay:0}}})),"symbol"==u.type&&r.push(s),this.historyLayer.push(s)}catch(t){throw Error(t)}d&&(this._map.getLayer("extLine_"+s)?(this._map.getSource("extLine_"+s).setData({type:"FeatureCollection",features:d.features}),this._map.moveLayer(s)):this._map.addLayer({id:"extLine_"+s,type:d.type,source:{type:"geojson",data:{type:"FeatureCollection",features:d.features}},paint:d.paint,layout:d.layout,style:{transition:{duration:0,delay:0}}}),this._map.setLayoutProperty("extLine_"+s,"visibility","visible"),this._map.moveLayer("extLine_"+s))}for(n=0;n<r.length;n++)this._map.getLayer(r[n])&&this._map.moveLayer(r[n]);for(var j in console.log(":",e),i)t.data[j]=i[j],-1==t.keys.indexOf(j)&&t.keys.push(j);this._map.powerGridDevs=t,this._map.fire("pg-update");try{this.fire(y.AFTER_RENDER)}catch(t){console.error(t)}}},{key:"setLockViewDevs",value:function(t,e){!!this._isLock!=!!t&&(this._isLock=!1!==t),!this._isLock&&e&&this._visible&&this.refresh()}},{key:"setVisible",value:function(t,e){!!this._visible!=!!t&&(this._visible=!1!==t,this._visible?e?this._isLock?(this._isLock=!1,this.refresh(),this._isLock=!0):this.refresh():this._render(this._map.powerGridDevs):this.removeLayer())}}])&&s(e.prototype,n),r&&s(e,r),l}(d);t.exports=v},4420:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this))._map=t,e._extKey="_ext_"+(new Date).getTime(),e._eleCache={},e}return e=u,(n=[{key:"setVisible",value:function(t){this._isVisible=!!t}},{key:"getEleDevs",value:function(){var t=[];for(var e in this._eleCache)t.push(this._eleCache[e]);return t}},{key:"addEleDevs",value:function(t){if(this._map&&t&&Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];n.setMap(this._map),n.setRenderTool(this),this._addEle(n)}else console.error("")}},{key:"_addEle",value:function(t){var e=null,n=null,r=null,i="",o=t.getDevKey()+this._extKey;switch(t.type){case"point":e={type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{id:t.symbolId,layerid:o,oid:t.devId,rotate:t.symbolRotate,size:t.symbolSize,color:t.symbolColor,scalable:t.symbolScalable,opacity:t.symbolOpacity,attributes:t.attributes}},i="esymbol",n={"esymbol-color":["get","color"],"esymbol-opacity":["get","opacity"]},r={"esymbol-id":["get","id"],"esymbol-rotate":["get","rotate"],"esymbol-size":["get","size"],"esymbol-scaleable":["get","scaleable"]};break;case"line":e={type:"Feature",geometry:{type:Array.isArray(t.coordinates[0][0])?"MultiLineString":"LineString",coordinates:t.coordinates},properties:{id:t.symbolId,layerid:o,oid:t.devId,size:t.symbolWidth,color:t.symbolColor,opacity:t.symbolOpacity,attributes:t.attributes}},i="eline",n={"line-color":["get","color"],"line-width":["get","size"],"line-opacity":["get","opacity"]},r={"esymbol-id":["get","id"]};break;case"fill":e={type:"Feature",geometry:{type:"Polygon",coordinates:t.coordinates},properties:{layerid:o,oid:t.devId,color:t.symbolColor,fillColor:t.symbolFillColor,fillOpacity:t.symbolFillOpacity,attributes:t.attributes}},i="fill",n={"fill-outline-color":["get","color"],"fill-color":["get","fillColor"],"fill-opacity":["get","fillOpacity"]},r={};break;case"text":e={type:"Feature",geometry:{type:"Point",coordinates:t.coordinates},properties:{layerid:o,oid:t.devId,text:t.symbolText,size:t.symbolSize,color:t.symbolColor,attributes:t.attributes}},i="symbol",n={"text-color":["get","color"]},r={"text-field":"{text}","text-anchor":"bottom","text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-scaleable":!0,"text-size":["get","size"],"text-font":["Microsoft YaHei Regular"]}}this._map.getLayer(o)?this._map.getSource(o).setData({type:"FeatureCollection",features:[e]}):(this._eleCache[o]=t,this._map.addLayer({id:o,type:i,source:{type:"geojson",data:{type:"FeatureCollection",features:[e]}},paint:n,layout:r,style:{transition:{duration:0,delay:0}}}))}},{key:"_removeEle",value:function(t){var e=t.getDevKey()+this._extKey;this._map.getLayer(e)&&(this._map.removeLayer(e),this._map.removeSource(e)),delete this._eleCache[e]}},{key:"removeEleDevs",value:function(t){var e=this;if(this._map)if(t)t.forEach((function(t){t.setMap(null),t.setRenderTool(null),e._removeEle(t)}));else for(var n in this._eleCache){var r=this._eleCache[n];r.setMap(null),r.setRenderTool(null),this._removeEle(r)}}}])&&i(e.prototype,n),r&&i(e,r),u}(n(7859));t.exports=l},4867:(module,__unused_webpack_exports,__webpack_require__)=>{var MSEncrypt=__webpack_require__(8952),MSManager={active:!0,serviceInfo:{encMode:!1,sm4Type:"ECB",encryptType:"SM3",curveLine:!1,xhrWithCredentials:!1},getRequestHeaders:function(){var t=(new Date).getTime(),e=getUUID();return{token:MSManager.serviceInfo.token,timestamp:t,random:e,sign:getSign(t,e)}},getEncData:function(t,e,n){var r="";r="CBC"==MSManager.serviceInfo.sm4Type.toUpperCase()?"~|~":"&";var i={},o="random="+e.random+r+"timestamp="+e.timestamp+r+"sign="+e.sign,s=JSON.stringify(t);s+=r+"v_trans_temp=body"+r,s+=o,"CBC"==MSManager.serviceInfo.sm4Type.toUpperCase()?i.crypto=MSManager.encryptSM4_CBC(s):i.crypto=MSManager.encryptSM4_EBC(s);var a=s+r+"HOST="+n.split("://")[1].split("/")[0];return"CBC"==MSManager.serviceInfo.sm4Type.toUpperCase()&&(a+=r+"url=https://"+n.split("://")[1],a+=r+"cookieToken="+MSManager.serviceInfo.token),i.checksum=MSEncrypt.sm3(a),i.token=MSManager.serviceInfo.token,{key:"superData",value:JSON.stringify(i)}},encryptSM4_EBC:function(t){for(var e=window.atob("ZWNiOGNjZTc=")+MSManager.serviceInfo.token.substr(MSManager.serviceInfo.token.length-8),n=MSEncrypt.sm4.encryptECB(t,e),r="",i=0;i<n.length;i++)r+=n.charCodeAt(i).toString(16);return r},encryptSM4_CBC:function(t){for(var e=window.atob("ZWNiOGNjZTc=")+MSManager.serviceInfo.token.substr(MSManager.serviceInfo.token.length-8),n=MSEncrypt.sm4.encryptCBC(t,e),r="",i=0;i<n.length;i++)r+=n.charCodeAt(i).toString(16);return r}},_token="";Object.defineProperty(MSManager.serviceInfo,"token",{set:function(t){_token=t,localStorage.setItem("ms-t",t),localStorage.setItem("ms-uts",(new Date).getTime())},get:function(){return _token||localStorage.getItem("ms-t")}});var _secretKey="";function getUUID(){for(var s=[],hexDigits="0123456789abcdef",i=0;i<36;i++)s[i]=hexDigits.substr(Math.floor(16*eval(window.atob("TWF0aC5yYW5kb20oKQ=="))),1);s[14]="4",s[19]=hexDigits.substr(3&s[19]|8,1),s[8]=s[13]=s[18]=s[23]="-";var uuid=s.join("");return uuid}function getSign(t,e){var n=(MSManager.serviceInfo.token?"token="+MSManager.serviceInfo.token+"&":"")+"timestamp="+t+"&random="+e+"&secretkey="+MSManager.serviceInfo.secretKey,r="";switch(MSManager.serviceInfo.encryptType.toUpperCase()){case"MD5":r=MSEncrypt.md5.hex_md5(n).toUpperCase();break;case"SM3":r=MSEncrypt.sm3(n).toUpperCase()}return r}Object.defineProperty(MSManager.serviceInfo,"secretKey",{set:function(t){_secretKey=t,localStorage.setItem("ms-sk",t),localStorage.setItem("ms-uts",(new Date).getTime())},get:function(){return _secretKey||localStorage.getItem("ms-sk")}}),module.exports=MSManager},8288:t=>{t.exports={FeaturesDef:{point:{type:"esymbol",paintData:{"esymbol-color":["get","color"],"esymbol-opacity":["get","opacity"]},layoutData:{"esymbol-id":["get","id"],"esymbol-rotate":["get","rotate"],"esymbol-size":["get","size"],"esymbol-scaleable":["get","scaleable"]}},line:{type:"eline",paintData:{"line-color":["get","color"],"line-width":["get","size"],"line-opacity":["get","opacity"]},layoutData:{"esymbol-id":["get","id"]}},fill:{type:"fill",paintData:{"fill-outline-color":["get","color"],"fill-color":["get","fillColor"],"fill-opacity":["get","fillOpacity"]},layoutData:{}},text:{type:"symbol",paintData:{"text-color":["get","color"]},layoutData:{"text-field":"{text}","text-anchor":"bottom","text-allow-overlap":!0,"text-ignore-placement":!0,"symbol-scaleable":!0,"text-size":["get","size"],"text-font":["Microsoft YaHei Regular"]}}},LayersSequence:["5101100","198813","1001522","1002400","1106000","198811","1102000","3980000","103000","0","4115000","2507000","2102000","1001515","1001514","1001512","1001020","1001513","1001506","4113000","1001520","1001521","1001500","1001501","1001502","1001503","1001504","1001505","1001509","1001508","1001510","2101000","1001517","1001516","1001518","1001519","2103000","4112000","150000","2510000","2505000","2501000","170000","4105000","2504000","210000","2506000","3203000","2502000","2503000","4104000","2123000","207000","1103000","2513000","1101000","370000","1109000","1105000","205000","2125000","1003302","1110000","1107000","2511000","206000","1001007","2512000","2600000","117000","2514000","180000","2700000","4111000","2800000","2127000","4106000","3102000","4110000","1003000","4107000","4119000","203000","121000","3219000","4116000","3205000","4120000","4103000","4102000","4118000","4109000","102000","3110000","201000","3114000","209000","3202000","4117000","4114000","202000","100006","3218000","4101000","1004000","3109000","113000","1001000","198814","3106000","1001300","118000","220000","1002300","3113000","3420000","119000","3108000","3101000","160000","3104000","3430000","3100000","130000","1001013","3201000","116000","120000","140000","190000","112000","3216000","100005","101000","115000","1001100","1001400","111000","1001200","1001006","110000","1001511","114000","3103000","4121000","100001","198810","100000","300000","5101000","5102000","350000","1001018","4122000","1002100","4108000","4124000","1002200","4125000","4126000","4123000","1001004","198812","3","1","391000","5","7","4","6","320000","361000","8","9","10","11","340000","321000","333000","313000","390000","322000","309000","311000","301000","318000","315000","319000","304000","330000","360000","305000","314000","302000","307000","1001019","303000","312000","316000","308000","306000","317000","339000","345000","380000","323000","310000","3990000","3309000","3440000","3217000","3310000","3410000","3313000","3312000","3460000","3311000","3215000","1001014","1114000","8393000","8347000","1112000","1113000","8190000","8103000","1167000","1169000","4127000","3204000","3101100","1100000","1001525","3450000","208000","101100","100003","4128000","100002","371000","5102100","1002301","1002201","1002101","3314000"]}},2072:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this))._devMap={add:{},update:{},remove:{}},t}return e=u,(n=[{key:"_setDevMapData",value:function(t,e){if(t&&t.length)for(var n=0;n<t.length;n++){var r=t[n];r.devId,this._devMap[e][r.devTypeId]||(this._devMap[e][r.devTypeId]={}),this._devMap[e][r.devTypeId][r.devId]=r}}},{key:"setAddDevs",value:function(t){this._setDevMapData(t,"add")}},{key:"setUpdateDevs",value:function(t){this._setDevMapData(t,"update")}},{key:"setRemoveDevs",value:function(t){this._setDevMapData(t,"remove")}},{key:"clearCache",value:function(){for(var t in this._devMap.add)delete this._devMap.add[t];for(var e in this._devMap.update)delete this._devMap.update[e];for(var n in this._devMap.remove)delete this._devMap.remove[n]}},{key:"getCache",value:function(){return this._devMap}},{key:"clone",value:function(){return JSON.parse(JSON.stringify(this._devMap))}}])&&i(e.prototype,n),r&&i(e,r),u}(n(6194));t.exports=l},57:t=>{function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dpData=e||{globe:{},configData:{}}}var n,r,i;return n=t,(r=[{key:"addSchema",value:function(t){this._dpData.configData[t.layerId]=t.config}},{key:"removeSchemaByLayerId",value:function(t){delete this._dpData.configData[t]}},{key:"setSchema",value:function(t){this._dpData=t||{globe:{},configData:{}}}},{key:"getSchema",value:function(){return this._dpData}},{key:"getSchemaByLayerId",value:function(t){return this._dpData.configData[t]||null}}])&&e(n.prototype,r),i&&e(n,i),t}();t.exports=n},2397:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(6194),h=n(8288),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(l,t);var e,n,r,a=s(l);function l(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(e=a.call(this))._map=t.map,e._suffix="_ss_"+Math.random(),e._selectionColor=t.color||"#ff00ff",e._selectionSet={},e._dsCallback=null,e._fillOpacity=.1,e._featuresMap={point:[],line:[],fill:[],text:[]};var n=u(e);return e._updateEvent=function(){n.render()},e._map.on("pg-update",e._updateEvent),e._intervalId=null,e}return e=l,(n=[{key:"destroy",value:function(){this._map.off("pg-update",this._updateEvent)}},{key:"setFillOpacity",value:function(t){window.isNaN(t)||t>=0&&(this._fillOpacity=t)}},{key:"setDataSourceCallback",value:function(t){this._dsCallback=t}},{key:"setSelectionColor",value:function(t){this._selectionColor=t||"#ff00ff"}},{key:"setFlicker",value:function(t,e){(t=!!t)||(clearInterval(this._intervalId),this._map.setLayoutProperty)}},{key:"_reloadFeatures",value:function(){var t=this;if(this._dsCallback)this._dsCallback((function(e,n){t._addFeature(e,n)}));else if(this._map.powerGridDevs){var e=function(e){var n=t._map.powerGridDevs.data[e];"function"!=typeof n&&Array.isArray(n.features)?n.features.forEach((function(e){t._addFeature(n.type,e)})):console.warn("type ",e," occurs error")};for(var n in this._map.powerGridDevs.data)e(n)}for(var r in this._featuresMap)for(var i={},o=this._featuresMap[r].length-1;o>=0;o--){var s=this._featuresMap[r][o];i[s.properties.layerid+"-"+s.properties.oid]?this._featuresMap[r].splice(o,1):i[s.properties.layerid+"-"+s.properties.oid]=!0}}},{key:"_addFeature",value:function(t,e){if(this._selectionSet[e.properties.layerid]&&this._selectionSet[e.properties.layerid][e.properties.oid]){var n=JSON.parse(JSON.stringify(e));n.properties.color=this._selectionColor;var r="";switch(t){case"esymbol":case"point":r="point";break;case"eline":case"line":r="line",n.properties.size=6;break;case"fill":r="fill",n.properties.fillColor=this._selectionColor,n.properties.color=this._selectionColor,n.properties.fillOpacity=.1;break;case"symbol":case"text":r="text"}this._featuresMap[r].push(n)}}},{key:"setDevs",value:function(t,e){if(t)for(var n in this._selectionSet={},t)for(var r=0;r<t[n].length;r++){var i=t[n][r];this._selectionSet[n]||(this._selectionSet[n]={}),this._selectionSet[n][i]=!0}e&&this.render()}},{key:"getDevs",value:function(){var t={};for(var e in this._selectionSet)for(var n in t[e]=[],this._selectionSet[e])t[e].push(n);return t}},{key:"addDevs",value:function(t,e){if(t)for(var n in t)for(var r=0;r<t[n].length;r++){var i=t[n][r];this._selectionSet[n]||(this._selectionSet[n]={}),this._selectionSet[n][i]=!0}e&&this.render()}},{key:"removeDevs",value:function(t,e){if(t)for(var n in t)for(var r=0;r<t[n].length;r++){var i=t[n][r];this._selectionSet[n]&&delete this._selectionSet[n][i]}e&&this.render()}},{key:"render",value:function(){for(var t in this._reloadFeatures(),this._featuresMap){for(var e=this._featuresMap[t].length-1;e>=0;e--){var n=this._featuresMap[t][e].properties.layerid,r=this._featuresMap[t][e].properties.oid;"fill"==t&&(this._featuresMap[t][e].properties.fillOpacity=this._fillOpacity),this._selectionSet[n]&&this._selectionSet[n][r]||this._featuresMap[t].splice(e,1)}var i=t+this._suffix;this._map.getLayer(i)?this._map.getSource(i).setData({type:"FeatureCollection",features:this._featuresMap[t]}):(this._map.getLayer(i)&&this._map.removeLayer(i),this._map.getSource(i)&&this._map.removeSource(i),this._map.addLayer({id:i,type:h.FeaturesDef[t].type,source:{type:"geojson",data:{type:"FeatureCollection",features:this._featuresMap[t]}},paint:h.FeaturesDef[t].paintData,layout:h.FeaturesDef[t].layoutData,style:{transition:{duration:0,delay:0}}})),this._map.moveLayer(i)}}},{key:"clear",value:function(){for(var t in this._selectionSet={},this._featuresMap){var e=t+this._suffix;this._map.getLayer(e)&&this._map.removeLayer(e),this._map.getSource(e)&&this._map.removeSource(e),this._featuresMap[t].length=0}}}])&&i(e.prototype,n),r&&i(e,r),l}(c);t.exports=f},8965:t=>{t.exports={101e5:[{symbolid:2010010,condition:{}}],102e5:[{symbolid:2020140,condition:{}},{symbolid:2020142,condition:{}}],10200001:[{symbolid:2020141,condition:{}},{symbolid:2020142,condition:{}}],103e5:[{symbolid:2020072,condition:{gtcz:5}},{symbolid:2020030,condition:{gtcz:2}},{symbolid:2020010,condition:{gtcz:1}},{symbolid:2020050,condition:{gtcz:6}},{symbolid:2020060,condition:{gtcz:4}},{symbolid:2020070,condition:{gtcz:3}},{symbolid:2020076,condition:{gtcz:9}},{symbolid:494,condition:{gtcz:98}}],10300001:[{symbolid:2020051,condition:{gtcz:6}},{symbolid:2020020,condition:{gtcz:1}},{symbolid:2020040,condition:{gtcz:2}},{symbolid:2020061,condition:{gtcz:4}},{symbolid:2020071,condition:{gtcz:3}},{symbolid:2020073,condition:{gtcz:5}},{symbolid:2020077,condition:{gtcz:9}},{symbolid:495,condition:{gtcz:98}}],11e6:[{symbolid:2030020,condition:{}}],11000001:[{symbolid:2030010,condition:{}}],11000002:[{symbolid:2030030,condition:{}}],111e5:[{symbolid:2040010,condition:{kgzt:536870913}},{symbolid:2040011,condition:{kgzt:536870912}}],112e5:[{symbolid:4040020,condition:{kgzt:536870913,type:405002}},{symbolid:4040021,condition:{kgzt:536870912,type:405002}},{symbolid:2050011,condition:{kgzt:536870912,type:405001}},{symbolid:2050010,condition:{kgzt:536870913,type:405001}}],113e5:[{symbolid:4050020,condition:{kgzt:536870913,type:405002}},{symbolid:4050021,condition:{kgzt:536870912,type:405002}},{symbolid:2060011,condition:{kgzt:536870912,type:405001}},{symbolid:2060010,condition:{kgzt:536870913,type:405001}}],114e5:[{symbolid:2070011,condition:{kgzt:536870912}},{symbolid:2070010,condition:{kgzt:536870913}}],115e5:[{symbolid:2090010,condition:{kgzt:536870913}},{symbolid:2090011,condition:{kgzt:536870912}}],11500001:[{symbolid:2090020,condition:{kgzt:536870913}},{symbolid:2090021,condition:{kgzt:536870912}}],11500002:[{symbolid:2090030,condition:{kgzt:536870913}},{symbolid:2090031,condition:{kgzt:536870912}}],116e5:[{symbolid:4200011,condition:{type:4200011}},{symbolid:4200010,condition:{type:4200010}}],117e5:[{symbolid:2120011,condition:{}}],118e5:[{symbolid:4140040,condition:{}}],119e5:[{symbolid:4150010,condition:{}}],12e6:[{symbolid:4130010,condition:{}}],121e5:[{symbolid:4140010,condition:{}}],13e6:[{symbolid:4260010,condition:{}}],13000001:[{symbolid:4260010,condition:{}}],14e6:[{symbolid:420,condition:{}}],14000001:[{symbolid:420,condition:{}}],15e6:[{symbolid:5220010,condition:{}}],16e6:[{symbolid:9050010,condition:{}}],17e6:[{symbolid:5040010,condition:{}}],18e6:[{symbolid:399,condition:{}}],18000001:[{symbolid:399,condition:{}}],19000001:[{symbolid:850010,condition:{}}],19000002:[{symbolid:850020,condition:{}}],19000003:[{symbolid:850030,condition:{}}],19000004:[{symbolid:850040,condition:{}}],19881e3:[{symbolid:20011,condition:{}}],19881100:[{symbolid:410,condition:{}}],19881200:[{symbolid:410,condition:{}}],19881300:[{symbolid:410,condition:{}}],19881400:[{symbolid:410,condition:{}}],201e5:[{symbolid:3010010,condition:{}}],202e5:[{symbolid:3030010,condition:{}}],203e5:[{symbolid:3020011,condition:{}}],204e5:[{symbolid:1030060,condition:{type:1030060}}],205e5:[{symbolid:3040010,condition:{}}],206e5:[{symbolid:3050010,condition:{}}],207e5:[{symbolid:6070010,condition:{}}],209e5:[{symbolid:1030060,condition:{}}],21e6:[{symbolid:9030010,condition:{}}],22e6:[{symbolid:2160010,condition:{}}],22100001:[{symbolid:2012502,condition:{}}],22100002:[{symbolid:2012501,condition:{}}],22100101:[{symbolid:2012601,condition:{}}],22100102:[{symbolid:2012602,condition:{}}],22100201:[{symbolid:2012604,condition:{}}],22200001:[{symbolid:2012601,condition:{}}],22200201:[{symbolid:2012501,condition:{}}],22200301:[{symbolid:2012401,condition:{sbzt:22200301}},{symbolid:2012402,condition:{sbzt:22200302}}],22200401:[{symbolid:2012302,condition:{sbzt:22200403}},{symbolid:2012301,condition:{sbzt:22200401}},{symbolid:2012311,condition:{sbzt:22200402}},{symbolid:2012312,condition:{sbzt:22200404}},{symbolid:2012303,condition:{sbzt:22200405}},{symbolid:2012313,condition:{sbzt:22200406}},{symbolid:2012304,condition:{sbzt:22200407}},{symbolid:2012314,condition:{sbzt:22200408}},{symbolid:2012321,condition:{sbzt:22200409}},{symbolid:2012322,condition:{sbzt:22200410}},{symbolid:2012323,condition:{sbzt:22200411}},{symbolid:2012324,condition:{sbzt:22200412}}],22200402:[{symbolid:2012305,condition:{sbzt:22200413}},{symbolid:2012315,condition:{sbzt:22200414}},{symbolid:2012306,condition:{sbzt:22200415}},{symbolid:2012316,condition:{sbzt:22200416}},{symbolid:2012307,condition:{sbzt:22200417}},{symbolid:2012317,condition:{sbzt:22200418}},{symbolid:2012308,condition:{sbzt:22200419}},{symbolid:2012318,condition:{sbzt:22200420}},{symbolid:2012325,condition:{sbzt:22200421}},{symbolid:2012326,condition:{sbzt:22200422}},{symbolid:2012327,condition:{sbzt:22200423}},{symbolid:2012328,condition:{sbzt:22200424}}],22200501:[{symbolid:2012201,condition:{sbzt:22200501}},{symbolid:2012202,condition:{sbzt:22200502}}],22200601:[{symbolid:2012002,condition:{sbzt:22200602}},{symbolid:2012003,condition:{sbzt:22200603}},{symbolid:2012001,condition:{sbzt:22200601}},{symbolid:2012004,condition:{sbzt:22200604}},{symbolid:2012005,condition:{sbzt:22200605}},{symbolid:2012006,condition:{sbzt:22200606}}],22200701:[{symbolid:2012101,condition:{sbzt:22200701}},{symbolid:2012102,condition:{sbzt:22200702}},{symbolid:2012103,condition:{sbzt:22200703}}],22200801:[{symbolid:2011806,condition:{}}],22200901:[{symbolid:2011901,condition:{sbzt:22200901}},{symbolid:2011902,condition:{sbzt:22200902}}],3e7:[{symbolid:1020010,condition:{type:1020010}}],30000001:[{symbolid:1020030,condition:{type:1020030}}],30000003:[{symbolid:1010010,condition:{type:1010010}},{symbolid:1010020,condition:{type:1010020}},{symbolid:1010030,condition:{type:1010030}},{symbolid:1010040,condition:{type:1010040}},{symbolid:1010050,condition:{type:1010050}},{symbolid:1010060,condition:{type:1010060}},{symbolid:1010070,condition:{type:1010070}},{symbolid:1010080,condition:{type:1010080}},{symbolid:1010090,condition:{type:1010090}},{symbolid:1010100,condition:{type:1010100}},{symbolid:1010110,condition:{type:1010110}}],30000004:[{symbolid:1030010,condition:{type:1030010}}],30000005:[{symbolid:1030020,condition:{type:1030020}}],30000006:[{symbolid:1030110,condition:{type:1030110}}],30000099:[{symbolid:81030110,condition:{type:81030110}}],30100001:[{symbolid:4020010,condition:{type:4020010}},{symbolid:4020020,condition:{type:4020020}},{symbolid:4020030,condition:{type:4020030}},{symbolid:4020380,condition:{type:4020380}},{symbolid:4020381,condition:{type:4020381}},{symbolid:4020382,condition:{type:4020382}},{symbolid:4020383,condition:{type:4020383}},{symbolid:4020384,condition:{type:4020384}},{symbolid:4020385,condition:{type:4020385}}],30100002:[{symbolid:4020050,condition:{type:4020050}},{symbolid:4020051,condition:{type:4020051}},{symbolid:4020070,condition:{type:4020070}},{symbolid:4020080,condition:{type:4020080}},{symbolid:4020090,condition:{type:4020090}},{symbolid:4020100,condition:{type:4020100}},{symbolid:4020110,condition:{type:4020110}},{symbolid:4020120,condition:{type:4020120}},{symbolid:4020130,condition:{type:4020130}},{symbolid:4020140,condition:{type:4020140}},{symbolid:4020150,condition:{type:4020150}},{symbolid:4020160,condition:{type:4020160}},{symbolid:4020170,condition:{type:4020170}},{symbolid:4020180,condition:{type:4020180}},{symbolid:4020190,condition:{type:4020190}},{symbolid:4020200,condition:{type:4020200}},{symbolid:4020210,condition:{type:4020210}},{symbolid:4020220,condition:{type:4020220}},{symbolid:4020230,condition:{type:4020230}},{symbolid:4020060,condition:{type:4020060}}],30100003:[{symbolid:4020240,condition:{type:4020240}},{symbolid:4020250,condition:{type:4020250}},{symbolid:4020260,condition:{type:4020260}},{symbolid:4020270,condition:{type:4020270}},{symbolid:4020280,condition:{type:4020280}},{symbolid:4020290,condition:{type:4020290}},{symbolid:4020300,condition:{type:4020300}},{symbolid:4020310,condition:{type:4020310}},{symbolid:4020320,condition:{type:4020320}},{symbolid:4020330,condition:{type:4020330}},{symbolid:4020331,condition:{type:4020331}}],30100004:[{symbolid:4020350,condition:{type:4020350}},{symbolid:4020360,condition:{type:4020360}}],30100005:[{symbolid:4020090,condition:{type:4020090}},{symbolid:4020091,condition:{type:4020091}},{symbolid:4020092,condition:{type:4020092}},{symbolid:4020093,condition:{type:4020093}},{symbolid:4020094,condition:{type:4020094}}],302e5:[{symbolid:4020240,condition:{type:4020240}},{symbolid:4020250,condition:{type:4020250}},{symbolid:4020260,condition:{type:4020260}},{symbolid:4020270,condition:{type:4020270}},{symbolid:4020280,condition:{type:4020280}},{symbolid:4020290,condition:{type:4020290}},{symbolid:4020300,condition:{type:4020300}},{symbolid:4020310,condition:{type:4020310}},{symbolid:4020320,condition:{type:4020320}},{symbolid:4020330,condition:{type:4020330}}],30200001:[{symbolid:4020010,condition:{type:4020010}},{symbolid:4020020,condition:{type:4020020}},{symbolid:4020030,condition:{type:4020030}}],30200002:[{symbolid:4020050,condition:{type:4020050}},{symbolid:4020051,condition:{type:4020051}},{symbolid:4020052,condition:{type:4020052}},{symbolid:4020060,condition:{type:4020060}},{symbolid:4020070,condition:{type:4020070}},{symbolid:4020080,condition:{type:4020080}},{symbolid:4020090,condition:{type:4020090}},{symbolid:4020100,condition:{type:4020100}},{symbolid:4020110,condition:{type:4020110}},{symbolid:4020120,condition:{type:4020120}},{symbolid:4020130,condition:{type:4020130}},{symbolid:4020140,condition:{type:4020140}},{symbolid:4020150,condition:{type:4020150}},{symbolid:4020160,condition:{type:4020160}},{symbolid:4020170,condition:{type:4020170}},{symbolid:4020180,condition:{type:4020180}},{symbolid:4020190,condition:{type:4020190}},{symbolid:4020200,condition:{type:4020200}},{symbolid:4020210,condition:{type:4020210}},{symbolid:4020220,condition:{type:4020220}},{symbolid:4020230,condition:{type:4020230}}],30200003:[{symbolid:4020050,condition:{type:4020050}},{symbolid:4020051,condition:{type:4020051}},{symbolid:4020052,condition:{type:4020052}},{symbolid:4020060,condition:{type:4020060}},{symbolid:4020070,condition:{type:4020070}},{symbolid:4020080,condition:{type:4020080}},{symbolid:4020090,condition:{type:4020090}},{symbolid:4020100,condition:{type:4020100}},{symbolid:4020110,condition:{type:4020110}},{symbolid:4020120,condition:{type:4020120}},{symbolid:4020130,condition:{type:4020130}},{symbolid:4020140,condition:{type:4020140}},{symbolid:4020150,condition:{type:4020150}},{symbolid:4020160,condition:{type:4020160}},{symbolid:4020170,condition:{type:4020170}},{symbolid:4020180,condition:{type:4020180}},{symbolid:4020190,condition:{type:4020190}},{symbolid:4020200,condition:{type:4020200}},{symbolid:4020210,condition:{type:4020210}},{symbolid:4020220,condition:{type:4020220}},{symbolid:4020230,condition:{type:4020230}}],303e5:[{symbolid:4020370,condition:{}}],304e5:[{symbolid:4020040,condition:{}}],305e5:[{symbolid:4030010,condition:{type:403001,kgzt:536870913}},{symbolid:4030011,condition:{type:403001,kgzt:536870912}},{symbolid:4030020,condition:{type:403002,kgzt:536870913}},{symbolid:4030021,condition:{type:403002,kgzt:536870912}},{symbolid:4100010,condition:{type:4100010,kgzt:536870913}},{symbolid:4100012,condition:{type:4100012,kgzt:536870912}},{symbolid:4100013,condition:{type:4100013,kgzt:536870912}},{symbolid:4100011,condition:{type:4100011,kgzt:536870912}},{symbolid:84100015,condition:{type:84100015,kgzt:536870912}},{symbolid:84100014,condition:{type:84100014,kgzt:536870912}}],30500099:[{symbolid:84030070,condition:{type:407001,kgzt:805306370}},{symbolid:84030071,condition:{type:407001,kgzt:805306368}},{symbolid:84030072,condition:{type:407001,kgzt:805306372}}],306e5:[{symbolid:4050010,condition:{type:405001,kgzt:536870913}},{symbolid:4050011,condition:{type:405001,kgzt:536870912}},{symbolid:4050020,condition:{type:405002,kgzt:536870913}},{symbolid:4050021,condition:{type:405002,kgzt:536870912}},{symbolid:4110010,condition:{type:411001,kgzt:536870913}},{symbolid:4110012,condition:{type:411002,kgzt:536870912}},{symbolid:4110011,condition:{type:411003,kgzt:536870912}},{symbolid:84050050,condition:{type:8405002,kgzt:536870913}},{symbolid:84050051,condition:{type:8405002,kgzt:536870912}}],30600001:[{symbolid:4220010,condition:{type:422001,kgzt:536870912}},{symbolid:4220011,condition:{type:422001,kgzt:536870913}}],30600002:[{symbolid:4090010,condition:{type:409001,kgzt:1073741835}},{symbolid:4090011,condition:{type:409001,kgzt:1073741832}},{symbolid:4090012,condition:{type:409001,kgzt:1073741856}},{symbolid:4090013,condition:{type:409001,kgzt:1073741862}}],30600003:[{symbolid:4290100,condition:{type:429010,kgzt:536870913}},{symbolid:4290110,condition:{type:429010,kgzt:536870912}},{symbolid:4290120,condition:{type:429011,kgzt:536870913}},{symbolid:4290130,condition:{type:429011,kgzt:536870912}},{symbolid:84110090,condition:{type:8429012,kgzt:536870913}},{symbolid:84110091,condition:{type:8429012,kgzt:536870912}},{symbolid:84110032,condition:{type:84110032,kgzt:536870912}},{symbolid:84110022,condition:{type:84110022,kgzt:536870912}}],30600004:[{symbolid:4050040,condition:{type:405004,kgzt:805306368}},{symbolid:4050042,condition:{type:405004,kgzt:805306370}},{symbolid:4050041,condition:{type:405004,kgzt:805306369}}],30600005:[{symbolid:4050030,condition:{type:405003,kgzt:536870913}},{symbolid:4050031,condition:{type:405003,kgzt:536870912}}],30600006:[{symbolid:4080010,condition:{type:408001,kgzt:1073741835}},{symbolid:4080011,condition:{type:408001,kgzt:1073741880}},{symbolid:4080012,condition:{type:408001,kgzt:1073741862}},{symbolid:4080013,condition:{type:408001,kgzt:1073741845}}],30600007:[{symbolid:4070013,condition:{type:407002,kgzt:805306370}},{symbolid:4070014,condition:{type:407002,kgzt:805306368}},{symbolid:4070015,condition:{type:407002,kgzt:805306372}}],30600008:[{symbolid:4080001,condition:{type:406001,kgzt:805306370}},{symbolid:4080002,condition:{type:406001,kgzt:805306372}},{symbolid:4080003,condition:{type:406002,kgzt:805306370}},{symbolid:4080004,condition:{type:406002,kgzt:805306372}}],30600099:[{symbolid:84050070,condition:{type:411001,kgzt:536870913}},{symbolid:84050072,condition:{type:411003,kgzt:536870912}},{symbolid:84050073,condition:{type:411002,kgzt:536870912}}],307e5:[{symbolid:4040010,condition:{type:404001,kgzt:536870913}},{symbolid:4040011,condition:{type:404001,kgzt:536870912}},{symbolid:4040020,condition:{type:404002,kgzt:536870913}},{symbolid:4040021,condition:{type:404002,kgzt:536870912}}],30700002:[{symbolid:4070010,condition:{type:407001,kgzt:805306370}},{symbolid:4070011,condition:{type:407001,kgzt:805306368}},{symbolid:4070012,condition:{type:407001,kgzt:805306372}}],30700098:[{symbolid:84030061,condition:{type:8407001,kgzt:805306370}},{symbolid:84030060,condition:{type:8407001,kgzt:805306368}},{symbolid:84030062,condition:{type:8407001,kgzt:805306372}}],30700099:[{symbolid:84100020,condition:{type:4100010,kgzt:536870913}},{symbolid:84100021,condition:{type:4100011,kgzt:536870912}},{symbolid:84100022,condition:{type:4100013,kgzt:536870912}},{symbolid:84100023,condition:{type:4100012,kgzt:536870912}}],308e5:[{symbolid:4230020,condition:{}}],309e5:[{symbolid:4050030,condition:{kgzt:536870913}},{symbolid:4050031,condition:{kgzt:536870912}}],30900001:[{symbolid:84050050,condition:{kgzt:536870913}},{symbolid:84050051,condition:{kgzt:536870912}}],30900002:[{symbolid:4060010,condition:{}}],311e5:[{symbolid:4250010,condition:{}}],312e5:[{symbolid:4170010,condition:{}}],31200001:[{symbolid:4170020,condition:{}}],31300001:[{symbolid:4140010,condition:{type:4140010}},{symbolid:4140020,condition:{type:4140020}},{symbolid:4140030,condition:{type:4140030}},{symbolid:4140040,condition:{type:4140040}},{symbolid:4140050,condition:{type:4140050}},{symbolid:4140060,condition:{type:4140060}},{symbolid:4140070,condition:{type:4140070}},{symbolid:4140080,condition:{type:4140080}},{symbolid:4140090,condition:{type:4140090}},{symbolid:4140100,condition:{type:4140100}},{symbolid:4140110,condition:{type:4140110}},{symbolid:4140120,condition:{type:4140120}},{symbolid:4140130,condition:{type:4140130}},{symbolid:4140140,condition:{type:4140140}},{symbolid:4140150,condition:{type:4140150}},{symbolid:4140160,condition:{type:4140160}},{symbolid:4140170,condition:{type:4140170}},{symbolid:4140180,condition:{type:4140180}},{symbolid:4140190,condition:{type:4140190}},{symbolid:4140210,condition:{type:4140210}},{symbolid:4140220,condition:{type:4140220}},{symbolid:4140200,condition:{type:4140200}}],314e5:[{symbolid:4130010,condition:{type:4130010}},{symbolid:4130020,condition:{type:4130020}},{symbolid:4130030,condition:{type:4130030}},{symbolid:4130040,condition:{type:4130040}}],31400001:[{symbolid:4130050,condition:{type:4130050}},{symbolid:4130051,condition:{type:4130051}}],315e5:[{symbolid:4121001,condition:{}}],316e5:[{symbolid:4150010,condition:{type:4150010}},{symbolid:4150030,condition:{type:4150030}}],317e5:[{symbolid:4150020,condition:{}}],318e5:[{symbolid:4200010,condition:{}}],31800001:[{symbolid:4200011,condition:{}}],319e5:[{symbolid:4180030,condition:{type:4180030}},{symbolid:4180040,condition:{type:4180040}}],32e6:[{symbolid:4300010,condition:{}}],32000001:[{symbolid:4300010,condition:{}}],321e5:[{symbolid:4300010,condition:{}}],322e5:[{symbolid:3010010,condition:{}}],323e5:[{symbolid:1030040,condition:{type:1030040}},{symbolid:1030050,condition:{type:1030050}}],324e5:[{symbolid:1030070,condition:{type:1030070}}],325e5:[{symbolid:1030080,condition:{}}],326e5:[{symbolid:1030060,condition:{}}],33e6:[{symbolid:4190010,condition:{}}],333e5:[{symbolid:2120011,condition:{}}],339e5:[{symbolid:4600010,condition:{type:4600010}},{symbolid:4600020,condition:{type:4600020}}],34e6:[{symbolid:4010010,condition:{type:4010010}},{symbolid:4010020,condition:{type:4010020}}],343e5:[{symbolid:1020010,condition:{type:6010020}}],345e5:[{symbolid:4700010,condition:{}}],35e6:[{symbolid:399,condition:{}}],35000001:[{symbolid:399,condition:{}}],351e5:[{symbolid:4500010,condition:{}}],36e6:[{symbolid:420,condition:{type:420}},{symbolid:4260010,condition:{type:4260010}}],36000001:[{symbolid:4260010,condition:{type:4260010}},{symbolid:420,condition:{type:420}}],361e5:[{symbolid:420,condition:{}}],37e6:[{symbolid:5010010,condition:{}},{symbolid:5010020,condition:{}},{symbolid:5010030,condition:{}},{symbolid:5010040,condition:{}},{symbolid:5010050,condition:{}}],39000001:[{symbolid:4270010,condition:{type:4270010}}],39000002:[{symbolid:4180010,condition:{type:4180010}}],39000003:[{symbolid:4210010,condition:{type:4210010}},{symbolid:4210020,condition:{type:4210020}},{symbolid:84210012,condition:{type:84210030}}],39000004:[{symbolid:4240020,condition:{type:4210020}}],39000005:[{symbolid:4240010,condition:{type:4240010}}],39000006:[{symbolid:4160010,condition:{type:4160010}},{symbolid:4160020,condition:{type:4160020}}],39000007:[{symbolid:4180020,condition:{type:4180020}}],39000008:[{symbolid:4230010,condition:{type:4230010}}],39000009:[{symbolid:4400010,condition:{type:4400010}}],39000098:[{symbolid:84340010,condition:{type:84340010}},{symbolid:84340011,condition:{type:84340011}},{symbolid:84340020,condition:{type:84340020}},{symbolid:84340021,condition:{type:84340021}}],395e5:[{symbolid:4010030,condition:{}}],83020005:[{symbolid:82030040,condition:{}}],91000001:[{symbolid:5160030,condition:{}}],1001e5:[{symbolid:30058,condition:{}}],100100400:[{symbolid:7090010,condition:{}}],100100600:[{symbolid:7080010,condition:{}}],100100700:[{symbolid:7060010,condition:{}}],100101301:[{symbolid:9010010,condition:{type:9010010}},{symbolid:9010020,condition:{type:9010020}},{symbolid:9010030,condition:{type:9010030}},{symbolid:9010040,condition:{type:9010040}},{symbolid:9010050,condition:{type:9010050}},{symbolid:9010060,condition:{type:9010060}},{symbolid:9010070,condition:{type:9010070}},{symbolid:9010080,condition:{type:9010080}},{symbolid:9010090,condition:{type:9010090}},{symbolid:9010100,condition:{type:9010100}},{symbolid:9010110,condition:{type:9010110}},{symbolid:9010120,condition:{type:9010120}},{symbolid:9010130,condition:{type:9010130}},{symbolid:9010140,condition:{type:9010140}},{symbolid:9010150,condition:{type:9010150}},{symbolid:9010160,condition:{type:9010160}},{symbolid:9010170,condition:{type:9010170}},{symbolid:9010180,condition:{type:9010180}},{symbolid:9010191,condition:{type:9010190}},{symbolid:9010192,condition:{type:9010200}},{symbolid:9010193,condition:{type:9010210}},{symbolid:9010194,condition:{type:9010220}},{symbolid:9010230,condition:{type:9010230}},{symbolid:9010240,condition:{type:9010240}},{symbolid:9010250,condition:{type:9010250}},{symbolid:9010260,condition:{type:9010260}},{symbolid:9010190,condition:{type:9010270}},{symbolid:9010200,condition:{type:9010280}}],100101401:[{symbolid:9010180,condition:{type:9010180}},{symbolid:9010170,condition:{type:9010170}},{symbolid:9010191,condition:{type:9010191}},{symbolid:9010192,condition:{type:9010192}},{symbolid:9010193,condition:{type:9010193}},{symbolid:9010194,condition:{type:9010194}},{symbolid:9010230,condition:{type:9010230}},{symbolid:9010240,condition:{type:9010240}},{symbolid:9010250,condition:{type:9010250}},{symbolid:9010260,condition:{type:9010260}},{symbolid:9010050,condition:{type:9010050}},{symbolid:9010060,condition:{type:9010060}},{symbolid:9010070,condition:{type:9010070}},{symbolid:9010080,condition:{type:9010080}},{symbolid:9010003,condition:{type:9010003}},{symbolid:9010310,condition:{type:9010310}},{symbolid:9010002,condition:{type:9010002}},{symbolid:9010200,condition:{type:9010200}},{symbolid:9010190,condition:{type:9010190}},{symbolid:9010090,condition:{type:9010090}},{symbolid:9010100,condition:{type:9010100}},{symbolid:9010110,condition:{type:9010110}},{symbolid:9010120,condition:{type:9010120}},{symbolid:9010130,condition:{type:9010130}},{symbolid:9010140,condition:{type:9010140}},{symbolid:9010040,condition:{type:9010040}},{symbolid:9010030,condition:{type:9010030}},{symbolid:9010020,condition:{type:9010020}},{symbolid:9010010,condition:{type:9010010}},{symbolid:9010150,condition:{type:9010150}},{symbolid:9010001,condition:{type:9010001}},{symbolid:9010160,condition:{type:9010160}}],100101800:[{symbolid:20011,condition:{type:200101}},{symbolid:20011,condition:{type:200102}},{symbolid:20011,condition:{type:200103}},{symbolid:20011,condition:{type:200104}},{symbolid:20011,condition:{type:200105}},{symbolid:20011,condition:{type:200106}}],100101900:[{symbolid:20011,condition:{}}],100102e3:[{symbolid:399,condition:{}}],10011e4:[{symbolid:7010010,condition:{}}],100110001:[{symbolid:7010011,condition:{}}],10012e4:[{symbolid:7020010,condition:{}}],10013e4:[{symbolid:7040010,condition:{}}],10014e4:[{symbolid:7030010,condition:{}}],10015e4:[{symbolid:7120010,condition:{}}],100150100:[{symbolid:7210010,condition:{}}],100150200:[{symbolid:4260010,condition:{}}],100150300:[{symbolid:7150010,condition:{}}],100150400:[{symbolid:7160010,condition:{}}],100150500:[{symbolid:7170010,condition:{}}],100150600:[{symbolid:7180010,condition:{}}],100150900:[{symbolid:7220010,condition:{}}],100151e3:[{symbolid:7230010,condition:{}}],100151100:[{symbolid:7240010,condition:{}}],100151200:[{symbolid:7250010,condition:{}}],100151300:[{symbolid:7260010,condition:{}}],100151400:[{symbolid:7270010,condition:{}}],100151500:[{symbolid:7280010,condition:{}}],100151600:[{symbolid:7410010,condition:{}}],100151700:[{symbolid:7510010,condition:{}}],100151800:[{symbolid:7290010,condition:{}}],100151900:[{symbolid:7300010,condition:{}}],100152e3:[{symbolid:7310010,condition:{}}],100152100:[{symbolid:9200010,condition:{}}],100152200:[{symbolid:457,condition:{}}],100162200:[{symbolid:457,condition:{}}],100201800:[{symbolid:20011,condition:{type:200101}},{symbolid:20011,condition:{type:200102}},{symbolid:20011,condition:{type:200103}},{symbolid:20011,condition:{type:200104}},{symbolid:20011,condition:{type:200105}},{symbolid:20011,condition:{type:200106}}],100201900:[{symbolid:20011,condition:{}}],10022e4:[{symbolid:20011,condition:{fhid:20011}},{symbolid:8010050,condition:{fhid:8010050}}],100220100:[{symbolid:20011,condition:{}}],10023e4:[{symbolid:410,condition:{fhid:410}},{symbolid:420,condition:{fhid:420}}],100230100:[{symbolid:410,condition:{}}],10024e4:[{symbolid:20011,condition:{}}],1003e5:[{symbolid:3070010,condition:{}}],100320100:[{symbolid:20011,condition:{}}],100330100:[{symbolid:410,condition:{}}],1004e5:[{symbolid:7050010,condition:{}}],1101e5:[{symbolid:9050011,condition:{type:95534}},{symbolid:1010020,condition:{type:95542}},{symbolid:1020030,condition:{type:95553}},{symbolid:1020010,condition:{type:95524}},{symbolid:1030070,condition:{type:95529}},{symbolid:1030080,condition:{type:95530}},{symbolid:1030010,condition:{type:95549}},{symbolid:5060010,condition:{type:95526}},{symbolid:5060010,condition:{type:95527}},{symbolid:90500117,condition:{type:95531}},{symbolid:1030050,condition:{type:95546}},{symbolid:5060010,condition:{type:95517}},{symbolid:90500117,condition:{type:95540}},{symbolid:90500115,condition:{type:95538}},{symbolid:90500115,condition:{type:95525}},{symbolid:90500114,condition:{type:95537}},{symbolid:90500113,condition:{type:95536}},{symbolid:90500112,condition:{type:95535}}],110100001:[{symbolid:9050011,condition:{}}],110100002:[{symbolid:9060001,condition:{}}],1102e5:[{symbolid:9050014,condition:{}}],110200001:[{symbolid:9050014,condition:{}}],1103e5:[{symbolid:9050013,condition:{}}],110300001:[{symbolid:9050013,condition:{}}],110500001:[{symbolid:51080021,condition:{}}],110600001:[{symbolid:3060010,condition:{}}],110700001:[{symbolid:4260010,condition:{}}],110900001:[{symbolid:9060002,condition:{}}],111000001:[{symbolid:51110001,condition:{}}],111200001:[{symbolid:51112001,condition:{}}],111300001:[{symbolid:4260010,condition:{}}],111400001:[{symbolid:51114001,condition:{}}],116300001:[{symbolid:7100010,condition:{}}],116300002:[{symbolid:51163002,condition:{}}],116300003:[{symbolid:51163003,condition:{}}],116300004:[{symbolid:51163004,condition:{}}],116300005:[{symbolid:51163005,condition:{}}],116700001:[{symbolid:51020033,condition:{}}],116900001:[{symbolid:9050012,condition:{}}],2101e5:[{symbolid:4290010,condition:{}}],2102e5:[{symbolid:4020100,condition:{type:4020100}},{symbolid:4020110,condition:{type:4020110}},{symbolid:4290250,condition:{type:4290250}},{symbolid:4290260,condition:{type:4290260}}],210200001:[{symbolid:4020250,condition:{type:4020250}},{symbolid:4020260,condition:{type:4020260}},{symbolid:4020270,condition:{type:4020270}},{symbolid:4020280,condition:{type:4020280}},{symbolid:4020290,condition:{type:4020290}},{symbolid:4020300,condition:{type:4020300}},{symbolid:4020310,condition:{type:4020310}},{symbolid:4020320,condition:{type:4020320}},{symbolid:4020330,condition:{type:4020330}}],2103e5:[{symbolid:4170010,condition:{}}],210300001:[{symbolid:4290020,condition:{}}],2123e5:[{symbolid:4290240,condition:{}}],2125e5:[{symbolid:4250010,condition:{}}],2127e5:[{symbolid:4290010,condition:{}}],2501e5:[{symbolid:4290050,condition:{kgzt:536870913}},{symbolid:4290051,condition:{kgzt:536870912}}],2502e5:[{symbolid:4290060,condition:{kgzt:536870913}},{symbolid:4290061,condition:{kgzt:536870912}}],2503e5:[{symbolid:4220011,condition:{kgzt:536870913}},{symbolid:4220010,condition:{kgzt:536870912}}],2504e5:[{symbolid:4130010,condition:{type:4130010}},{symbolid:4130020,condition:{type:4130020}},{symbolid:4130030,condition:{type:4130030}},{symbolid:4130040,condition:{type:4130040}}],250400001:[{symbolid:4130070,condition:{}}],2505e5:[{symbolid:4290040,condition:{type:4290040}},{symbolid:4290041,condition:{type:4290041}},{symbolid:4290042,condition:{type:4290042}},{symbolid:4290043,condition:{type:4290043}},{symbolid:4290270,condition:{type:4290270}}],2506e5:[{symbolid:4230010,condition:{}}],2507e5:[{symbolid:4150010,condition:{}}],251e6:[{symbolid:4290220,condition:{}}],2511e5:[{symbolid:4290230,condition:{}}],2512e5:[{symbolid:4190010,condition:{}}],2513e5:[{symbolid:4290070,condition:{}}],2514e5:[{symbolid:4200010,condition:{}}],251400001:[{symbolid:4200011,condition:{}}],26e7:[{symbolid:4260010,condition:{}}],27e7:[{symbolid:4300010,condition:{}}],28e7:[{symbolid:4210010,condition:{}}],3101e5:[{symbolid:2010010,condition:{}}],3102e5:[{symbolid:2020030,condition:{gtcz:2}},{symbolid:2020070,condition:{gtcz:3}},{symbolid:2020060,condition:{gtcz:4}},{symbolid:2020050,condition:{gtcz:6}},{symbolid:2020010,condition:{gtcz:1}}],310200001:[{symbolid:2020051,condition:{gtcz:6}},{symbolid:2020071,condition:{gtcz:3}},{symbolid:2020061,condition:{gtcz:4}},{symbolid:2020020,condition:{gtcz:1}},{symbolid:2020040,condition:{gtcz:2}}],3103e5:[{symbolid:4030010,condition:{kgzt:536870913}},{symbolid:4030011,condition:{kgzt:536870912}}],310300001:[{symbolid:4050021,condition:{kgzt:536870912,type:405002}},{symbolid:2060010,condition:{kgzt:536870913,type:405001}},{symbolid:2060011,condition:{kgzt:536870912,type:405001}},{symbolid:4050020,condition:{kgzt:536870913,type:405002}}],3104e5:[{symbolid:2050010,condition:{kgzt:536870913}},{symbolid:2050011,condition:{kgzt:536870912}}],3106e5:[{symbolid:4050031,condition:{kgzt:536870912}},{symbolid:4050030,condition:{kgzt:536870913}}],3108e5:[{symbolid:2110010,condition:{}}],3109e5:[{symbolid:4200010,condition:{}}],311e6:[{symbolid:1030090,condition:{}}],3113e5:[{symbolid:2100010,condition:{kgzt:536870913}},{symbolid:2100011,condition:{kgzt:536870912}}],311300001:[{symbolid:2100013,condition:{kgzt:536870913}},{symbolid:2100014,condition:{kgzt:536870912}}],3114e5:[{symbolid:2020140,condition:{}}],311400001:[{symbolid:2020141,condition:{}}],3201e5:[{symbolid:3010010,condition:{}}],3202e5:[{symbolid:3030010,condition:{}}],3203e5:[{symbolid:3020011,condition:{}}],3205e5:[{symbolid:1030060,condition:{}}],3215e5:[{symbolid:4050011,condition:{type:405001,kgzt:536870912}},{symbolid:4050010,condition:{type:405001,kgzt:536870913}},{symbolid:4110010,condition:{type:411001,kgzt:536870913}},{symbolid:4050020,condition:{type:405002,kgzt:536870913}},{symbolid:4050021,condition:{type:405002,kgzt:536870912}},{symbolid:4110011,condition:{type:411003,kgzt:536870912}},{symbolid:4110012,condition:{type:411002,kgzt:536870912}},{symbolid:4070013,condition:{type:4070013,kgzt:536870913}},{symbolid:4070014,condition:{type:4070014,kgzt:536870913}},{symbolid:4070015,condition:{type:4070015,kgzt:536870913}}],321500001:[{symbolid:4030010,condition:{type:403001,kgzt:536870913}},{symbolid:4030011,condition:{type:403001,kgzt:536870912}},{symbolid:4030020,condition:{type:403002,kgzt:536870913}},{symbolid:4030021,condition:{type:403002,kgzt:536870912}},{symbolid:4100010,condition:{type:4100010,kgzt:536870913}},{symbolid:4100012,condition:{type:4100012,kgzt:536870912}},{symbolid:4100011,condition:{type:4100011,kgzt:536870912}},{symbolid:84030050,condition:{type:8405004,kgzt:536870913}},{symbolid:84030051,condition:{type:8405004,kgzt:536870912}},{symbolid:4100013,condition:{type:4100013,kgzt:536870912}}],321500002:[{symbolid:4040021,condition:{type:404002,kgzt:536870912}},{symbolid:4040020,condition:{type:404002,kgzt:536870913}},{symbolid:4040010,condition:{type:404001,kgzt:536870913}},{symbolid:4040011,condition:{type:404001,kgzt:536870912}}],321500005:[{symbolid:4220010,condition:{type:422001,kgzt:536870912}},{symbolid:4220011,condition:{type:422001,kgzt:536870913}}],321500011:[{symbolid:4290110,condition:{type:429010,kgzt:536870912}},{symbolid:4290120,condition:{type:429011,kgzt:536870913}},{symbolid:4290130,condition:{type:429011,kgzt:536870912}},{symbolid:4290100,condition:{type:429010,kgzt:536870913}}],321500012:[{symbolid:4050040,condition:{type:405004,kgzt:805306368}},{symbolid:4050041,condition:{type:405004,kgzt:805306370}},{symbolid:4050042,condition:{type:405004,kgzt:805306369}}],321500097:[{symbolid:84100022,condition:{type:4100013,kgzt:536870912}},{symbolid:84100021,condition:{type:4100011,kgzt:536870912}},{symbolid:84100020,condition:{type:4100010,kgzt:536870913}},{symbolid:84100023,condition:{type:4100012,kgzt:536870912}}],321500098:[{symbolid:4290100,condition:{type:429010,kgzt:536870913}},{symbolid:4290110,condition:{type:429010,kgzt:536870912}},{symbolid:4290120,condition:{type:429011,kgzt:536870913}},{symbolid:4290130,condition:{type:429011,kgzt:536870912}}],321500099:[{symbolid:4050040,condition:{type:405004,kgzt:805306368}},{symbolid:4050041,condition:{type:405004,kgzt:805306369}},{symbolid:4050042,condition:{type:405004,kgzt:805306370}}],3216e5:[{symbolid:2140011,condition:{kgzt:536870912}},{symbolid:2140010,condition:{kgzt:536870913}}],3217e5:[{symbolid:4250010,condition:{}}],3218e5:[{symbolid:392,condition:{}}],3219e5:[{symbolid:2150010,condition:{}}],3309e5:[{symbolid:4140010,condition:{}}],331e6:[{symbolid:4050030,condition:{kgzt:536870913}},{symbolid:4050031,condition:{kgzt:536870912}}],331000001:[{symbolid:4060010,condition:{}}],3311e5:[{symbolid:4150010,condition:{}}],3312e5:[{symbolid:4200010,condition:{type:4200010}},{symbolid:4200011,condition:{type:4200011}}],3313e5:[{symbolid:4210010,condition:{type:4210010}},{symbolid:4210020,condition:{type:4210020}},{symbolid:84210012,condition:{type:84210030}}],3314e5:[{symbolid:4150040,condition:{kgzt:536870912}},{symbolid:4150050,condition:{kgzt:536870913}}],398000001:[{symbolid:84170030,condition:{}}],399000001:[{symbolid:4160010,condition:{type:4160010}},{symbolid:4160020,condition:{type:4160020}}],399000002:[{symbolid:84340010,condition:{type:84340010}},{symbolid:84340011,condition:{type:84340011}},{symbolid:84340020,condition:{type:84340020}},{symbolid:84340021,condition:{type:84340021}}],399000003:[{symbolid:82290010,condition:{}}],399000010:[{symbolid:2120011,condition:{type:2120011}}],399000011:[{symbolid:4300020,condition:{type:4300020}}],399000012:[{symbolid:4270010,condition:{type:4270010}}],399000013:[{symbolid:4130010,condition:{type:4130010}},{symbolid:4130020,condition:{type:4130020}},{symbolid:4130040,condition:{type:4130040}}],399000014:[{symbolid:4150060,condition:{type:4150060}}],4101e5:[{symbolid:392,condition:{}}],4102e5:[{symbolid:5070010,condition:{}}],4103e5:[{symbolid:5040010,condition:{}}],4104e5:[{symbolid:5040020,condition:{}}],4105e5:[{symbolid:5230010,condition:{}}],4106e5:[{symbolid:5040030,condition:{}}],4107e5:[{symbolid:5180010,condition:{}}],4108e5:[{symbolid:5010010,condition:{}}],411e6:[{symbolid:9100010,condition:{}}],4111e5:[{symbolid:5170010,condition:{}}],4112e5:[{symbolid:5190010,condition:{}}],4113e5:[{symbolid:5,condition:{}}],411300001:[{symbolid:5200010,condition:{}}],4114e5:[{symbolid:5090010,condition:{}}],411400001:[{symbolid:5080010,condition:{}}],4115e5:[{symbolid:5220010,condition:{}}],4116e5:[{symbolid:5240010,condition:{}}],411600001:[{symbolid:5130010,condition:{}}],4117e5:[{symbolid:5060010,condition:{}}],411700001:[{symbolid:5060060,condition:{}}],411700002:[{symbolid:5060050,condition:{}}],4118e5:[{symbolid:5250010,condition:{}}],4119e5:[{symbolid:5260010,condition:{}}],412e6:[{symbolid:5270010,condition:{}}],412000001:[{symbolid:5280010,condition:{}}],412000002:[{symbolid:5290010,condition:{}}],412000003:[{symbolid:5300010,condition:{}}],412000004:[{symbolid:5310010,condition:{}}],4121e5:[{symbolid:20016,condition:{}}],4122e5:[{symbolid:20016,condition:{}}],4123e5:[{symbolid:20016,condition:{}}],4124e5:[{symbolid:20016,condition:{}}],4125e5:[{symbolid:20016,condition:{}}],4126e5:[{symbolid:20016,condition:{}}],5101e5:[{symbolid:601e4,condition:{}}],5102e5:[{symbolid:6010001,condition:{}}],8103e5:[{symbolid:8403e4,condition:{}}],819e6:[{symbolid:82030040,condition:{}}],8347e5:[{symbolid:84020002,condition:{}}],8393e5:[{symbolid:84020001,condition:{}}]}},5959:t=>{t.exports={"392-321800000":[[0,0]],"399-35000000":[[0,0]],"399-18000000":[[0,0]],"399-18000001":[[0,0]],"399-35000001":[[0,0]],"420-36000001":[[-1,0],[1,0]],"420-36000000":[[-1,0],[1,0]],"420-14000001":[[-1,0],[1,0]],"420-14000000":[[-1,0],[1,0]],"30058-100100000":[[-1,0],[1,0]],"850010-19000001":[[0,0]],"850020-19000002":[[0,0]],"850030-19000003":[[0,0]],"850040-19000004":[[0,0]],"1030060-20900000":[[0,0]],"1030060-320500000":[[0,0]],"1030090-311000000":[[0,0]],"2010010-310100000":[[-1,0],[1,0]],"2010010-10100000":[[-1,0],[1,0]],"2020140-10200000":[[0,0]],"2020140-311400000":[[0,0]],"2020141-311400001":[[0,0]],"2020141-10200001":[[0,0]],"2020142-10200001":[[0,0]],"2020142-10200000":[[0,0]],"2030010-11000001":[[.9,0],[-.9,0]],"2030020-11000000":[[.9,0],[-.9,0]],"2030030-11000002":[[.9,0],[-.9,0]],"2040010-11100000":[[.9,0],[-.9,0]],"2040011-11100000":[[.9,0],[-.9,0]],"2050010-310400000":[[.9,0],[-.9,0]],"2050010-11200000":[[.9,0],[-.9,0]],"2050011-11200000":[[.9,0],[-.9,0]],"2050011-310400000":[[.9,0],[-.9,0]],"2060010-11300000":[[.9,0],[-.9,0]],"2060010-310300001":[[.9,0],[-.9,0]],"2060011-310300001":[[.9,0],[-.9,0]],"2060011-11300000":[[.9,0],[-.9,0]],"2070010-11400000":[[.9,0],[-.9,0]],"2070011-11400000":[[.9,0],[-.9,0]],"2090010-11500000":[[.9,0],[-.9,0]],"2090011-11500000":[[.9,0],[-.9,0]],"2090020-11500001":[[.9,0],[-.9,0]],"2090021-11500001":[[.9,0],[-.9,0]],"2090030-11500002":[[.9,0],[-.9,0]],"2090031-11500002":[[.9,0],[-.9,0]],"2100010-311300000":[[.9,0],[-.9,0]],"2100011-311300000":[[.9,0],[-.9,0]],"2100013-311300001":[[.9,0],[-.9,0]],"2100014-311300001":[[.9,0],[-.9,0]],"2110010-310800000":[[-.9,0],[.9,0]],"2120011-11700000":[[0,0]],"2120011-33300000":[[0,0]],"2120011-399000010":[[.9,0]],"2140010-321600000":[[-.9,0],[.9,0]],"2140011-321600000":[[-.9,0],[.9,0]],"2150010-321900000":[[0,-1]],"2160010-22000000":[[.9,0],[-.9,0]],"3010010-320100000":[[-1,0],[1,0]],"3010010-32200000":[[-1,0],[1,0]],"3010010-20100000":[[-1,0],[1,0]],"3020011-20300000":[[0,0]],"3020011-320300000":[[0,0]],"3030010-320200000":[[0,0]],"3030010-20200000":[[0,0]],"3040010-20500000":[[.7,0]],"3050010-20600000":[[0,0]],"4010030-39500000":[[1,0]],"4020010-30200001":[[-.9,0],[.9,0]],"4020010-30100001":[[-.9,0],[.9,0]],"4020020-30100001":[[-.9,0],[.9,0]],"4020020-30200001":[[-.9,0],[.9,0]],"4020030-30100001":[[-.9,0],[.9,0]],"4020030-30200001":[[-.9,0],[.9,0]],"4020040-30400000":[[.9,0]],"4020050-30200003":[[-.9,0],[.9,0]],"4020050-30200002":[[-.9,0],[.9,0]],"4020050-30100002":[[-.9,0],[.9,0]],"4020051-30200003":[[-.9,0],[.9,0]],"4020051-30200002":[[-.9,0],[.9,0]],"4020051-30100002":[[-.9,0],[.9,0]],"4020052-30200003":[[-.9,0],[.9,0]],"4020052-30200002":[[-.9,0],[.9,0]],"4020060-30200002":[[-.9,0],[.9,0]],"4020060-30200003":[[-.9,0],[.9,0]],"4020060-30100002":[[-.9,0],[.9,0]],"4020070-30200002":[[-.9,0],[.9,0]],"4020070-30100002":[[-.9,0],[.9,0]],"4020070-30200003":[[-.9,0],[.9,0]],"4020080-30200003":[[-.9,0],[.9,0]],"4020080-30100002":[[-.9,0],[.9,0]],"4020080-30200002":[[-.9,0],[.9,0]],"4020090-30100005":[[.9,0],[-.45,.6],[-.9,0]],"4020090-30200002":[[-.9,0],[.9,0]],"4020090-30200003":[[-.9,0],[.9,0]],"4020090-30100002":[[-.9,0],[.9,0]],"4020091-30100005":[[.9,0],[-.45,.6],[-.9,0]],"4020092-30100005":[[.9,0],[-.45,.6],[-.9,0]],"4020093-30100005":[[.9,0],[-.45,.6],[-.9,0]],"4020094-30100005":[[.9,0],[-.45,.6],[-.9,0]],"4020100-30100002":[[-.9,0],[.9,0]],"4020100-30200003":[[-.9,0],[.9,0]],"4020100-210200000":[[.9,0],[-.9,0]],"4020100-30200002":[[-.9,0],[.9,0]],"4020110-30200003":[[-.9,0],[.9,0]],"4020110-210200000":[[.9,0],[-.9,0]],"4020110-30100002":[[-.9,0],[.9,0]],"4020110-30200002":[[-.9,0],[.9,0]],"4020120-30200003":[[-.9,0],[.9,0]],"4020120-30200002":[[-.9,0],[.9,0]],"4020120-30100002":[[-.9,0],[.9,0]],"4020130-30100002":[[-.9,0],[.9,0]],"4020130-30200002":[[-.9,0],[.9,0]],"4020130-30200003":[[-.9,0],[.9,0]],"4020140-30200002":[[-.9,0],[.9,0]],"4020140-30100002":[[-.9,0],[.9,0]],"4020140-30200003":[[-.9,0],[.9,0]],"4020150-30200003":[[-.9,0],[.9,0]],"4020150-30100002":[[-.9,0],[.9,0]],"4020150-30200002":[[-.9,0],[.9,0]],"4020160-30100002":[[-.9,0],[.9,0]],"4020160-30200003":[[-.9,0],[.9,0]],"4020160-30200002":[[-.9,0],[.9,0]],"4020170-30200003":[[-.9,0],[.9,0]],"4020170-30100002":[[-.9,0],[.9,0]],"4020170-30200002":[[-.9,0],[.9,0]],"4020180-30200002":[[-.9,0],[.9,0]],"4020180-30100002":[[-.9,0],[.9,0]],"4020180-30200003":[[-.9,0],[.9,0]],"4020190-30200003":[[-.9,0],[.9,0]],"4020190-30100002":[[-.9,0],[.9,0]],"4020190-30200002":[[-.9,0],[.9,0]],"4020200-30200003":[[-.9,0],[.9,0]],"4020200-30100002":[[-.9,0],[.9,0]],"4020200-30200002":[[-.9,0],[.9,0]],"4020210-30200002":[[-.9,0],[.9,0]],"4020210-30200003":[[-.9,0],[.9,0]],"4020210-30100002":[[-.9,0],[.9,0]],"4020220-30200002":[[-.9,0],[.9,0]],"4020220-30100002":[[-.9,0],[.9,0]],"4020220-30200003":[[-.9,0],[.9,0]],"4020230-30100002":[[-.9,0],[.9,0]],"4020230-30200002":[[-.9,0],[.9,0]],"4020230-30200003":[[-.9,0],[.9,0]],"4020240-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020240-30200000":[[.9,0],[-.9,.45],[-.9,-.45]],"4020250-210200001":[[.9,0],[-.9,.45],[-.9,-.45]],"4020250-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020250-30200000":[[.9,0],[-.9,.45],[-.9,-.45]],"4020260-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020260-210200001":[[.9,0],[-.9,.45],[-.9,-.45]],"4020260-30200000":[[.9,0],[-.9,.45],[-.9,-.45]],"4020270-30200000":[[.9,0],[-.9,.45],[-.9,-.45]],"4020270-210200001":[[.9,0],[-.9,.45],[-.9,-.45]],"4020270-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020280-210200001":[[.9,0],[-.9,.45],[-.9,-.45]],"4020280-30200000":[[.9,0],[-.9,.45],[-.9,-.45]],"4020280-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020290-210200001":[[.9,0],[-.9,.45],[-.9,-.45]],"4020290-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020290-30200000":[[.9,0],[-.9,.45],[-.9,-.45]],"4020300-210200001":[[.9,0],[-.9,.45],[-.9,-.45]],"4020300-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020300-30200000":[[.9,0],[-.9,.45],[-.9,-.45]],"4020310-210200001":[[.9,0],[-.9,.45],[-.9,-.45]],"4020310-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020310-30200000":[[.9,0],[-.9,.45],[-.9,-.45]],"4020320-210200001":[[.9,0],[-.9,.45],[-.9,-.45]],"4020320-30200000":[[.9,0],[-.9,.45],[-.9,-.45]],"4020320-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020330-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020330-30200000":[[.9,0],[-.9,.45],[-.9,-.45]],"4020330-210200001":[[.9,0],[-.9,.45],[-.9,-.45]],"4020331-30100003":[[.9,0],[-.9,.45],[-.9,-.45]],"4020350-30100004":[[.9,0],[-.9,.45],[-.9,0],[-.9,-.45]],"4020360-30100004":[[.9,0],[-.9,.45],[-.9,0],[-.9,-.45]],"4020370-30300000":[[-.9,0],[.9,0]],"4020380-30100001":[[-.9,0],[.9,0]],"4020381-30100001":[[-.9,0],[.9,0]],"4020382-30100001":[[-.9,0],[.9,0]],"4020383-30100001":[[-.9,0],[.9,0]],"4020384-30100001":[[-.9,0],[.9,0]],"4020385-30100001":[[-.9,0],[.9,0]],"4030010-321500001":[[.9,0],[-.9,0]],"4030010-30500000":[[.9,0],[-.9,0]],"4030010-310300000":[[.9,0],[-.9,0]],"4030011-321500001":[[.9,0],[-.9,0]],"4030011-310300000":[[.9,0],[-.9,0]],"4030011-30500000":[[.9,0],[-.9,0]],"4030020-30500000":[[.9,0],[-.9,0]],"4030020-321500001":[[.9,0],[-.9,0]],"4030021-30500000":[[.9,0],[-.9,0]],"4030021-321500001":[[.9,0],[-.9,0]],"4040010-30700000":[[.9,0],[-.9,0]],"4040010-321500002":[[.9,0],[-.9,0]],"4040011-30700000":[[.9,0],[-.9,0]],"4040011-321500002":[[.9,0],[-.9,0]],"4040020-321500002":[[.9,0],[-.9,0]],"4040020-30700000":[[.9,0],[-.9,0]],"4040020-11200000":[[.9,0],[-.9,0]],"4040021-11200000":[[.9,0],[-.9,0]],"4040021-321500002":[[.9,0],[-.9,0]],"4040021-30700000":[[.9,0],[-.9,0]],"4050010-321500000":[[.9,0],[-.9,0]],"4050010-30600000":[[.9,0],[-.9,0]],"4050011-321500000":[[.9,0],[-.9,0]],"4050011-30600000":[[.9,0],[-.9,0]],"4050020-310300001":[[.9,0],[-.9,0]],"4050020-30600000":[[.9,0],[-.9,0]],"4050020-321500000":[[.9,0],[-.9,0]],"4050020-11300000":[[.9,0],[-.9,0]],"4050021-310300001":[[.9,0],[-.9,0]],"4050021-11300000":[[.9,0],[-.9,0]],"4050021-321500000":[[.9,0],[-.9,0]],"4050021-30600000":[[.9,0],[-.9,0]],"4050030-310600000":[[.9,0],[-.9,0]],"4050030-331000000":[[.9,0],[-.9,0]],"4050030-30900000":[[.9,0],[-.9,0]],"4050030-30600005":[[.9,0],[-.9,0]],"4050031-30900000":[[.9,0],[-.9,0]],"4050031-30600005":[[.9,0],[-.9,0]],"4050031-331000000":[[.9,0],[-.9,0]],"4050031-310600000":[[.9,0],[-.9,0]],"4050040-30600004":[[.9,0],[-.9,-.6],[-.9,.6]],"4050040-321500099":[[.9,0],[-.9,-.6],[-.9,.6]],"4050040-321500012":[[-.9,.6],[-.9,-.6],[.9,0]],"4050041-321500012":[[-.9,.6],[-.9,-.6],[.9,0]],"4050041-30600004":[[.9,0],[-.9,-.6],[-.9,.6]],"4050041-321500099":[[.9,0],[-.9,-.6],[-.9,.6]],"4050042-321500012":[[-.9,.6],[-.9,-.6],[.9,0]],"4050042-321500099":[[.9,0],[-.9,-.6],[-.9,.6]],"4050042-30600004":[[.9,0],[-.9,-.6],[-.9,.6]],"4060010-331000001":[[.9,0],[-.9,0]],"4060010-30900002":[[.9,0],[-.9,0]],"4070010-30700002":[[.9,0],[0,.6],[-.9,0]],"4070011-30700002":[[.9,0],[0,.6],[-.9,0]],"4070012-30700002":[[.9,0],[0,.6],[-.9,0]],"4070013-321500000":[[.9,0],[-.9,0]],"4070013-30600007":[[.9,0],[0,.6],[-.9,0]],"4070014-30600007":[[.9,0],[0,.6],[-.9,0]],"4070014-321500000":[[.9,0],[-.9,0]],"4070015-30600007":[[.9,0],[0,.6],[-.9,0]],"4070015-321500000":[[.9,0],[-.9,0]],"4080001-30600008":[[.9,0],[.9,1],[-.9,0]],"4080002-30600008":[[.9,0],[.9,1],[-.9,0]],"4080003-30600008":[[.9,0],[.9,1],[-.9,0]],"4080004-30600008":[[.9,0],[.9,1],[-.9,0]],"4080010-30600006":[[-.6,.75],[.6,.75],[.6,-.75],[-.6,-.75]],"4080011-30600006":[[-.6,.75],[.6,.75],[.6,-.75],[-.6,-.75]],"4080012-30600006":[[-.6,.75],[.6,.75],[.6,-.75],[-.6,-.75]],"4080013-30600006":[[-.6,.75],[.6,.75],[.6,-.75],[-.6,-.75]],"4090010-30600002":[[-.6,.75],[.6,.75],[.6,-.75],[-.6,-.75]],"4090011-30600002":[[-.6,.75],[.6,.75],[.6,-.75],[-.6,-.75]],"4090012-30600002":[[-.6,.75],[.6,.75],[.6,-.75],[-.6,-.75]],"4090013-30600002":[[-.6,.75],[.6,.75],[.6,-.75],[-.6,-.75]],"4100010-30500000":[[.9,0],[-.9,0]],"4100010-321500001":[[.9,0],[-.9,0]],"4100011-321500001":[[.9,0],[-.9,0]],"4100011-30500000":[[.9,0],[-.9,0]],"4100012-30500000":[[.9,0],[-.9,0]],"4100012-321500001":[[.9,0],[-.9,0]],"4100013-321500001":[[.9,0],[-.9,0]],"4100013-30500000":[[.9,0],[-.9,0]],"4110010-321500000":[[.9,0],[-.9,0]],"4110010-30600000":[[.9,0],[-.9,0]],"4110011-30600000":[[.9,0],[-.9,0]],"4110011-321500000":[[.9,0],[-.9,0]],"4110012-321500000":[[.9,0],[-.9,0]],"4110012-30600000":[[.9,0],[-.9,0]],"4121001-31500000":[[.9,0],[-.9,0]],"4130010-12000000":[[.9,0]],"4130010-250400000":[[.9,0]],"4130010-399000013":[[1.05,0]],"4130010-31400000":[[.8,0]],"4130020-250400000":[[.9,0]],"4130020-31400000":[[.8,0]],"4130020-399000013":[[1.05,0]],"4130030-31400000":[[.8,0]],"4130030-250400000":[[.9,0]],"4130040-250400000":[[.9,0]],"4130040-399000013":[[1.05,0]],"4130040-31400000":[[.8,0]],"4130050-31400001":[[.7,0],[-.7,0]],"4130051-31400001":[[.7,0],[-.7,0]],"4130070-250400001":[[-.9,0],[.9,0]],"4140010-31300001":[[0,0]],"4140010-12100000":[[-.9,0]],"4140010-330900000":[[0,0]],"4140020-31300001":[[0,0]],"4140030-31300001":[[0,0]],"4140040-11800000":[[-.9,0],[.9,0]],"4140040-31300001":[[0,0]],"4140050-31300001":[[0,0]],"4140060-31300001":[[0,0]],"4140070-31300001":[[0,0]],"4140080-31300001":[[0,0]],"4140090-31300001":[[0,0]],"4140100-31300001":[[0,0]],"4140110-31300001":[[0,0]],"4140120-31300001":[[0,0]],"4140130-31300001":[[0,0]],"4140140-31300001":[[0,0]],"4140150-31300001":[[0,0]],"4140160-31300001":[[0,0]],"4140170-31300001":[[0,0]],"4140180-31300001":[[0,0]],"4140190-31300001":[[0,0]],"4140200-31300001":[[0,0]],"4140210-31300001":[[0,0]],"4140220-31300001":[[0,0]],"4150010-11900000":[[-.9,0],[.9,0]],"4150010-31600000":[[-.9,0],[.9,0]],"4150010-250700000":[[.7,0],[-.7,0]],"4150010-331100000":[[.9,0],[-.9,0]],"4150020-31700000":[[.7,0]],"4150030-31600000":[[-.9,0],[.9,0]],"4150040-331400000":[[-.9,0],[.9,0]],"4150050-331400000":[[-.9,0],[.9,0]],"4150060-399000014":[[.9,0],[-.9,0]],"4160010-399000001":[[1,0],[-1,0]],"4160010-39000006":[[1,0],[-1,0]],"4160020-39000006":[[1,0],[-1,0]],"4160020-399000001":[[1,0],[-1,0]],"4170010-210300000":[[.9,0],[-.9,0]],"4170010-31200000":[[.9,0],[-.9,0]],"4170020-31200001":[[.7,0],[-.6,.7],[-.6,-.7]],"4180010-39000002":[[.9,0],[-.9,0]],"4180020-39000007":[[.9,0],[-.9,0]],"4180030-31900000":[[.9,0],[-.9,0]],"4180040-31900000":[[.9,0],[-.9,0]],"4190010-33000000":[[1,0],[-1,0]],"4190010-251200000":[[.5,0],[-.5,0]],"4200010-251400000":[[.75,0]],"4200010-31800000":[[.75,0]],"4200010-11600000":[[1,0]],"4200010-310900000":[[.9,0],[-.9,0]],"4200010-331200000":[[.75,0]],"4200011-331200000":[[.75,0]],"4200011-251400001":[[.75,0]],"4200011-11600000":[[1,0]],"4200011-31800001":[[.75,0]],"4210010-331300000":[[.9,0]],"4210010-39000003":[[.9,0]],"4210010-280000000":[[.9,0]],"4210020-39000003":[[.9,0]],"4210020-331300000":[[.9,0]],"4220010-250300000":[[.9,0]],"4220010-321500005":[[.75,0]],"4220010-30600001":[[.75,0]],"4220011-321500005":[[.75,0]],"4220011-30600001":[[.75,0]],"4220011-250300000":[[.9,0]],"4230010-250600000":[[.5,0],[-.5,0]],"4230010-39000008":[[.9,0],[-.9,0]],"4230020-30800000":[[.9,0]],"4240010-39000005":[[.6,0],[-.6,0]],"4240020-39000004":[[.9,0]],"4250010-321700000":[[0,0]],"4250010-31100000":[[0,0]],"4250010-212500000":[[0,0]],"4260010-13000001":[[-1,0],[1,0]],"4260010-13000000":[[-1,0],[1,0]],"4260010-100150200":[[0,0]],"4260010-36000000":[[-1,0],[1,0]],"4260010-260000000":[[-1,0],[1,0]],"4260010-111300001":[[-1,0],[1,0]],"4260010-36000001":[[-1,0],[1,0]],"4270010-39000001":[[.9,0]],"4270010-399000012":[[-1,0],[1,0]],"4290010-212700000":[[.9,0],[-.9,0]],"4290010-210100000":[[.9,0],[-.9,0]],"4290020-210300001":[[.9,0],[-.9,0]],"4290040-250500000":[[0,0]],"4290041-250500000":[[0,0]],"4290042-250500000":[[0,0]],"4290043-250500000":[[0,0]],"4290050-250100000":[[.9,0],[-.9,0]],"4290051-250100000":[[.9,0],[-.9,0]],"4290060-250200000":[[.9,0],[-.9,0]],"4290061-250200000":[[.9,0],[-.9,0]],"4290070-251300000":[[.9,0],[-.9,0]],"4290100-321500098":[[-.6,0],[.6,0]],"4290100-321500011":[[-.75,0],[.45,0]],"4290100-30600003":[[-.6,0],[.6,0]],"4290110-321500011":[[-.75,0],[.45,0]],"4290110-321500098":[[-.6,0],[.6,0]],"4290110-30600003":[[-.6,0],[.6,0]],"4290120-321500098":[[-.6,0],[.6,0]],"4290120-30600003":[[-.6,0],[.6,0]],"4290120-321500011":[[-.75,0],[.45,0]],"4290130-321500098":[[-.6,0],[.6,0]],"4290130-321500011":[[-.75,0],[.45,0]],"4290130-30600003":[[-.6,0],[.6,0]],"4290220-251000000":[[.8,0],[-.8,0]],"4290230-251100000":[[0,.9],[0,-.9]],"4290240-212300000":[[0,.9],[0,-.9]],"4290250-210200000":[[.9,0],[-.9,0]],"4290260-210200000":[[.9,0],[-.9,0]],"4290270-250500000":[[0,0]],"4300010-32100000":[[0,0]],"4300010-32000000":[[0,0]],"4300010-270000000":[[0,0]],"4300010-32000001":[[0,0]],"4300020-399000011":[[-1,0],[1,0]],"4400010-39000009":[[0,.9],[0,-.9]],"4600010-33900000":[[-.9,0],[.9,0]],"4600020-33900000":[[-.9,0],[.9,0]],"4700010-34500000":[[-.9,0],[.9,0]],"5010010-37000000":[[0,0]],"5010020-37000000":[[0,0]],"5010030-37000000":[[0,0]],"5010040-37000000":[[0,0]],"5010050-37000000":[[0,0]],"5040010-410300000":[[0,0]],"5040020-410400000":[[0,0]],"5040030-410600000":[[0,0]],"5070010-410200000":[[0,0]],"5160030-91000001":[[0,0]],"5170010-411100000":[[0,-.7]],"5220010-15000000":[[0,.7]],"6070010-20700000":[[.8,0]],"7010010-100110000":[[-1,0],[1,0]],"7010011-100110001":[[-1,0],[1,0]],"7020010-100120000":[[-1,0],[1,0]],"7030010-100140000":[[-1,0],[1,0]],"7040010-100130000":[[-1,0],[1,0]],"7080010-100100600":[[0,0]],"7090010-100100400":[[0,0]],"7120010-100150000":[[0,0]],"7150010-100150300":[[0,0]],"7160010-100150400":[[0,0]],"7170010-100150500":[[0,0]],"7180010-100150600":[[0,0]],"7210010-100150100":[[0,0]],"7220010-100150900":[[0,0]],"7230010-100151000":[[0,0]],"7240010-100151100":[[0,0]],"7250010-100151200":[[0,0]],"7260010-100151300":[[0,0]],"7270010-100151400":[[0,0]],"7280010-100151500":[[0,0]],"7290010-100151800":[[0,0]],"7300010-100151900":[[0,0]],"7310010-100152000":[[0,0]],"7410010-100151600":[[0,0]],"7510010-100151700":[[0,0]],"9010001-100101401":[[0,0]],"9010002-100101401":[[0,0]],"9010003-100101401":[[0,0]],"9010010-100101401":[[0,0]],"9010010-100101301":[[0,0]],"9010020-100101401":[[0,0]],"9010020-100101301":[[0,0]],"9010030-100101401":[[0,0]],"9010030-100101301":[[0,0]],"9010040-100101301":[[0,0]],"9010040-100101401":[[0,0]],"9010050-100101401":[[0,0]],"9010050-100101301":[[0,0]],"9010060-100101401":[[0,0]],"9010060-100101301":[[0,0]],"9010070-100101401":[[0,0]],"9010070-100101301":[[0,0]],"9010080-100101401":[[0,0]],"9010080-100101301":[[0,0]],"9010090-100101301":[[0,0]],"9010090-100101401":[[0,0]],"9010100-100101301":[[0,0]],"9010100-100101401":[[0,0]],"9010110-100101301":[[0,0]],"9010110-100101401":[[0,0]],"9010120-100101301":[[0,0]],"9010120-100101401":[[0,0]],"9010130-100101301":[[0,0]],"9010130-100101401":[[0,0]],"9010140-100101301":[[0,0]],"9010140-100101401":[[0,0]],"9010150-100101401":[[0,0]],"9010150-100101301":[[0,0]],"9010160-100101301":[[0,0]],"9010160-100101401":[[0,0]],"9010170-100101301":[[0,0]],"9010170-100101401":[[0,0]],"9010180-100101401":[[0,0]],"9010180-100101301":[[0,0]],"9010190-100101301":[[0,0]],"9010190-100101401":[[0,0]],"9010191-100101401":[[0,0]],"9010191-100101301":[[0,0]],"9010192-100101401":[[0,0]],"9010192-100101301":[[0,0]],"9010193-100101301":[[0,0]],"9010193-100101401":[[0,0]],"9010194-100101301":[[0,0]],"9010194-100101401":[[0,0]],"9010200-100101301":[[0,0]],"9010200-100101401":[[0,0]],"9010230-100101401":[[0,0]],"9010230-100101301":[[0,0]],"9010240-100101401":[[0,0]],"9010240-100101301":[[0,0]],"9010250-100101301":[[0,0]],"9010250-100101401":[[0,0]],"9010260-100101401":[[0,0]],"9010260-100101301":[[0,0]],"9010310-100101401":[[0,0]],"9050010-16000000":[[.9,0],[-.9,0]],"9050011-110100000":[[0,0]],"9050012-110200000":[[-1,0],[1,0]],"9050013-110300000":[[0,0]],"9200010-100152100":[[0,0]],"51020033-116700001":[[0,0]],"51112001-111200001":[[0,.9]],"51114001-111400001":[[0,0]],"82030040-83020005":[[-.9,0],[.9,0]],"82030040-819000000":[[-.9,0],[.9,0]],"82290010-399000003":[[.75,0]],"84020001-839300000":[[-.9,0],[.9,0]],"84020002-834700000":[[0,.9]],"84030000-810300000":[[0,0]],"84030050-321500001":[[.9,0],[-.9,0]],"84030051-321500001":[[.9,0],[-.9,0]],"84030060-30700098":[[.9,0],[-.9,0]],"84030061-30700098":[[.9,0],[-.9,0]],"84030062-30700098":[[.9,0],[-.9,0]],"84030070-30500099":[[.9,0],[0,.6],[-.9,0]],"84030071-30500099":[[.9,0],[0,.6],[-.9,0]],"84030072-30500099":[[.9,0],[0,.6],[-.9,0]],"84050050-30900001":[[.9,0],[-.9,0]],"84050050-30600000":[[.9,0],[-.9,0]],"84050051-30600000":[[.9,0],[-.9,0]],"84050051-30900001":[[.9,0],[-.9,0]],"84050070-30600099":[[.9,0],[-.9,0]],"84050072-30600099":[[.9,0],[-.9,0]],"84050073-30600099":[[.9,0],[-.9,0]],"84100014-30500000":[[.9,0],[-.9,0]],"84100015-30500000":[[.9,0],[-.9,0]],"84100020-321500097":[[.9,0],[-.9,0]],"84100020-30700099":[[.9,0],[-.9,0]],"84100021-321500097":[[.9,0],[-.9,0]],"84100021-30700099":[[.9,0],[-.9,0]],"84100022-321500097":[[.9,0],[-.9,0]],"84100022-30700099":[[.9,0],[-.9,0]],"84100023-321500097":[[.9,0],[-.9,0]],"84100023-30700099":[[.9,0],[-.9,0]],"84110022-30600003":[[-.6,0],[.6,0]],"84110032-30600003":[[-.6,0],[.6,0]],"84110090-30600003":[[-.6,0],[.6,0]],"84110091-30600003":[[-.6,0],[.6,0]],"84170030-398000001":[[.75,0]],"84210012-39000003":[[.9,0]],"84210012-331300000":[[.9,0]],"84340010-39000098":[[.8,0],[-.8,0]],"84340010-399000002":[[.8,0],[-.8,0]],"84340011-399000002":[[.8,0],[-.8,0]],"84340011-39000098":[[.8,0],[-.8,0]],"84340020-399000002":[[.8,0],[-.8,0]],"84340020-39000098":[[.8,0],[-.8,0]],"84340021-399000002":[[.8,0],[-.8,0]],"84340021-39000098":[[.8,0],[-.8,0]]}},2095:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(3580),c=n(1462),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).type="fill",e.symbolColor=t.symbolColor||"#ff0000",e.symbolFillColor=t.symbolFillColor||"#ff0000",e.symbolFillOpacity=t.symbolFillOpacity||1,e.coordinates=c.fixPolygon(e.coordinates),e}return e=u,r=[{key:"fromJSON",value:function(t){if("fill"!=t.type)throw Error("");return new u(t)}}],(n=[{key:"_toFeature",value:function(){return{type:"Feature",geometry:{type:"Polygon",coordinates:this.coordinates},properties:{byteNodeType:131403,color:this.symbolColor,georelation:null,id:null,layerid:this.devTypeId,oid:this.devId,rotate:0,sbid:"",sbzlx:"",scalbeable:!1,size:.5,attributes:this.attributes}}}},{key:"toJSON",value:function(){return{type:this.type,devId:this.devId,devTypeId:this.devTypeId,symbolColor:this.symbolColor,symbolFillColor:this.symbolFillColor,symbolFillOpacity:this.symbolFillOpacity,coordinates:this.coordinates,attributes:this.attributes}}}])&&i(e.prototype,n),r&&i(e,r),u}(l);t.exports=h},9152:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).type="line",e.symbolId=t.symbolId,e._convertSize?(e.symbolWidth=25.4*t.symbolWidth*.8,e.symbolWidth<6&&(e.symbolWidth=6)):e.symbolWidth=t.symbolWidth,e.symbolColor=t.symbolColor||"#ff0000",e.symbolOpacity=t.symbolOpacity||1,Array.isArray(e.coordinates[0][0])||(e.coordinates=[e.coordinates]),e}return e=u,r=[{key:"fromJSON",value:function(t){if("line"!=t.type)throw Error("");return new u(t)}}],(n=[{key:"_toFeature",value:function(){return{type:"Feature",geometry:{type:"MultiLineString",coordinates:this.coordinates},properties:{byteNodeType:131402,color:this.symbolColor,georelation:null,id:this.symbolId,layerid:this.devTypeId,oid:this.devId,rotate:0,sbid:"",sbzlx:"",scalbeable:!0,size:this._convertSize?this.symbolWidth/25.4:this.symbolWidth,attributes:this.attributes}}}},{key:"toJSON",value:function(){return{type:"line",devId:this.devId,devTypeId:this.devTypeId,symbolId:this.symbolId,convertSize:this._convertSize,symbolWidth:this._convertSize?this.symbolWidth/25.4:this.symbolWidth,symbolColor:this.symbolColor,symbolOpacity:this.symbolOpacity,coordinates:this.coordinates,attributes:this.attributes}}}])&&i(e.prototype,n),r&&i(e,r),u}(n(3580));t.exports=l},5158:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).type="point",e.symbolId=t.symbolId,e.symbolRotate=t.symbolRotate||0,e._convertSize?e.symbolSize=e.mmToPixel(t.symbolSize||1):e.symbolSize=t.symbolSize,e.symbolColor=t.symbolColor||"#ff0000",e.symbolOpacity=t.symbolOpacity||1,e.symbolScalable=!0===t.symbolScalable,e}return e=u,r=[{key:"fromJSON",value:function(t){if("point"!=t.type)throw Error("");return new u(t)}}],(n=[{key:"_toFeature",value:function(){return{type:"Feature",geometry:{type:"MultiPoint",coordinates:[this.coordinates]},properties:{byteNodeType:131401,color:this.symbolColor,georelation:null,id:this.symbolId,layerid:this.devTypeId,oid:this.devId,rotate:this.symbolRotate,sbid:"",sbzlx:"",scalable:this.symbolScalable,size:this.symbolSize,attributes:this.attributes}}}},{key:"toJSON",value:function(){return{type:this.type,devId:this.devId,devTypeId:this.devTypeId,symbolId:this.symbolId,symbolRotate:this.symbolRotate,convertSize:this._convertSize,symbolSize:this._convertSize?this.pixelToMM(this.symbolSize):this.symbolSize,symbolColor:this.symbolColor,symbolOpacity:this.symbolOpacity,symbolScalable:this.symbolScalable,coordinates:this.coordinates,attributes:this.attributes}}}])&&i(e.prototype,n),r&&i(e,r),u}(n(3580));t.exports=l},3580:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(6194),c=n(1462),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this))._convertSize=!!t.convertSize,e._renderer=null,e._map=null,e.devId=t.devId||"dId_"+(new Date).getTime(),e.devTypeId=t.devTypeId||"",e.coordinates=t.coordinates||null,e.attributes=t.attributes||{},e}return e=u,r=[{key:"fromJSON",value:function(){}}],(n=[{key:"mmToPixel",value:function(t){return c.mmToPixel(t)}},{key:"pixelToMM",value:function(t){return c.pixelToMM(t)}},{key:"getDevKey",value:function(){return this.devId+"_"+this.devTypeId}},{key:"getLayerKey",value:function(){if(this._renderer)return this.devId+"_"+this.devTypeId+this._renderer._extKey}},{key:"setMap",value:function(t){this._map=t}},{key:"getGeometry",value:function(){return this.coordinates}},{key:"setGeometry",value:function(t){this.coordinates=t,this._renderer&&this._renderer.addEleDevs([this])}},{key:"refresh",value:function(){this._renderer&&this._renderer._addEle(this)}},{key:"setRenderTool",value:function(t){this._renderer!=t&&(this._renderer&&this._renderer._removeEle(this),this._renderer=t,this._renderer&&this._renderer._addEle(this))}},{key:"getType",value:function(){return this.type}},{key:"getAttribute",value:function(){return this.attributes}},{key:"getStyle",value:function(){}},{key:"toJSON",value:function(){}}])&&i(e.prototype,n),r&&i(e,r),u}(l);t.exports=h},7591:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this,t)).type="text",e.symbolText=t.symbolText||"",e.symbolSize=e.mmToPixel(t.symbolSize||10),e._convertSize?e.symbolSize=e.mmToPixel(t.symbolSize):e.symbolSize=t.symbolSize,e.symbolColor=t.symbolColor||"#ff0000",e}return e=u,r=[{key:"fromJSON",value:function(t){if("point"!=t.type)throw Error("");return new u(t)}}],(n=[{key:"_toFeature",value:function(){return{type:"Feature",geometry:{type:"MultiPoint",coordinates:[this.coordinates]},properties:{byteNodeType:131405,color:this.symbolColor,convertSize:this._convertSize,size:this._convertSize?this.pixelToMM(this.symbolSize):this.symbolSize,text:this.symbolText,layerid:this.devTypeId,oid:this.devId,scalable:!0,attributes:this.attributes}}}},{key:"toJSON",value:function(){return{type:this.type,devId:this.devId,devTypeId:this.devTypeId,symbolText:this.symbolText,convertSize:this._convertSize,symbolSize:this._convertSize?this.pixelToMM(this.symbolSize):this.symbolSize,symbolColor:this.symbolColor,attributes:this.attributes}}}])&&i(e.prototype,n),r&&i(e,r),u}(n(3580));t.exports=l},3289:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=a.call(this))._enabled=!1,e._canvas=null,e._cursorStyle=t.cursorStyle||"crosshair",e}return e=u,(n=[{key:"setCursorStyle",value:function(t){this._cursorStyle=t||this._cursorStyle,this._enabled&&this._canvas&&(this._canvas.style.cursor=this._cursorStyle)}},{key:"getEnable",value:function(){return this._enabled}},{key:"getCursorStyle",value:function(){return this._cursorStyle}},{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"reset",value:function(){}},{key:"destroy",value:function(){}}])&&i(e.prototype,n),r&&i(e,r),u}(n(6194));t.exports=l},9854:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(3289),c=n(8288),h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=a.call(this,e))._map=t,n._suffix="_"+Math.random(),n.highLightColor=e.color||"",n.flickerSpeed=e.speed||2,n.maxOpacity=e.maxOpacity||1,n.minOpacity=e.minOpacity||0,n._raId=null,n._currentOpactiy=1,n._increaseFactor=-1,n._isFlicking=!1,n._datas=[],n._layerIdAndOids={},n.featuresKey={},n.featuresMap={point:[],line:[],fill:[],text:[]},n._raEvent=null,n._updateEvent=null,n}return e=u,(n=[{key:"setSpeed",value:function(t){this.flickerSpeed=t||this.speed||2}},{key:"setColor",value:function(t){this.highLightColor=t||this.highLightColor||"#ff00ff"}},{key:"setMinOpacity",value:function(t){t=Number(t),isNaN(t)||t<1&&t<this.maxOpacity&&(this.minOpacity=t||this.minOpacity||0)}},{key:"setMaxOpacity",value:function(t){t=Number(t),isNaN(t)||t>0&&t>this.minOpacity&&(this.maxOpacity=t||this.maxOpacity||1)}},{key:"isFlicking",value:function(){return this._isFlicking}},{key:"setDatas",value:function(t,e){this.stop(),this._datas=t,this._layerIdAndOids={};for(var n=0;n<this._datas.length;n++){var r=this._datas[n];this._layerIdAndOids[r.devTypeId]?this._layerIdAndOids[r.devTypeId].push(r.devId):this._layerIdAndOids[r.devTypeId]=[r.devId],this.featuresMap[r.type].push(r._toFeature())}for(var i in this.featuresMap){var o=i+this._suffix;this._map.getLayer(o)?this._map.getSource(o).setData({type:"FeatureCollection",features:this.featuresMap[i]}):this._map.addLayer({id:o,type:c.FeaturesDef[i].type,source:{type:"geojson",data:{type:"FeatureCollection",features:this.featuresMap[i]}},paint:c.FeaturesDef[i].paintData,layout:c.FeaturesDef[i].layoutData,style:{transition:{duration:0,delay:0}}})}e&&this.start()}},{key:"_setOriDevVisible",value:function(t){for(var e=0;e<this._datas.length;e++){var n=this._datas[e].devTypeId;if(this._map.getLayer(n)&&this._map.getSource(n)){for(var r=this._map.getSource(n)._data,i=0;i<r.features.length;i++)this._layerIdAndOids[n].indexOf(r.features[i].properties.oid)>-1&&(r.features[i].properties.opacity=t?1:0);this._map.getSource(n).setData(r)}}}},{key:"getDatas",value:function(){return this._datas}},{key:"_flickerFunc",value:function(){for(var t in this._currentOpactiy+=.01*this.flickerSpeed*this._increaseFactor,this._currentOpactiy>=this.maxOpacity&&(this._increaseFactor=-1,this._currentOpactiy=this.maxOpacity),this._currentOpactiy<=this.minOpacity&&(this._increaseFactor=1,this._currentOpactiy=this.minOpacity),this.featuresMap){var e=t+this._suffix;switch(this._map.moveLayer(e),t){case"point":this._map.setPaintProperty(e,"esymbol-opacity",this._currentOpactiy),this._map.setPaintProperty(e,"esymbol-color",this.highLightColor);break;case"line":this._map.setPaintProperty(e,"line-opacity",this._currentOpactiy),this._map.setPaintProperty(e,"line-color",this.highLightColor);break;case"fill":this._map.setPaintProperty(e,"fill-opacity",this._currentOpactiy),this._map.setPaintProperty(e,"fill-color",this.highLightColor),this._map.setPaintProperty(e,"fill-outline-color",this.highLightColor);break;case"text":this._map.setPaintProperty(e,"text-opacity",this._currentOpactiy),this._map.setPaintProperty(e,"text-color",this.highLightColor)}}this._raId=requestAnimationFrame(this._flickerFunc.bind(this))}},{key:"_onMapMove",value:function(){this._isFlicking?this._setOriDevVisible(!1):this._setOriDevVisible(!0)}},{key:"start",value:function(){if(!this._isFlicking)if(0!=this._datas.length){var t=this;this._updateEvent=function(){t._onMapMove()},this._map.on("pg-update",this._updateEvent),this._setOriDevVisible(!1),this._raId&&cancelAnimationFrame(this._raId),this._flickerFunc(),this._isFlicking=!0}else console.warn("setDatas")}},{key:"pause",value:function(){this._raId&&cancelAnimationFrame(this._raId),this._isFlicking=!1,this._map.off("pg-update",this._updateEvent)}},{key:"resume",value:function(){this._isFlicking||this.start()}},{key:"stop",value:function(){for(var t in this.pause(),this.featuresMap){var e=t+this._suffix;this._map.getLayer(e)&&this._map.removeLayer(e),this._map.getSource(e)&&this._map.removeSource(e)}this._setOriDevVisible(!0),this._datas=[]}}])&&i(e.prototype,n),r&&i(e,r),u}(l);t.exports=h},9722:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,t);var e,n,r,u=a(c);function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,e||{}))._map=t,n}return e=c,(n=[{key:"locateByCenter",value:function(t,e,n){this._map.egis&&this._map.egis.selectionSet&&(this._map.egis.selectionSet.clear(),this._map.egis.selectionSet.setDevs(t)),this._map.flyTo({center:e,zoom:n})}},{key:"locateBybounds",value:function(t,e){this._map.egis&&this._map.egis.selectionSet&&(this._map.egis.selectionSet.clear(),this._map.egis.selectionSet.setDevs(t)),this._map.fitBounds(e,{padding:100})}},{key:"destroy",value:function(){o(l(c.prototype),"destroy",this).call(this)}}])&&i(e.prototype,n),r&&i(e,r),c}(n(3289));t.exports=c},6328:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=n(3289),c=n(707).SelectEvent,h=n(8347),f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(u,t);var e,n,r,a=s(u);function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=a.call(this,e))._map=t,n._isDrawing=!1,n._options=e||{},n._type="",n._selectTypes=[],n._isAddOn=!0===e.isAddOn,n._selectedDevs=[],n._selectedColor=e.selectedColor||"#ff00ff",n._mouseClickEvent=null,n._canvas=n._map.getCanvasContainer(),n._start=null,n._current=null,n._box=null,n._mousedownEvent=null,n._mousemoveEvent=null,n._mouseupEvent=null,n._polygonMouseClick=null,n._polygonMouseMove=null,n._polygonMouseDBClick=null,n._fillLayerId="polygonPreview_"+Math.random(),n._lineLayerId="linePreview_"+Math.random(),n._polygonArea=null,n.setSelectTypes(e.selectTypes),n.setDrawType(e.type||"rectangle"),n.setDrawStyle(n._options.borderColor,n._options.borderWidth,n._options.fillColor,n._options.fillOpacity),n}return e=u,(n=[{key:"setDrawStyle",value:function(t,e,n,r){t&&(this._options.borderColor=t),e&&(this._options.borderWidth=e),window.isNaN(Number(e))?this._options.borderWidth=2:Number(e)<1&&(this._options.borderWidth=1),n&&(this._options.fillColor=n),r&&(this._options.fillOpacity=r),window.isNaN(Number(r))?this._options.fillOpacity=.5:Number(r)<0?this._options.fillOpacity=0:Number(r)>1&&(this._options.fillOpacity=1)}},{key:"setSelectedColor",value:function(t,e){this._selectedColor=t||"#ff00ff",this._map.egis&&this._map.egis.selectionSet&&this._map.egis.selectionSet.setSelectionColor(this._selectedColor),e&&this._map.egis.selectionSet.render()}},{key:"setSelectTypes",value:function(t){t&&Array.isArray(t)&&(this._selectTypes=t)}},{key:"setIsAddOn",value:function(t){this._isAddOn!=t&&(this._isAddOn=t)}},{key:"setDrawType",value:function(t){var e=!1;this._enabled&&(e=!0,this.disable()),this._endDraw(),this._type=t;var n=this;switch(this._map.off("click",this._mouseClickEvent),this._map.off("click",this._polygonMouseClick),this._map.off("mousemove",this._polygonMouseMove),this._map.off("dblclick",this._polygonMouseDBClick),this._canvas.removeEventListener("mousedown",this._mousedownEvent),this._type){case"point":this._mouseClickEvent=function(t){0==t.originalEvent.button&&(n._clickedPoint=t.lngLat,n._onDrawEnd(t))};break;case"polygon":this._polygonMouseClick=function(t){0==t.originalEvent.button&&n._onDrawPolygon(t)},this._polygonMouseMove=function(t){n._onDrawPolygonMoving(t)},this._polygonMouseDBClick=function(t){0==t.originalEvent.button&&n._onDrawPolygonEnd(t)};break;case"circle":case"rectangle":this._mousedownEvent=function(t){0==t.button&&n._onDrawStart(t)}}e&&this.enable()}},{key:"setLayers",value:function(t){this._options.layers=t||[]}},{key:"setBorderStyle",value:function(t){console.warn("")}},{key:"setFillStyle",value:function(t){console.warn("")}},{key:"_getMousePos",value:function(t){var e=this._canvas.getBoundingClientRect();return new SGMap.Point(t.clientX-e.left-this._canvas.clientLeft,t.clientY-e.top-this._canvas.clientTop)}},{key:"_onDrawStart",value:function(t){var e=this;switch(this._type){case"point":break;case"circle":case"rectangle":this._mousemoveEvent=function(t){e._onDrawing(t)},this._mouseupEvent=function(t){e._onDrawEnd(t)},document.addEventListener("mousemove",this._mousemoveEvent),document.addEventListener("mouseup",this._mouseupEvent),this._start=this._getMousePos(t)}}},{key:"_onDrawing",value:function(t){this._current=this._getMousePos(t),this._box||(this._box=document.createElement("div"),this._box.style.background=this._options.fillColor+String(Math.ceil(256*this._options.fillOpacity-1).toString(16)),this._box.style.position="absolute",this._box.style.border=this._options.borderWidth+"px solid "+this._options.borderColor,this._box.style.top="0px",this._box.style.left="0px",this._box.style.width="0px",this._box.style.height="0px",this._canvas.appendChild(this._box));var e,n=Math.min(this._start.x,this._current.x),r=Math.max(this._start.x,this._current.x),i=Math.min(this._start.y,this._current.y),o=Math.max(this._start.y,this._current.y);switch(this._type){case"circle":var s=Math.min(Math.abs(r-n),Math.abs(o-i));e="translate("+(this._start.x-s)+"px,"+(this._start.y-s)+"px)",this._box.style.transform=e,this._box.style.WebkitTransform=e,this._box.style.width=2*s+"px",this._box.style.height=2*s+"px",this._box.style["border-radius"]=s+"px";break;case"rectangle":e="translate("+n+"px,"+i+"px)",this._box.style.transform=e,this._box.style.WebkitTransform=e,this._box.style.width=r-n+"px",this._box.style.height=o-i+"px"}}},{key:"_onDrawEnd",value:function(t){document.removeEventListener("mousemove",this._mousemoveEvent),this._mousemoveEvent=null,document.removeEventListener("mouseup",this._mouseupEvent),this._mouseupEvent=null;var e=this._getMousePos(t);switch(this._type){case"point":this._endDraw([{x:t.point.x-5,y:t.point.y-5},{x:t.point.x+5,y:t.point.y+5}]);break;case"circle":var n=Math.sqrt(Math.pow(this._start.x-e.x,2)+Math.pow(this._start.y-e.y,2));this._endDraw([{x:this._start.x-n,y:this._start.y-n},{x:this._start.x+n,y:this._start.y+n}]);break;case"rectangle":this._endDraw([this._start,e])}}},{key:"_endDraw",value:function(t){var e=this;if(this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),t){var n=[this._map.unproject(t[0]),this._map.unproject(t[1])],r=this._map.queryRenderedFeatures(t,this._options),i={},o=r.filter((function(n){if(!n.properties.layerid||n.layer.id.indexOf("_ss_")>-1)return!1;if(n.properties&&n.properties.oid&&n.properties.layerid){var r,o=!0,s="";switch(n.layer.type){case"esymbol":s="point";break;case"eline":s="line";break;case"fill":s="fill";break;case"symbol":"131405"==n.properties.byteNodetype&&(s="text")}switch(o=!(0!=e._selectTypes.length||!s)||e._selectTypes.indexOf(s)>-1,e._type){case"point":case"rectangle":break;case"circle":o=!1;var a=Math.ceil(.5*(t[1].x-t[0].x));r=n.geometry.coordinates.flat(5);for(var u=0;u<=r.length-2;u+=2){var l=e._map.project([r[u],r[u+1]]);if(Math.abs(e._start.x-l.x)<=a&&Math.abs(e._start.y-l.y)<=a){o=!0;break}}break;case"polygon":o=!1,r=n.geometry.coordinates.flat(5);for(var c=0;c<=r.length-2;c+=2){var f=h.point([r[c],r[c+1]]);if(h.booleanPointInPolygon(f,e._polygonArea)){o=!0;break}}}return o&&(i[n.layer.id]?i[n.layer.id].push(n.properties.oid):i[n.layer.id]=[n.properties.oid]),o}}));this._isAddOn?(this._map.egis.selectionSet.addDevs(i),this._selectedDevs=this._selectedDevs.concat(o)):(this._map.egis.selectionSet.setDevs(i),this._selectedDevs=o),this._map.egis.selectionSet.render();var s={devs:this._selectedDevs,bounds:n};"point"==this._type&&(s.clickedPoint=this._clickedPoint),this.fire(c.DEVS_SELECTED,s)}}},{key:"_onDrawPolygon",value:function(t){console.log(""),console.log(t);var e=this._map.getSource(this._fillLayerId);if(0==e._data.features.length){var n={type:"Feature",geometry:{type:"Polygon",coordinates:[[[t.lngLat.lng,t.lngLat.lat],[t.lngLat.lng+1e-6,t.lngLat.lat+1e-6],[t.lngLat.lng,t.lngLat.lat]]]}};e._data.features.push(n),this._map.on("mousemove",this._polygonMouseMove),this._map.on("dblclick",this._polygonMouseDBClick)}else e._data.features[0].geometry.coordinates[0].splice(e._data.features[0].geometry.coordinates[0].length-2,0,[t.lngLat.lng,t.lngLat.lat]);e.setData(e._data);var r=this._map.getSource(this._lineLayerId);if(0==r._data.features.length){var i={type:"Feature",geometry:{type:"LineString",coordinates:[[[t.lngLat.lng,t.lngLat.lat],[t.lngLat.lng+1e-6,t.lngLat.lat+1e-6],[t.lngLat.lng,t.lngLat.lat]]]}};r._data.features.push(i)}else r._data.features[0].geometry.coordinates[0].splice(r._data.features[0].geometry.coordinates[0].length-2,0,[t.lngLat.lng,t.lngLat.lat]);r.setData(e._data)}},{key:"_onDrawPolygonMoving",value:function(t){console.log(""),console.log(t);var e=this._map.getSource(this._fillLayerId);e&&e._data.features.length&&(e._data.features[0].geometry.coordinates[0][e._data.features[0].geometry.coordinates[0].length-2]=[t.lngLat.lng,t.lngLat.lat],e.setData(e._data));var n=this._map.getSource(this._lineLayerId);n&&n._data.features.length&&(n._data.features[0].geometry.coordinates[0][n._data.features[0].geometry.coordinates[0].length-2]=[t.lngLat.lng,t.lngLat.lat],n.setData(n._data))}},{key:"_onDrawPolygonEnd",value:function(t){console.log(""),console.log(t),console.log(""),this._map.off("mousemove",this._polygonMouseMove),this._map.off("dblclick",this._polygonMouseDBClick);var e=this._map.getSource(this._fillLayerId);if(e&&e._data.features.length){for(var n=e._data.features[0].geometry.coordinates,r=n[0].length-1;r>0;r--)n[0][r][0]==n[0][r-1][0]&&n[0][r][1]==n[0][r-1][1]&&n[0].splice(r,1);if(n[0].length>3){this._polygonArea=h.polygon(n);var i=h.bbox(this._polygonArea);console.log(i);var o=this._map.project({lng:i[0],lat:i[3]}),s=this._map.project({lng:i[2],lat:i[1]}),a=[[o.x,o.y],[s.x,s.y]];console.log(a),this._endDraw(a)}else this._endDraw();e._data.features=[],this._map.getSource(this._fillLayerId).setData(e._data);var u=this._map.getSource(this._lineLayerId);u._data.features=[],this._map.getSource(this._lineLayerId).setData(u._data)}}},{key:"enable",value:function(){if(!this._enabled){switch(this.setDrawType(this._type),this._type){case"point":this._map.on("click",this._mouseClickEvent);break;case"polygon":this._map.on("click",this._polygonMouseClick),this._map.on("mousemove",this._polygonMouseMove),this._map.on("dblclick",this._polygonMouseDBClick),this._map.doubleClickZoom.disable(),this._map.getLayer(this._fillLayerId)&&this._map.removeLayer(this._fillLayerId),this._map.getSource(this._fillLayerId)&&this._map.removeSource(this._fillLayerId),this._map.addLayer({id:this._fillLayerId,type:"fill",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}},paint:{"fill-outline-color":"#cccccc","fill-color":this._options.fillColor,"fill-opacity":this._options.fillOpacity}}),this._map.moveLayer(this._fillLayerId),this._map.getLayer(this._lineLayerId)&&this._map.removeLayer(this._lineLayerId),this._map.getSource(this._lineLayerId)&&this._map.removeSource(this._lineLayerId),this._map.addLayer({id:this._lineLayerId,type:"line",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}},layout:{"line-cap":"round","line-join":"round"},paint:{"line-color":this._options.borderColor,"line-width":this._options.borderWidth}}),this._map.moveLayer(this._lineLayerId);break;case"circle":case"rectangle":this._canvas.addEventListener("mousedown",this._mousedownEvent)}this._map.dragPan.disable(),this._canvas.style.cursor=this._cursorStyle,this._enabled=!0}}},{key:"disable",value:function(t){this._enabled=!1,this._canvas.removeEventListener("mousedown",this._mousedownEvent),this._map.off("click",this._mouseClickEvent),this._mousedownEvent=null,this._map.dragPan.enable(),this._endDraw(),this._start=null,this._current=null,this._map.off("click",this._polygonMouseClick),this._map.off("mousemove",this._polygonMouseMove),this._map.off("dblclick",this._polygonMouseDBClick),this._polygonMouseClick=null,this._polygonMouseMove=null,this._polygonMouseDBClick=null,this._map.doubleClickZoom.enable(),this._map.getLayer(this._fillLayerId)&&this._map.removeLayer(this._fillLayerId),this._map.getSource(this._fillLayerId)&&this._map.removeSource(this._fillLayerId),this._map.getLayer(this._lineLayerId)&&this._map.removeLayer(this._lineLayerId),this._map.getSource(this._lineLayerId)&&this._map.removeSource(this._lineLayerId),this._canvas.style.cursor="",!0===t&&this._map.egis&&this._map.egis.selectionSet&&this._map.egis.selectionSet.clear()}}])&&i(e.prototype,n),r&&i(e,r),u}(l);t.exports=f},9312:(t,e,n)=>{function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=l(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var c=n(3289),h=n(707).SnapEvent,f=n(1462),p=(n(5959),function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(c,t);var e,n,r,u=a(c);function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=u.call(this,e))._map=t,n.setOptions(e),n._isSnapping=!1,n._snapLayerId="snapLayer",n._resultData={distance:Number.POSITIVE_INFINITY},n._gridCellDatas={},n._event=null,n._currentPoint=null,n}return e=c,(n=[{key:"_setResultData",value:function(t,e,n,r,i){var o=!1;this._tolerance,r<this._tolerance?r<=this._resultData.distance&&(o=!0,"cellPoint"==this._resultData.geomType&&"cellLine"==e&&this._resultData.distance-r<5&&(o=!1)):r==this._tolerance&&(this._priority&&3==this._priority.length?this._priority.indexOf(e)<this._priority.indexOf(this._resultData.geomType)&&(o=!0):o=!0),o&&(this._resultData.distance=r,this._resultData.point=n,this._resultData.data=t,this._resultData.geomType=e,this._resultData.terminalIndex=i||null)}},{key:"_snap",value:function(t){if(t){this._resultData={distance:Number.POSITIVE_INFINITY},this._map.moveLayer(this._snapLayerId);var e=this._map.project(t.lngLat);if(this._map.powerGridDevs&&this._map.powerGridDevs.data){for(var n in this._map.powerGridDevs.data){this._layers&&this._layers.length>0&&n.replace("_extend","");var r=this._map.powerGridDevs.data[n].type;if(this._types&&this._types.length>0)if(n.indexOf("_extend")>-1){if(!(this._types.indexOf("terminal")>-1))continue}else if("esymbol"==r){if(!(this._types.indexOf("point")>-1))continue}else if("eline"==r&&!(this._types.indexOf("line")>-1))continue;var i=this._map.powerGridDevs.data[n].features;if(n.indexOf("_extend")>-1){for(var o=0;o<i.length;o++)if(!(this._layers.length>0&&-1==this._layers.indexOf(String(i[o].properties.sbzlx))&&-1==this._layers.indexOf(Number(i[o].properties.layerid))))for(var s=i[o].geometry.coordinates,a=Number.POSITIVE_INFINITY,u=0;u<s.length;u++){var l=this._map.project({lng:s[u][1][0],lat:s[u][1][1]});a=f.calcDistance(e,l),this._setResultData(i[o].properties,"terminal",{lng:s[u][1][0],lat:s[u][1][1]},a,u+1)}}else for(var c=0;c<i.length;c++)if(!(this._layers.length>0&&-1==this._layers.indexOf(String(i[c].properties.sbzlx))&&-1==this._layers.indexOf(Number(i[c].properties.layerid))))try{switch(r){case"esymbol":if("MultiPoint"!=i[c].geometry.type)continue;var p=i[c].geometry.coordinates[0],d=this._map.project({lng:p[0],lat:p[1]}),y=f.calcDistance(e,d);this._setResultData(i[c].properties,"point",{lng:p[0],lat:p[1]},y);break;case"eline":if("MultiLineString"!=i[c].geometry.type)continue;for(var g=i[c].geometry.coordinates,m=0;m<g.length;m++)for(var v=g[m],_=1;_<v.length;_++){var b=this._map.project({lng:v[_-1][0],lat:v[_-1][1]}),x=this._map.project({lng:v[_][0],lat:v[_][1]}),w=f.calcCrossPoint(b,x,e);w&&(i[c].properties.rotate=f.transSymbolAngle(b,x),this._setResultData(i[c].properties,"line",this._map.unproject(w.point),w.distance))}}}catch(t){console.error(t)}}if(Object.keys(this._gridCellDatas).length>0)for(var E in this._gridCellDatas){var S=this._gridCellDatas[E];if(this._types.indexOf("cellPoint")>-1)for(var P=S._crossPoints,C=0;C<P.length;C++){var I={lng:P[C][0],lat:P[C][1]},M=this._map.project(I),O=f.calcDistance(e,M);this._setResultData({},"cellPoint",I,O)}if(this._types.indexOf("cellLine")>-1)for(var T=S._lines,L=0;L<T.length;L++){var N=this._map.project({lng:T[L][0][0],lat:T[L][0][1]}),A=this._map.project({lng:T[L][1][0],lat:T[L][1][1]}),R=f.calcCrossPoint(N,A,e);R&&this._setResultData({},"cellLine",this._map.unproject(R.point),R.distance)}}if(this._resultData.distance!=Number.POSITIVE_INFINITY){switch(this._map.getSource(this._snapLayerId).setData({type:"Feature",geometry:{type:"Point",coordinates:[this._resultData.point.lng,this._resultData.point.lat]}}),this._resultData.geomType){case"terminal":this._map.setPaintProperty(this._snapLayerId,"circle-stroke-color","#ff0000");break;case"line":this._map.setPaintProperty(this._snapLayerId,"circle-stroke-color","#00ff00");break;case"point":this._map.setPaintProperty(this._snapLayerId,"circle-stroke-color","#4abbf7");break;case"cellLine":this._map.setPaintProperty(this._snapLayerId,"circle-stroke-color","#f7f600");break;case"cellPoint":this._map.setPaintProperty(this._snapLayerId,"circle-stroke-color","#f700de")}this._map.setPaintProperty(this._snapLayerId,"circle-opacity",1),this._map.setPaintProperty(this._snapLayerId,"circle-stroke-opacity",1),console.log(this._resultData),this.fire(h.DEV_SNAPPED,this._resultData)}else this._map.setPaintProperty(this._snapLayerId,"circle-opacity",0),this._map.setPaintProperty(this._snapLayerId,"circle-stroke-opacity",0),this.fire(h.DEV_SNAPPED,null)}else this.fire(h.DEV_SNAPPED,null)}}},{key:"addGridCell",value:function(t){this._gridCellDatas[t._suffix]=t}},{key:"removeGridCell",value:function(t){delete this._gridCellDatas[t._suffix]}},{key:"clearGridCell",value:function(t){this._gridCellDatas={}}},{key:"setOptions",value:function(t){t=t||{},this._layers=t.layers||[],this._types=t.types||null,this._tolerance=t.tolerance||10,this._priority=t.priority,this.setPriority(t.priority)}},{key:"setLayers",value:function(t){this._layers=t||[],this._snap(this._currentPoint)}},{key:"setTolerance",value:function(t){t>=0&&(this._tolerance=t||10),this._snap(this._currentPoint)}},{key:"setTypes",value:function(t){this._types=t||["point","line","terminal"],this._snap(this._currentPoint)}},{key:"setPriority",value:function(t){this._priority=t||["cellPoint","cellLine","terminal","point","line"],this._snap(this._currentPoint)}},{key:"enable",value:function(){if(!this._enabled){this._map.getCanvas().style.cursor=this._cursorStyle,this._enabled=!0,this._map.addLayer({id:this._snapLayerId,type:"circle",source:{type:"geojson",data:{type:"FeatureCollection",features:[]}},paint:{"circle-radius":4,"circle-color":"#fff","circle-stroke-color":"#4abbf7","circle-opacity":1,"circle-stroke-opacity":1,"circle-stroke-width":2}});var t=this;this._event=function(e){t._currentPoint=e,t._snap(e)},this._map.on("mousemove",this._event)}}},{key:"disable",value:function(){this._map.getCanvas().style.cursor="",this._map.off("mousemove",this._event),this._enabled=!1,this._resultData=null,this._map.getLayer(this._snapLayerId)&&this._map.removeLayer(this._snapLayerId),this._map.getSource(this._snapLayerId)&&this._map.removeSource(this._snapLayerId)}},{key:"destroy",value:function(){o(l(c.prototype),"destroy",this).call(this)}}])&&i(e.prototype,n),r&&i(e,r),c}(c));t.exports=p},7597:t=>{function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,r,i;return n=t,i=[{key:"colorTenToRGBA",value:function(t){var e=t>>24&255;return"rgba("+(255&t)+","+(t>>8&255)+","+(t>>16&255)+","+(e=0==e||1==e?1-e:1)+")"}},{key:"hexToRgba",value:function(t){var e,n,r,i;switch(t.length){case 7:e=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),r=parseInt(t.substr(5,2),16),i=1;break;case 9:e=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),r=parseInt(t.substr(5,2),16),i=parseInt(t.substr(7,2),16)/255}return"rgba("+e+","+n+","+r+","+i+")"}},{key:"rgbaStrToHex",value:function(t){for(var e=t.match(/[0-9]{0,3}/g),n=e.length-1;n>=0;n--)""===e[n]&&e.splice(n,1);3==e.length&&e.push("1"),5==e.length&&(e[3]=e[3]+"."+e[4],e.pop());var r=Number(e[0]).toString(16);r=2==r.length?r:"0"+r;var i=Number(e[1]).toString(16);i=2==i.length?i:"0"+i;var o=Number(e[2]).toString(16);return o=2==o.length?o:"0"+o,Number(e[3]),r+i+o+Math.floor(255*Number(e[3])).toString(16)}},{key:"fixColorToRGBA",value:function(e){if("number"==typeof e)return e<0?e:t.colorTenToRGBA(e);if("rgba"===String(e).substr(0,4).toLowerCase())return e;if("0x"===String(e).substr(0,2)){if(!([1,2,5,7].indexOf(String(e).length-2)>-1))return t.hexToRgba("#"+e.substr(2));console.log("color value invalid")}return"#"===String(e).substr(0,1)?t.hexToRgba(e):"rgb"===String(e).substr(0,3).toLowerCase()?e=t.rgbaStrToHex(e):"argb"===String(e).substr(0,4).toLowerCase()?(console.error("argb not supported"),null):void 0}}],(r=null)&&e(n.prototype,r),i&&e(n,i),t}();t.exports=n},1462:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(5959),o=n(8965),s=n(4867),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,a=[{key:"getSymbolIdBySubtypeId",value:function(t){return o[t]}},{key:"degreeToMercator",value:function(t){var e=6378137,n=Math.PI/180,r=85.0511287798,i=Math.max(Math.min(r,t.lat),-r),o=Math.sin(i*n);return{x:e*t.lng*n,y:e*Math.log((1+o)/(1-o))/2}}},{key:"mercatorToDegree",value:function(t){var e=6378137,n=180/Math.PI;return{lat:(2*Math.atan(Math.exp(t.y/e))-Math.PI/2)*n,lng:t.x*n/e}}},{key:"getCoordsArr",value:function(t,e,n){var r=[];n=n||t.length;for(var i=e;i<n-1;i+=2)r.push([t[i],t[i+1]]);return r}},{key:"formulaXtoY",value:function(t,e,n,r){var i=Math.sqrt(Math.pow(n,2)-Math.pow(t-e[0],2));return 1==r?Math.max(i+e[1],e[1]-i):3==r?Math.min(i+e[1],e[1]-i):void 0}},{key:"formulaYtoX",value:function(t,e,n,r){var i=Math.sqrt(Math.pow(n,2)-Math.pow(t-e[1],2));return 2==r?Math.max(i+e[0],e[0]-i):4==r?Math.min(i+e[0],e[0]-i):void 0}},{key:"interpolateCoords",value:function(t,e,n){var r=t,i=e,o=n,s=[(r[0]+o[0])/2,(r[1]+o[1])/2],a=Math.sqrt(Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2))/2,u=1;i[1]>r[1]&&i[1]>o[1]&&(u=1,r[0]<i[0]&&(i[0],o[0]),r[0]>i[0]&&(i[0],o[0])),i[0]>r[0]&&i[0]>o[0]&&(u=2,r[1]<i[1]&&(i[1],o[1]),r[1]>i[1]&&(i[1],o[1])),i[1]<r[1]&&i[1]<o[1]&&(u=3,r[0]<i[0]&&(i[0],o[0]),r[0]>i[0]&&(i[0],o[0])),i[0]<r[0]&&i[0]<o[0]&&(u=4,r[1]<i[1]&&(i[1],o[1]),r[1]>i[1]&&(i[1],o[1]));var l=[t],c=0;if(1==u||3==u){c=(o[0]-r[0])/30;for(var h=1;h<30;h++){var f=r[0]+h*c,p=this.formulaXtoY(f,s,a,u);l.push([f,p])}}else if(2==u||4==u){c=(o[1]-r[1])/30;for(var d=1;d<30;d++){var y=r[1]+d*c,g=this.formulaYtoX(y,s,a,u);l.push([g,y])}}return l.push(n),l}},{key:"flatArray",value:function(t){var e=this,n=[];return t.map((function(t){Array.isArray(t)?n=n.concat(e.flatArray(t)):n.push(t)})),n}},{key:"transGeoByRelation",value:function(t,e){if(!t||!e)return null;var n,r=!0;try{for(var i=[],o=0;o<e.length;o+=3)i.push([e[o],e[o+1],e[o+2]]);var a=this.flatArray(t);if(0==a.length)return null;n=[];for(var u=0;u<i.length;u++){var l=i[u][0]-1,c=i[u][1],h=i[u][2],f=0;switch(c){case 0:return null;case 1:break;case 2:switch(h){case 1:u<i.length-1&&(f=i[u+1][0]+1),n.push(this.getCoordsArr(a,l,f));break;case 2:u<i.length-1&&(f=i[u+1][0]+1);var p=this.getCoordsArr(a,l,f);3==p.length&&1==s.serviceInfo.curveLine&&(p=this.interpolateCoords(p[0],p[1],p[2])),n.push(p)}break;case 3:case 1003:case 2003:switch(h){case 1:case 2:case 3:case 4:break;default:return null}break;case 4:case 5:if(h==i.length-1){r=!1;continue}return null;default:return null}}}catch(t){console.error(t),r=!0}return r?t:n}},{key:"calcTerminal",value:function(t,e,n,r,o){var s,a=this.degreeToMercator(n),u=i[t+"-"+e];if(!u)return[];s=o/96*25.4*1;var l=2*Math.PI/360*r,c=[];if(u)for(var h=0;h<u.length;h++){var f=u[h],p=f[0]*Math.cos(l)-f[1]*Math.sin(l),d=f[0]*Math.sin(l)+f[1]*Math.cos(l),y=this.mercatorToDegree({x:a.x+s*p,y:a.y+s*d});c.push(y)}return c}},{key:"getCutLineCoords",value:function(e,n){if(n)switch(n.length){case 1:e.geometry.coordinates[0][1]=[n[0].lng,n[0].lat];break;case 2:var r=e.geometry.coordinates[0][0],i=e.geometry.coordinates[0][2]||e.geometry.coordinates[0][1];if(r&&i){e.geometry.coordinates[0]=[r,[n[0].lng,n[0].lat]],e.geometry.coordinates.push([i,[n[1].lng,n[1].lat]]);var o=t.transSymbolAngle({x:r[0],y:r[1]},{x:i[0],y:i[1]});e.properties.rotate=o}break;case 3:case 4:for(var s=Math.min(e.geometry.coordinates.length,n.length),a=0;a<s;a++){var u=n[a];e.geometry.coordinates[a]&&(e.geometry.coordinates[a][1]=[u.lng,u.lat])}}}},{key:"transSymbolAngle",value:function(t,e){var n=e.x-t.x,r=e.y-t.y,i=Math.atan2(r,n);return(180/(Math.acos(-1)/i)+180)%360}},{key:"getFinalPropValue",value:function(t,e,n){var r="";return t.common&&(r=t.common[n]),t[e]&&t[e][n]&&(r=t[e][n]),r}},{key:"calcDistance",value:function(t,e){return Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2))}},{key:"calcCrossPoint",value:function(t,e,n){var r,i,o,s,a={x:0,y:0},u=0;return t.x==e.x?(a.x=e.x,a.y=n.y,u=Math.abs(e.x-n.x),(a.y-t.y)*(a.y-e.y)<0?{point:a,distance:u}:null):t.y==e.y?(a.x=n.x,a.y=e.y,u=Math.abs(e.y-n.y),(a.x-t.x)*(a.x-e.x)<0?{point:a,distance:u}:null):(r=(e.y-t.y)/(e.x-t.x),o=e.y-r*e.x,i=-1/r,s=n.y-i*n.x,a.x=(o-s)/(i-r),a.y=a.x*r+o,u=Math.sqrt(Math.pow(n.y-a.y,2)+Math.pow(n.x-a.x,2)),(a.x-t.x)*(a.x-e.x)<0&&(a.y-t.y)*(a.y-e.y)<0?{point:a,distance:u}:null)}},{key:"mmToPixel",value:function(t){return t/25.4*96}},{key:"pixelToMM",value:function(t){return t/96*25.4}},{key:"areaMeasure",value:function(t){return"GeometryUtil"}},{key:"angleMeasure",value:function(e,n,r){var i,o=t.calcDistance(e,n),s=t.calcDistance(n,r),a=t.calcDistance(r,e),u=(o*o+s*s-a*a)/(2*o*s);return i=180*Math.acos(u)/Math.PI,Math.abs(i)}},{key:"_diagonalToPolygon",value:function(t,e){var n,r,i,o;return n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),i=Math.max(t[0],e[0]),[[n,r],[n,o=Math.max(t[1],e[1])],[i,o],[i,r],[n,r]]}},{key:"fixPolygon",value:function(e){if(Array.isArray(e[0][0]))for(var n=0;n<e.length;n++)2==e[n].length&&(e[n]=t._diagonalToPolygon(e[n][0],e[n][1]));else 2==e.length&&(e=t._diagonalToPolygon(e[0],e[1]));return e}}],(n=null)&&r(e.prototype,n),a&&r(e,a),t}();t.exports=a},759:(t,e,n)=>{function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=n(3614),o=n(2744).VectorTile,s=n(4867),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,a;return e=t,a=[{key:"loadPbfFile",value:function(t,e,n){var r=new Uint8Array(t),a=null;return a=s.active?r.slice(e,r.byteLength-n):r,new o(new i(a))}}],(n=null)&&r(e.prototype,n),a&&r(e,a),t}();t.exports=a},856:t=>{var e={getVecTileData:function(t,e){var n=1;e>=18&&(n=0);var r=[t.xmin,t.ymax],i=[t.xmax,t.ymin],o=this.getTileColandRow(r,e),s=this.getTileColandRow(i,e);return{row:{min:o.x-n,max:s.x+n},column:{min:o.y-n,max:s.y+n}}},getTileColandRow:function(t,e){var n=Math.floor(this.longitudeToTileX(t[0],e)).toFixed(0),r=Math.floor(this.latitudeToTileY(t[1],e)).toFixed(0);return{x:parseInt(n),y:parseInt(r)}},longitudeToTileX:function(t,e){return this.pixelXToTileX(this.longitudeToPixelX(t,e),e)},longitudeToPixelX:function(t,e){return(t+180)/360*(this.Tile.TILE_SIZE<<e)},pixelXToTileX:function(t,e){return Math.min(Math.max(t/this.Tile.TILE_SIZE,0),Math.pow(2,e)-1)},latitudeToTileY:function(t,e){return this.pixelYToTileY(this.latitudeToPixelY(t,e),e)},latitudeToPixelY:function(t,e){var n=Math.sin(t*Math.PI/180);return(.5-Math.log((1+n)/(1-n))/(4*Math.PI))*(this.Tile.TILE_SIZE<<e)},pixelYToTileY:function(t,e){return Math.min(Math.max(t/this.Tile.TILE_SIZE,0),Math.pow(2,e)-1)},metersXToLongitude:function(t){return Math.toDegrees(t/this.WGS84.EQUATORIALRADIUS)},metersYToLatitude:function(t){return this.toDegrees(Math.atan(Math.sinh(t/this.WGS84.EQUATORIALRADIUS)))},toDegrees:function(t){return 180*t/Math.PI},WGS84:{EQUATORIALRADIUS:6378137},Tile:{TILE_SIZE:512}};t.exports=e},5579:(t,e,n)=>{var r=n(707),i=n(7710),o=n(5667),s=n(8880),a=n(188),u=n(4420),l=n(57),c=n(2072),h=n(2397),f=n(6328),p=n(9854),d=n(9312),y=n(9722),g=n(1462),m=n(7597),v=n(759),_=n(5595),b=n(8952),x=n(8347),w=n(5158),E=n(9152),S=n(2095),P=n(7591),C=n(4867);t.exports={event:{GridVectorLayerEvent:r.GridVectorLayerEvent,EleSymbolEvent:r.EleSymbolEvent,SnapEvent:r.SnapEvent,SelectEvent:r.SelectEvent},layer:{GridCellLayer:a,GridVectorLayer:i,GridTileLayer:o,GridFeatureLayer:s,SymbolLayer:u},support:{DisplaySchema:l,DevCache:c},tool:{SelectTool:f,HighLightTool:p,SnapTool:d,LocateTool:y},util:{DataUtil:g,ColorUtil:m,PbfUtil:v,SymbolUtil:_,EncryptUtil:b,TurfUtil:x},symbol:{ElePointSymbol:w,EleLineSymbol:E,EleFillSymbol:S,EleTextSymbol:P},createMap:function(t){var e=new SGMap.Map(t);return e.egis={selectionSet:new h({map:e})},e.getScale=function(){return 591658710.8787402/Math.pow(2,e.getZoom())},e},MicroService:C}},8952:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,r;function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}module=__webpack_require__.nmd(module),self,r=function(){return function(){var __webpack_modules__={557:function _(module,__unused_webpack_exports,__nested_webpack_require_901__){var sm3=__nested_webpack_require_901__(719),MSUtil={getUUID:function getUUID(){for(var s=[],hexDigits="0123456789abcdef",i=0;i<36;i++)s[i]=hexDigits.substr(Math.floor(16*eval(window.atob("TWF0aC5yYW5kb20oKQ"))),1);s[14]="4",s[19]=hexDigits.substr(3&s[19]|8,1),s[8]=s[13]=s[18]=s[23]="-";var uuid=s.join("");return uuid},getSign:function(t,e,n,r){return sm3((n?"token="+n+"&":"")+"timestamp="+t+"&random="+e+"&secretkey="+r).toUpperCase()},getRequestHeaders:function(t,e){var n=(new Date).getTime(),r=this.getUUID();return null!=t&&""!=t&&null!=t||(t=""),{token:t,timestamp:n,random:r,sign:this.getSign(n,r,t,e)}},leftHaltKey:window.msEncryptKey8||window.atob("ZWNiOGNjZTc=")};module.exports=MSUtil},579:function(t,e,n){var r=n(603),i=n(573),o=n(719),s=n(953),a=n(557),u=function(t){for(var e="",n=0;n<t.length;n++)e+=t.charCodeAt(n).toString(16);return e},l={encryptByToken_ECB:function(t,e,n){var r=a.leftHaltKey+e.substr(e.length-8),i=s.encryptECB(t,r);return!0===n?u(i):i},encryptLoginParams_ECB:function(t,e,n,r){for(var i=a.leftHaltKey,l=1;l<16;l+=2)i+=e[l];var c,h=o(t);c=r?r+"="+t+"&digest="+h:"digest="+h;var f=s.encryptECB(c,i);return!0===n?u(f):f},md5:r,sm2:i,sm3:o,sm4:{encryptECB:s.encryptECB,decryptECB:s.decryptECB,encryptCBC:s.encryptCBC,decryptCBC:s.decryptCBC},MSUtil:a,strToHex:u,hexToStr:function(t){for(var e="",n=0;n<=t.length-2;n+=2){var r=t[n]+t[n+1];e+=String.fromCharCode(parseInt(r,16))}return e}};t.exports=l},449:function(t,e){var n,r,i,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)})(t)}o=function(){var t,e,n,r,i,o,s,a=a||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},o=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||u).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var o=0;i>o;o++){var s=n[o>>>2]>>>24-o%4*8&255;e[r+o>>>2]|=s<<24-(r+o)%4*8}else for(o=0;i>o;o+=4)e[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(t.random()>.5?1:-1)}},o=0;e>o;o+=4){var a=i(4294967296*(n||t.random()));n=987654071*a(),r.push(4294967296*a()|0)}return new s.init(r,e)}}),a=r.enc={},u=a.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;n>i;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;e>r;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new s.init(n,e/2)}},l=a.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;n>i;i++){var o=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;e>r;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new s.init(n,e)}},c=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=c.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,o=this.blockSize,a=i/(4*o),u=(a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0))*o,l=t.min(4*u,i);if(u){for(var c=0;u>c;c+=o)this._doProcessBlock(r,c);var h=r.splice(0,u);n.sigBytes-=l}return new s.init(h,l)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),f=(i.Hasher=h.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new f.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math);return function(){function t(t,e,r){for(var i=[],o=0,s=0;e>s;s++)if(s%4){var a=r[t.charCodeAt(s-1)]<<s%4*2,u=r[t.charCodeAt(s)]>>>6-s%4*2;i[o>>>2]|=(a|u)<<24-o%4*8,o++}return n.create(i,o)}var e=a,n=e.lib.WordArray;e.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,r=this._map;t.clamp();for(var i=[],o=0;n>o;o+=3)for(var s=(e[o>>>2]>>>24-o%4*8&255)<<16|(e[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|e[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;4>a&&n>o+.75*a;a++)i.push(r.charAt(s>>>6*(3-a)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var n=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(n=a)}return t(e,n,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(t){function e(t,e,n,r,i,o,s){var a=t+(e&n|~e&r)+i+s;return(a<<o|a>>>32-o)+e}function n(t,e,n,r,i,o,s){var a=t+(e&r|n&~r)+i+s;return(a<<o|a>>>32-o)+e}function r(t,e,n,r,i,o,s){var a=t+(e^n^r)+i+s;return(a<<o|a>>>32-o)+e}function i(t,e,n,r,i,o,s){var a=t+(n^(e|~r))+i+s;return(a<<o|a>>>32-o)+e}var o=a,s=o.lib,u=s.WordArray,l=s.Hasher,c=o.algo,h=[];!function(){for(var e=0;64>e;e++)h[e]=4294967296*t.abs(t.sin(e+1))|0}();var f=c.MD5=l.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,o){for(var s=0;16>s;s++){var a=o+s,u=t[a];t[a]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var l=this._hash.words,c=t[o+0],f=t[o+1],p=t[o+2],d=t[o+3],y=t[o+4],g=t[o+5],m=t[o+6],v=t[o+7],_=t[o+8],b=t[o+9],x=t[o+10],w=t[o+11],E=t[o+12],S=t[o+13],P=t[o+14],C=t[o+15],I=l[0],M=l[1],O=l[2],T=l[3];I=e(I,M,O,T,c,7,h[0]),T=e(T,I,M,O,f,12,h[1]),O=e(O,T,I,M,p,17,h[2]),M=e(M,O,T,I,d,22,h[3]),I=e(I,M,O,T,y,7,h[4]),T=e(T,I,M,O,g,12,h[5]),O=e(O,T,I,M,m,17,h[6]),M=e(M,O,T,I,v,22,h[7]),I=e(I,M,O,T,_,7,h[8]),T=e(T,I,M,O,b,12,h[9]),O=e(O,T,I,M,x,17,h[10]),M=e(M,O,T,I,w,22,h[11]),I=e(I,M,O,T,E,7,h[12]),T=e(T,I,M,O,S,12,h[13]),O=e(O,T,I,M,P,17,h[14]),I=n(I,M=e(M,O,T,I,C,22,h[15]),O,T,f,5,h[16]),T=n(T,I,M,O,m,9,h[17]),O=n(O,T,I,M,w,14,h[18]),M=n(M,O,T,I,c,20,h[19]),I=n(I,M,O,T,g,5,h[20]),T=n(T,I,M,O,x,9,h[21]),O=n(O,T,I,M,C,14,h[22]),M=n(M,O,T,I,y,20,h[23]),I=n(I,M,O,T,b,5,h[24]),T=n(T,I,M,O,P,9,h[25]),O=n(O,T,I,M,d,14,h[26]),M=n(M,O,T,I,_,20,h[27]),I=n(I,M,O,T,S,5,h[28]),T=n(T,I,M,O,p,9,h[29]),O=n(O,T,I,M,v,14,h[30]),I=r(I,M=n(M,O,T,I,E,20,h[31]),O,T,g,4,h[32]),T=r(T,I,M,O,_,11,h[33]),O=r(O,T,I,M,w,16,h[34]),M=r(M,O,T,I,P,23,h[35]),I=r(I,M,O,T,f,4,h[36]),T=r(T,I,M,O,y,11,h[37]),O=r(O,T,I,M,v,16,h[38]),M=r(M,O,T,I,x,23,h[39]),I=r(I,M,O,T,S,4,h[40]),T=r(T,I,M,O,c,11,h[41]),O=r(O,T,I,M,d,16,h[42]),M=r(M,O,T,I,m,23,h[43]),I=r(I,M,O,T,b,4,h[44]),T=r(T,I,M,O,E,11,h[45]),O=r(O,T,I,M,C,16,h[46]),I=i(I,M=r(M,O,T,I,p,23,h[47]),O,T,c,6,h[48]),T=i(T,I,M,O,v,10,h[49]),O=i(O,T,I,M,P,15,h[50]),M=i(M,O,T,I,g,21,h[51]),I=i(I,M,O,T,E,6,h[52]),T=i(T,I,M,O,d,10,h[53]),O=i(O,T,I,M,x,15,h[54]),M=i(M,O,T,I,f,21,h[55]),I=i(I,M,O,T,_,6,h[56]),T=i(T,I,M,O,C,10,h[57]),O=i(O,T,I,M,m,15,h[58]),M=i(M,O,T,I,S,21,h[59]),I=i(I,M,O,T,y,6,h[60]),T=i(T,I,M,O,w,10,h[61]),O=i(O,T,I,M,p,15,h[62]),M=i(M,O,T,I,b,21,h[63]),l[0]=l[0]+I|0,l[1]=l[1]+M|0,l[2]=l[2]+O|0,l[3]=l[3]+T|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;n[i>>>5]|=128<<24-i%32;var o=t.floor(r/4294967296),s=r;n[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(i+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),e.sigBytes=4*(n.length+1),this._process();for(var a=this._hash,u=a.words,l=0;4>l;l++){var c=u[l];u[l]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var t=l.clone.call(this);return t._hash=this._hash.clone(),t}});o.MD5=l._createHelper(f),o.HmacMD5=l._createHmacHelper(f)}(Math),e=(t=a).lib,n=e.WordArray,r=e.Hasher,i=t.algo,o=[],s=i.SHA1=r.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],s=n[2],a=n[3],u=n[4],l=0;80>l;l++){if(16>l)o[l]=0|t[e+l];else{var c=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=c<<1|c>>>31}var h=(r<<5|r>>>27)+u+o[l];h+=20>l?1518500249+(i&s|~i&a):40>l?1859775393+(i^s^a):60>l?(i&s|i&a|s&a)-1894007588:(i^s^a)-899497514,u=a,a=s,s=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+s|0,n[3]=n[3]+a|0,n[4]=n[4]+u|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=r.clone.call(this);return t._hash=this._hash.clone(),t}}),t.SHA1=r._createHelper(s),t.HmacSHA1=r._createHmacHelper(s),function(t){var e=a,n=e.lib,r=n.WordArray,i=n.Hasher,o=e.algo,s=[],u=[];!function(){function e(e){for(var n=t.sqrt(e),r=2;n>=r;r++)if(!(e%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;64>i;)e(r)&&(8>i&&(s[i]=n(t.pow(r,.5))),u[i]=n(t.pow(r,1/3)),i++),r++}();var l=[],c=o.SHA256=i.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],c=n[5],h=n[6],f=n[7],p=0;64>p;p++){if(16>p)l[p]=0|t[e+p];else{var d=l[p-15],y=(d<<25|d>>>7)^(d<<14|d>>>18)^d>>>3,g=l[p-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[p]=y+l[p-7]+m+l[p-16]}var v=r&i^r&o^i&o,_=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),b=f+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&h)+u[p]+l[p];f=h,h=c,c=a,a=s+b|0,s=o,o=i,i=r,r=b+(_+v)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0,n[5]=n[5]+c|0,n[6]=n[6]+h|0,n[7]=n[7]+f|0},_doFinalize:function(){var e=this._data,n=e.words,r=8*this._nDataBytes,i=8*e.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=t.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,e.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=i.clone.call(this);return t._hash=this._hash.clone(),t}});e.SHA256=i._createHelper(c),e.HmacSHA256=i._createHmacHelper(c)}(Math),function(){function t(t){return t<<8&4278255360|t>>>8&16711935}var e=a,n=e.lib.WordArray,r=e.enc;r.Utf16=r.Utf16BE={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;n>i;i+=2){var o=e[i>>>2]>>>16-i%4*8&65535;r.push(String.fromCharCode(o))}return r.join("")},parse:function(t){for(var e=t.length,r=[],i=0;e>i;i++)r[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return n.create(r,2*e)}},r.Utf16LE={stringify:function(e){for(var n=e.words,r=e.sigBytes,i=[],o=0;r>o;o+=2){var s=t(n[o>>>2]>>>16-o%4*8&65535);i.push(String.fromCharCode(s))}return i.join("")},parse:function(e){for(var r=e.length,i=[],o=0;r>o;o++)i[o>>>1]|=t(e.charCodeAt(o)<<16-o%2*16);return n.create(i,2*r)}}}(),function(){if("function"==typeof ArrayBuffer){var t=a.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var n=t.byteLength,r=[],i=0;n>i;i++)r[i>>>2]|=t[i]<<24-i%4*8;e.call(this,r,n)}else e.apply(this,arguments)}).prototype=t}}(),function(t){function e(t,e,n){return t^e^n}function n(t,e,n){return t&e|~t&n}function r(t,e,n){return(t|~e)^n}function i(t,e,n){return t&n|e&~n}function o(t,e,n){return t^(e|~n)}function s(t,e){return t<<e|t>>>32-e}var u=a,l=u.lib,c=l.WordArray,h=l.Hasher,f=u.algo,p=c.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=c.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),y=c.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=c.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=c.create([0,1518500249,1859775393,2400959708,2840853838]),v=c.create([1352829926,1548603684,1836072691,2053994217,0]),_=f.RIPEMD160=h.extend({_doReset:function(){this._hash=c.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,a){for(var u=0;16>u;u++){var l=a+u,c=t[l];t[l]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var h,f,_,b,x,w,E,S,P,C,I,M=this._hash.words,O=m.words,T=v.words,L=p.words,N=d.words,A=y.words,R=g.words;for(w=h=M[0],E=f=M[1],S=_=M[2],P=b=M[3],C=x=M[4],u=0;80>u;u+=1)I=h+t[a+L[u]]|0,I+=16>u?e(f,_,b)+O[0]:32>u?n(f,_,b)+O[1]:48>u?r(f,_,b)+O[2]:64>u?i(f,_,b)+O[3]:o(f,_,b)+O[4],I=(I=s(I|=0,A[u]))+x|0,h=x,x=b,b=s(_,10),_=f,f=I,I=w+t[a+N[u]]|0,I+=16>u?o(E,S,P)+T[0]:32>u?i(E,S,P)+T[1]:48>u?r(E,S,P)+T[2]:64>u?n(E,S,P)+T[3]:e(E,S,P)+T[4],I=(I=s(I|=0,R[u]))+C|0,w=C,C=P,P=s(S,10),S=E,E=I;I=M[1]+_+P|0,M[1]=M[2]+b+C|0,M[2]=M[3]+x+w|0,M[3]=M[4]+h+E|0,M[4]=M[0]+f+S|0,M[0]=I},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(e.length+1),this._process();for(var i=this._hash,o=i.words,s=0;5>s;s++){var a=o[s];o[s]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}return i},clone:function(){var t=h.clone.call(this);return t._hash=this._hash.clone(),t}});u.RIPEMD160=h._createHelper(_),u.HmacRIPEMD160=h._createHmacHelper(_)}(Math),function(){var t=a,e=t.lib.Base,n=t.enc.Utf8;t.algo.HMAC=e.extend({init:function(t,e){t=this._hasher=new t.init,"string"==typeof e&&(e=n.parse(e));var r=t.blockSize,i=4*r;e.sigBytes>i&&(e=t.finalize(e)),e.clamp();for(var o=this._oKey=e.clone(),s=this._iKey=e.clone(),a=o.words,u=s.words,l=0;r>l;l++)a[l]^=1549556828,u[l]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var t=this._hasher;t.reset(),t.update(this._iKey)},update:function(t){return this._hasher.update(t),this},finalize:function(t){var e=this._hasher,n=e.finalize(t);return e.reset(),e.finalize(this._oKey.clone().concat(n))}})}(),function(){var t=a,e=t.lib,n=e.Base,r=e.WordArray,i=t.algo,o=i.SHA1,s=i.HMAC,u=i.PBKDF2=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=s.create(n.hasher,t),o=r.create(),a=r.create([1]),u=o.words,l=a.words,c=n.keySize,h=n.iterations;u.length<c;){var f=i.update(e).finalize(a);i.reset();for(var p=f.words,d=p.length,y=f,g=1;h>g;g++){y=i.finalize(y),i.reset();for(var m=y.words,v=0;d>v;v++)p[v]^=m[v]}o.concat(f),l[0]++}return o.sigBytes=4*c,o}});t.PBKDF2=function(t,e,n){return u.create(n).compute(t,e)}}(),function(){var t=a,e=t.lib,n=e.Base,r=e.WordArray,i=t.algo,o=i.MD5,s=i.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:o,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=n.hasher.create(),o=r.create(),s=o.words,a=n.keySize,u=n.iterations;s.length<a;){l&&i.update(l);var l=i.update(t).finalize(e);i.reset();for(var c=1;u>c;c++)l=i.finalize(l),i.reset();o.concat(l)}return o.sigBytes=4*a,o}});t.EvpKDF=function(t,e,n){return s.create(n).compute(t,e)}}(),function(){var t=a,e=t.lib.WordArray,n=t.algo,r=n.SHA256,i=n.SHA224=r.extend({_doReset:function(){this._hash=new e.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var t=r._doFinalize.call(this);return t.sigBytes-=4,t}});t.SHA224=r._createHelper(i),t.HmacSHA224=r._createHmacHelper(i)}(),function(t){var e=a,n=e.lib,r=n.Base,i=n.WordArray,o=e.x64={};o.Word=r.extend({init:function(t,e){this.high=t,this.low=e}}),o.WordArray=r.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:8*t.length},toX32:function(){for(var t=this.words,e=t.length,n=[],r=0;e>r;r++){var o=t[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var t=r.clone.call(this),e=t.words=this.words.slice(0),n=e.length,i=0;n>i;i++)e[i]=e[i].clone();return t}})}(),function(t){var e=a,n=e.lib,r=n.WordArray,i=n.Hasher,o=e.x64.Word,s=e.algo,u=[],l=[],c=[];!function(){for(var t=1,e=0,n=0;24>n;n++){u[t+5*e]=(n+1)*(n+2)/2%64;var r=(2*t+3*e)%5;t=e%5,e=r}for(t=0;5>t;t++)for(e=0;5>e;e++)l[t+5*e]=e+(2*t+3*e)%5*5;for(var i=1,s=0;24>s;s++){for(var a=0,h=0,f=0;7>f;f++){if(1&i){var p=(1<<f)-1;32>p?h^=1<<p:a^=1<<p-32}128&i?i=i<<1^113:i<<=1}c[s]=o.create(a,h)}}();var h=[];!function(){for(var t=0;25>t;t++)h[t]=o.create()}();var f=s.SHA3=i.extend({cfg:i.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;25>e;e++)t[e]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var n=this._state,r=this.blockSize/2,i=0;r>i;i++){var o=t[e+2*i],s=t[e+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),s=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),(M=n[i]).high^=s,M.low^=o}for(var a=0;24>a;a++){for(var f=0;5>f;f++){for(var p=0,d=0,y=0;5>y;y++)p^=(M=n[f+5*y]).high,d^=M.low;var g=h[f];g.high=p,g.low=d}for(f=0;5>f;f++){var m=h[(f+4)%5],v=h[(f+1)%5],_=v.high,b=v.low;for(p=m.high^(_<<1|b>>>31),d=m.low^(b<<1|_>>>31),y=0;5>y;y++)(M=n[f+5*y]).high^=p,M.low^=d}for(var x=1;25>x;x++){var w=(M=n[x]).high,E=M.low,S=u[x];32>S?(p=w<<S|E>>>32-S,d=E<<S|w>>>32-S):(p=E<<S-32|w>>>64-S,d=w<<S-32|E>>>64-S);var P=h[l[x]];P.high=p,P.low=d}var C=h[0],I=n[0];for(C.high=I.high,C.low=I.low,f=0;5>f;f++)for(y=0;5>y;y++){var M=n[x=f+5*y],O=h[x],T=h[(f+1)%5+5*y],L=h[(f+2)%5+5*y];M.high=O.high^~T.high&L.high,M.low=O.low^~T.low&L.low}M=n[0];var N=c[a];M.high^=N.high,M.low^=N.low}},_doFinalize:function(){var e=this._data,n=e.words,i=(this._nDataBytes,8*e.sigBytes),o=32*this.blockSize;n[i>>>5]|=1<<24-i%32,n[(t.ceil((i+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*n.length,this._process();for(var s=this._state,a=this.cfg.outputLength/8,u=a/8,l=[],c=0;u>c;c++){var h=s[c],f=h.high,p=h.low;f=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),l.push(p),l.push(f)}return new r.init(l,a)},clone:function(){for(var t=i.clone.call(this),e=t._state=this._state.slice(0),n=0;25>n;n++)e[n]=e[n].clone();return t}});e.SHA3=i._createHelper(f),e.HmacSHA3=i._createHmacHelper(f)}(Math),function(){function t(){return i.create.apply(i,arguments)}var e=a,n=e.lib.Hasher,r=e.x64,i=r.Word,o=r.WordArray,s=e.algo,u=[t(1116352408,3609767458),t(1899447441,602891725),t(3049323471,3964484399),t(3921009573,2173295548),t(961987163,4081628472),t(1508970993,3053834265),t(2453635748,2937671579),t(2870763221,3664609560),t(3624381080,2734883394),t(310598401,1164996542),t(607225278,1323610764),t(1426881987,3590304994),t(1925078388,4068182383),t(2162078206,991336113),t(2614888103,633803317),t(3248222580,3479774868),t(3835390401,2666613458),t(4022224774,944711139),t(264347078,2341262773),t(604807628,2007800933),t(770255983,1495990901),t(1249150122,1856431235),t(1555081692,3175218132),t(1996064986,2198950837),t(2554220882,3999719339),t(2821834349,766784016),t(2952996808,2566594879),t(3210313671,3203337956),t(3336571891,1034457026),t(3584528711,2466948901),t(113926993,3758326383),t(338241895,168717936),t(666307205,1188179964),t(773529912,1546045734),t(1294757372,1522805485),t(1396182291,2643833823),t(1695183700,2343527390),t(1986661051,1014477480),t(2177026350,1206759142),t(2456956037,344077627),t(2730485921,1290863460),t(2820302411,3158454273),t(3259730800,3505952657),t(3345764771,106217008),t(3516065817,3606008344),t(3600352804,1432725776),t(4094571909,1467031594),t(275423344,851169720),t(430227734,3100823752),t(506948616,1363258195),t(659060556,3750685593),t(883997877,3785050280),t(958139571,3318307427),t(1322822218,3812723403),t(1537002063,2003034995),t(1747873779,3602036899),t(1955562222,1575990012),t(2024104815,1125592928),t(2227730452,2716904306),t(2361852424,442776044),t(2428436474,593698344),t(2756734187,3733110249),t(3204031479,2999351573),t(3329325298,3815920427),t(3391569614,3928383900),t(3515267271,566280711),t(3940187606,3454069534),t(4118630271,4000239992),t(116418474,1914138554),t(174292421,2731055270),t(289380356,3203993006),t(460393269,320620315),t(685471733,587496836),t(852142971,1086792851),t(1017036298,365543100),t(1126000580,2618297676),t(1288033470,3409855158),t(1501505948,4234509866),t(1607167915,987167468),t(1816402316,1246189591)],l=[];!function(){for(var e=0;80>e;e++)l[e]=t()}();var c=s.SHA512=n.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],c=n[5],h=n[6],f=n[7],p=r.high,d=r.low,y=i.high,g=i.low,m=o.high,v=o.low,_=s.high,b=s.low,x=a.high,w=a.low,E=c.high,S=c.low,P=h.high,C=h.low,I=f.high,M=f.low,O=p,T=d,L=y,N=g,A=m,R=v,D=_,k=b,F=x,B=w,j=E,z=S,G=P,q=C,U=I,V=M,X=0;80>X;X++){var Y=l[X];if(16>X)var H=Y.high=0|t[e+2*X],W=Y.low=0|t[e+2*X+1];else{var J=l[X-15],K=J.high,Z=J.low,Q=(K>>>1|Z<<31)^(K>>>8|Z<<24)^K>>>7,$=(Z>>>1|K<<31)^(Z>>>8|K<<24)^(Z>>>7|K<<25),tt=l[X-2],et=tt.high,nt=tt.low,rt=(et>>>19|nt<<13)^(et<<3|nt>>>29)^et>>>6,it=(nt>>>19|et<<13)^(nt<<3|et>>>29)^(nt>>>6|et<<26),ot=l[X-7],st=ot.high,at=ot.low,ut=l[X-16],lt=ut.high,ct=ut.low;H=(H=(H=Q+st+($>>>0>(W=$+at)>>>0?1:0))+rt+(it>>>0>(W+=it)>>>0?1:0))+lt+(ct>>>0>(W+=ct)>>>0?1:0),Y.high=H,Y.low=W}var ht,ft=F&j^~F&G,pt=B&z^~B&q,dt=O&L^O&A^L&A,yt=T&N^T&R^N&R,gt=(O>>>28|T<<4)^(O<<30|T>>>2)^(O<<25|T>>>7),mt=(T>>>28|O<<4)^(T<<30|O>>>2)^(T<<25|O>>>7),vt=(F>>>14|B<<18)^(F>>>18|B<<14)^(F<<23|B>>>9),_t=(B>>>14|F<<18)^(B>>>18|F<<14)^(B<<23|F>>>9),bt=u[X],xt=bt.high,wt=bt.low,Et=U+vt+(V>>>0>(ht=V+_t)>>>0?1:0),St=mt+yt;U=G,V=q,G=j,q=z,j=F,z=B,F=D+(Et=(Et=(Et=Et+ft+(pt>>>0>(ht+=pt)>>>0?1:0))+xt+(wt>>>0>(ht+=wt)>>>0?1:0))+H+(W>>>0>(ht+=W)>>>0?1:0))+(k>>>0>(B=k+ht|0)>>>0?1:0)|0,D=A,k=R,A=L,R=N,L=O,N=T,O=Et+(gt+dt+(mt>>>0>St>>>0?1:0))+(ht>>>0>(T=ht+St|0)>>>0?1:0)|0}d=r.low=d+T,r.high=p+O+(T>>>0>d>>>0?1:0),g=i.low=g+N,i.high=y+L+(N>>>0>g>>>0?1:0),v=o.low=v+R,o.high=m+A+(R>>>0>v>>>0?1:0),b=s.low=b+k,s.high=_+D+(k>>>0>b>>>0?1:0),w=a.low=w+B,a.high=x+F+(B>>>0>w>>>0?1:0),S=c.low=S+z,c.high=E+j+(z>>>0>S>>>0?1:0),C=h.low=C+q,h.high=P+G+(q>>>0>C>>>0?1:0),M=f.low=M+V,f.high=I+U+(V>>>0>M>>>0?1:0)},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),e[31+(r+128>>>10<<5)]=n,t.sigBytes=4*e.length,this._process(),this._hash.toX32()},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t},blockSize:32});e.SHA512=n._createHelper(c),e.HmacSHA512=n._createHmacHelper(c)}(),function(){var t=a,e=t.x64,n=e.Word,r=e.WordArray,i=t.algo,o=i.SHA512,s=i.SHA384=o.extend({_doReset:function(){this._hash=new r.init([new n.init(3418070365,3238371032),new n.init(1654270250,914150663),new n.init(2438529370,812702999),new n.init(355462360,4144912697),new n.init(1731405415,4290775857),new n.init(2394180231,1750603025),new n.init(3675008525,1694076839),new n.init(1203062813,3204075428)])},_doFinalize:function(){var t=o._doFinalize.call(this);return t.sigBytes-=16,t}});t.SHA384=o._createHelper(s),t.HmacSHA384=o._createHmacHelper(s)}(),a.lib.Cipher||function(t){var e=a,n=e.lib,r=n.Base,i=n.WordArray,o=n.BufferedBlockAlgorithm,s=e.enc,u=(s.Utf8,s.Base64),l=e.algo.EvpKDF,c=n.Cipher=o.extend({cfg:r.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){o.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function t(t){return"string"==typeof t?_:m}return function(e){return{encrypt:function(n,r,i){return t(r).encrypt(e,n,r,i)},decrypt:function(n,r,i){return t(r).decrypt(e,n,r,i)}}}}()}),h=(n.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),e.mode={}),f=n.BlockCipherMode=r.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}}),p=h.CBC=function(){function t(t,e,n){var r=this._iv;if(r){var i=r;this._iv=void 0}else i=this._prevBlock;for(var o=0;n>o;o++)t[e+o]^=i[o]}var e=f.extend();return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=o}}),e}(),d=(e.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,r=n-t.sigBytes%n,o=r<<24|r<<16|r<<8|r,s=[],a=0;r>a;a+=4)s.push(o);var u=i.create(s,r);t.concat(u)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},y=(n.BlockCipher=c.extend({cfg:c.cfg.extend({mode:p,padding:d}),reset:function(){c.reset.call(this);var t=this.cfg,e=t.iv,n=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var r=n.createEncryptor;else r=n.createDecryptor,this._minBufferSize=1;this._mode&&this._mode.__creator==r?this._mode.init(this,e&&e.words):(this._mode=r.call(n,this,e&&e.words),this._mode.__creator=r)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4}),n.CipherParams=r.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}})),g=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,n=t.salt;if(n)var r=i.create([1398893684,1701076831]).concat(n).concat(e);else r=e;return r.toString(u)},parse:function(t){var e=u.parse(t),n=e.words;if(1398893684==n[0]&&1701076831==n[1]){var r=i.create(n.slice(2,4));n.splice(0,4),e.sigBytes-=16}return y.create({ciphertext:e,salt:r})}},m=n.SerializableCipher=r.extend({cfg:r.extend({format:g}),encrypt:function(t,e,n,r){r=this.cfg.extend(r);var i=t.createEncryptor(n,r),o=i.finalize(e),s=i.cfg;return y.create({ciphertext:o,key:n,iv:s.iv,algorithm:t,mode:s.mode,padding:s.padding,blockSize:t.blockSize,formatter:r.format})},decrypt:function(t,e,n,r){return r=this.cfg.extend(r),e=this._parse(e,r.format),t.createDecryptor(n,r).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),v=(e.kdf={}).OpenSSL={execute:function(t,e,n,r){r||(r=i.random(8));var o=l.create({keySize:e+n}).compute(t,r),s=i.create(o.words.slice(e),4*n);return o.sigBytes=4*e,y.create({key:o,iv:s,salt:r})}},_=n.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:v}),encrypt:function(t,e,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,t.keySize,t.ivSize);r.iv=i.iv;var o=m.encrypt.call(this,t,e,i.key,r);return o.mixIn(i),o},decrypt:function(t,e,n,r){r=this.cfg.extend(r),e=this._parse(e,r.format);var i=r.kdf.execute(n,t.keySize,t.ivSize,e.salt);return r.iv=i.iv,m.decrypt.call(this,t,e,i.key,r)}})}(),a.mode.CFB=function(){function t(t,e,n,r){var i=this._iv;if(i){var o=i.slice(0);this._iv=void 0}else o=this._prevBlock;r.encryptBlock(o,0);for(var s=0;n>s;s++)t[e+s]^=o[s]}var e=a.lib.BlockCipherMode.extend();return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,o=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=o}}),e}(),a.mode.ECB=function(){var t=a.lib.BlockCipherMode.extend();return t.Encryptor=t.extend({processBlock:function(t,e){this._cipher.encryptBlock(t,e)}}),t.Decryptor=t.extend({processBlock:function(t,e){this._cipher.decryptBlock(t,e)}}),t}(),a.pad.AnsiX923={pad:function(t,e){var n=t.sigBytes,r=4*e,i=r-n%r,o=n+i-1;t.clamp(),t.words[o>>>2]|=i<<24-o%4*8,t.sigBytes+=i},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},a.pad.Iso10126={pad:function(t,e){var n=4*e,r=n-t.sigBytes%n;t.concat(a.lib.WordArray.random(r-1)).concat(a.lib.WordArray.create([r<<24],1))},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}},a.pad.Iso97971={pad:function(t,e){t.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(t,e)},unpad:function(t){a.pad.ZeroPadding.unpad(t),t.sigBytes--}},a.mode.OFB=function(){var t=a.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(o,0);for(var s=0;r>s;s++)t[e+s]^=o[s]}});return t.Decryptor=e,t}(),a.pad.NoPadding={pad:function(){},unpad:function(){}},function(t){var e=a,n=e.lib.CipherParams,r=e.enc.Hex;e.format.Hex={stringify:function(t){return t.ciphertext.toString(r)},parse:function(t){var e=r.parse(t);return n.create({ciphertext:e})}}}(),function(){var t=a,e=t.lib.BlockCipher,n=t.algo,r=[],i=[],o=[],s=[],u=[],l=[],c=[],h=[],f=[],p=[];!function(){for(var t=[],e=0;256>e;e++)t[e]=128>e?e<<1:e<<1^283;var n=0,a=0;for(e=0;256>e;e++){var d=a^a<<1^a<<2^a<<3^a<<4;d=d>>>8^255&d^99,r[n]=d,i[d]=n;var y=t[n],g=t[y],m=t[g],v=257*t[d]^16843008*d;o[n]=v<<24|v>>>8,s[n]=v<<16|v>>>16,u[n]=v<<8|v>>>24,l[n]=v,v=16843009*m^65537*g^257*y^16843008*n,c[d]=v<<24|v>>>8,h[d]=v<<16|v>>>16,f[d]=v<<8|v>>>24,p[d]=v,n?(n=y^t[t[t[m^y]]],a^=t[t[a]]):n=a=1}}();var d=[0,1,2,4,8,16,32,64,128,27,54],y=n.AES=e.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var t=this._keyPriorReset=this._key,e=t.words,n=t.sigBytes/4,i=4*((this._nRounds=n+6)+1),o=this._keySchedule=[],s=0;i>s;s++)if(n>s)o[s]=e[s];else{var a=o[s-1];s%n?n>6&&s%n==4&&(a=r[a>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a]):(a=r[(a=a<<8|a>>>24)>>>24]<<24|r[a>>>16&255]<<16|r[a>>>8&255]<<8|r[255&a],a^=d[s/n|0]<<24),o[s]=o[s-n]^a}for(var u=this._invKeySchedule=[],l=0;i>l;l++)s=i-l,a=l%4?o[s]:o[s-4],u[l]=4>l||4>=s?a:c[r[a>>>24]]^h[r[a>>>16&255]]^f[r[a>>>8&255]]^p[r[255&a]]}},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,o,s,u,l,r)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,c,h,f,p,i),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,r,i,o,s,a){for(var u=this._nRounds,l=t[e]^n[0],c=t[e+1]^n[1],h=t[e+2]^n[2],f=t[e+3]^n[3],p=4,d=1;u>d;d++){var y=r[l>>>24]^i[c>>>16&255]^o[h>>>8&255]^s[255&f]^n[p++],g=r[c>>>24]^i[h>>>16&255]^o[f>>>8&255]^s[255&l]^n[p++],m=r[h>>>24]^i[f>>>16&255]^o[l>>>8&255]^s[255&c]^n[p++],v=r[f>>>24]^i[l>>>16&255]^o[c>>>8&255]^s[255&h]^n[p++];l=y,c=g,h=m,f=v}y=(a[l>>>24]<<24|a[c>>>16&255]<<16|a[h>>>8&255]<<8|a[255&f])^n[p++],g=(a[c>>>24]<<24|a[h>>>16&255]<<16|a[f>>>8&255]<<8|a[255&l])^n[p++],m=(a[h>>>24]<<24|a[f>>>16&255]<<16|a[l>>>8&255]<<8|a[255&c])^n[p++],v=(a[f>>>24]<<24|a[l>>>16&255]<<16|a[c>>>8&255]<<8|a[255&h])^n[p++],t[e]=y,t[e+1]=g,t[e+2]=m,t[e+3]=v},keySize:8});t.AES=e._createHelper(y)}(),function(){function t(t,e){var n=(this._lBlock>>>t^this._rBlock)&e;this._rBlock^=n,this._lBlock^=n<<t}function e(t,e){var n=(this._rBlock>>>t^this._lBlock)&e;this._lBlock^=n,this._rBlock^=n<<t}var n=a,r=n.lib,i=r.WordArray,o=r.BlockCipher,s=n.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],p=s.DES=o.extend({_doReset:function(){for(var t=this._key.words,e=[],n=0;56>n;n++){var r=u[n]-1;e[n]=t[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],o=0;16>o;o++){var s=i[o]=[],a=c[o];for(n=0;24>n;n++)s[n/6|0]|=e[(l[n]-1+a)%28]<<31-n%6,s[4+(n/6|0)]|=e[28+(l[n+24]-1+a)%28]<<31-n%6;for(s[0]=s[0]<<1|s[0]>>>31,n=1;7>n;n++)s[n]=s[n]>>>4*(n-1)+3;s[7]=s[7]<<5|s[7]>>>27}var h=this._invSubKeys=[];for(n=0;16>n;n++)h[n]=i[15-n]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._subKeys)},decryptBlock:function(t,e){this._doCryptBlock(t,e,this._invSubKeys)},_doCryptBlock:function(n,r,i){this._lBlock=n[r],this._rBlock=n[r+1],t.call(this,4,252645135),t.call(this,16,65535),e.call(this,2,858993459),e.call(this,8,16711935),t.call(this,1,1431655765);for(var o=0;16>o;o++){for(var s=i[o],a=this._lBlock,u=this._rBlock,l=0,c=0;8>c;c++)l|=h[c][((u^s[c])&f[c])>>>0];this._lBlock=u,this._rBlock=a^l}var p=this._lBlock;this._lBlock=this._rBlock,this._rBlock=p,t.call(this,1,1431655765),e.call(this,8,16711935),e.call(this,2,858993459),t.call(this,16,65535),t.call(this,4,252645135),n[r]=this._lBlock,n[r+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});n.DES=o._createHelper(p);var d=s.TripleDES=o.extend({_doReset:function(){var t=this._key.words;this._des1=p.createEncryptor(i.create(t.slice(0,2))),this._des2=p.createEncryptor(i.create(t.slice(2,4))),this._des3=p.createEncryptor(i.create(t.slice(4,6)))},encryptBlock:function(t,e){this._des1.encryptBlock(t,e),this._des2.decryptBlock(t,e),this._des3.encryptBlock(t,e)},decryptBlock:function(t,e){this._des3.decryptBlock(t,e),this._des2.encryptBlock(t,e),this._des1.decryptBlock(t,e)},keySize:6,ivSize:2,blockSize:2});n.TripleDES=o._createHelper(d)}(),function(){function t(){for(var t=this._S,e=this._i,n=this._j,r=0,i=0;4>i;i++){n=(n+t[e=(e+1)%256])%256;var o=t[e];t[e]=t[n],t[n]=o,r|=t[(t[e]+t[n])%256]<<24-8*i}return this._i=e,this._j=n,r}var e=a,n=e.lib.StreamCipher,r=e.algo,i=r.RC4=n.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes,r=this._S=[],i=0;256>i;i++)r[i]=i;i=0;for(var o=0;256>i;i++){var s=i%n,a=e[s>>>2]>>>24-s%4*8&255;o=(o+r[i]+a)%256;var u=r[i];r[i]=r[o],r[o]=u}this._i=this._j=0},_doProcessBlock:function(e,n){e[n]^=t.call(this)},keySize:8,ivSize:0});e.RC4=n._createHelper(i);var o=r.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)t.call(this)}});e.RC4Drop=n._createHelper(o)}(),a.mode.CTRGladman=function(){function t(t){if(255==(t>>24&255)){var e=t>>16&255,n=t>>8&255,r=255&t;255===e?(e=0,255===n?(n=0,255===r?r=0:++r):++n):++e,t=0,t+=e<<16,t+=n<<8,t+=r}else t+=1<<24;return t}function e(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var n=a.lib.BlockCipherMode.extend(),r=n.Encryptor=n.extend({processBlock:function(t,n){var r=this._cipher,i=r.blockSize,o=this._iv,s=this._counter;o&&(s=this._counter=o.slice(0),this._iv=void 0),e(s);var a=s.slice(0);r.encryptBlock(a,0);for(var u=0;i>u;u++)t[n+u]^=a[u]}});return n.Decryptor=r,n}(),function(){function t(){for(var t=this._X,e=this._C,n=0;8>n;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;8>n;n++){var r=t[n]+e[n],i=65535&r,a=r>>>16,u=((i*i>>>17)+i*a>>>15)+a*a,l=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=u^l}t[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,t[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,t[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,t[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,t[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,t[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,t[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,t[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}var e=a,n=e.lib.StreamCipher,r=e.algo,i=[],o=[],s=[],u=r.Rabbit=n.extend({_doReset:function(){for(var e=this._key.words,n=this.cfg.iv,r=0;4>r;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var i=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],o=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;4>r;r++)t.call(this);for(r=0;8>r;r++)o[r]^=i[r+4&7];if(n){var s=n.words,a=s[0],u=s[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),h=l>>>16|4294901760&c,f=c<<16|65535&l;for(o[0]^=l,o[1]^=h,o[2]^=c,o[3]^=f,o[4]^=l,o[5]^=h,o[6]^=c,o[7]^=f,r=0;4>r;r++)t.call(this)}},_doProcessBlock:function(e,n){var r=this._X;t.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var o=0;4>o;o++)i[o]=16711935&(i[o]<<8|i[o]>>>24)|4278255360&(i[o]<<24|i[o]>>>8),e[n+o]^=i[o]},blockSize:4,ivSize:2});e.Rabbit=n._createHelper(u)}(),a.mode.CTR=function(){var t=a.lib.BlockCipherMode.extend(),e=t.Encryptor=t.extend({processBlock:function(t,e){var n=this._cipher,r=n.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var s=o.slice(0);n.encryptBlock(s,0),o[r-1]=o[r-1]+1|0;for(var a=0;r>a;a++)t[e+a]^=s[a]}});return t.Decryptor=e,t}(),function(){function t(){for(var t=this._X,e=this._C,n=0;8>n;n++)o[n]=e[n];for(e[0]=e[0]+1295307597+this._b|0,e[1]=e[1]+3545052371+(e[0]>>>0<o[0]>>>0?1:0)|0,e[2]=e[2]+886263092+(e[1]>>>0<o[1]>>>0?1:0)|0,e[3]=e[3]+1295307597+(e[2]>>>0<o[2]>>>0?1:0)|0,e[4]=e[4]+3545052371+(e[3]>>>0<o[3]>>>0?1:0)|0,e[5]=e[5]+886263092+(e[4]>>>0<o[4]>>>0?1:0)|0,e[6]=e[6]+1295307597+(e[5]>>>0<o[5]>>>0?1:0)|0,e[7]=e[7]+3545052371+(e[6]>>>0<o[6]>>>0?1:0)|0,this._b=e[7]>>>0<o[7]>>>0?1:0,n=0;8>n;n++){var r=t[n]+e[n],i=65535&r,a=r>>>16,u=((i*i>>>17)+i*a>>>15)+a*a,l=((4294901760&r)*r|0)+((65535&r)*r|0);s[n]=u^l}t[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,t[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,t[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,t[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,t[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,t[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,t[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,t[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}var e=a,n=e.lib.StreamCipher,r=e.algo,i=[],o=[],s=[],u=r.RabbitLegacy=n.extend({_doReset:function(){var e=this._key.words,n=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var o=0;4>o;o++)t.call(this);for(o=0;8>o;o++)i[o]^=r[o+4&7];if(n){var s=n.words,a=s[0],u=s[1],l=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),c=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8),h=l>>>16|4294901760&c,f=c<<16|65535&l;for(i[0]^=l,i[1]^=h,i[2]^=c,i[3]^=f,i[4]^=l,i[5]^=h,i[6]^=c,i[7]^=f,o=0;4>o;o++)t.call(this)}},_doProcessBlock:function(e,n){var r=this._X;t.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var o=0;4>o;o++)i[o]=16711935&(i[o]<<8|i[o]>>>24)|4278255360&(i[o]<<24|i[o]>>>8),e[n+o]^=i[o]},blockSize:4,ivSize:2});e.RabbitLegacy=n._createHelper(u)}(),a.pad.ZeroPadding={pad:function(t,e){var n=4*e;t.clamp(),t.sigBytes+=n-(t.sigBytes%n||n)},unpad:function(t){for(var e=t.words,n=t.sigBytes-1;!(e[n>>>2]>>>24-n%4*8&255);)n--;t.sigBytes=n+1}},a},"object"==s(e)?t.exports=e=o():(r=[],void 0===(i="function"==typeof(n=o)?n.apply(e,r):n)||(t.exports=i))},885:function(t){t.exports=function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[s]={exports:{}};e[s][0].call(l.exports,(function(t){return i(e[s][1][t]||t)}),l,l.exports,t,e,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({"/":[function(t,e,n){n.byteLength=function(t){return 3*t.length/4-l(t)},n.toByteArray=function(t){var e,n,r,s,a,u=t.length;s=l(t),a=new o(3*u/4-s),n=s>0?u-4:u;var c=0;for(e=0;e<n;e+=4)r=i[t.charCodeAt(e)]<<18|i[t.charCodeAt(e+1)]<<12|i[t.charCodeAt(e+2)]<<6|i[t.charCodeAt(e+3)],a[c++]=r>>16&255,a[c++]=r>>8&255,a[c++]=255&r;return 2===s?(r=i[t.charCodeAt(e)]<<2|i[t.charCodeAt(e+1)]>>4,a[c++]=255&r):1===s&&(r=i[t.charCodeAt(e)]<<10|i[t.charCodeAt(e+1)]<<4|i[t.charCodeAt(e+2)]>>2,a[c++]=r>>8&255,a[c++]=255&r),a},n.fromByteArray=function(t){for(var e,n=t.length,i=n%3,o="",s=[],a=16383,u=0,l=n-i;u<l;u+=a)s.push(h(t,u,u+a>l?l:u+a));return 1===i?(e=t[n-1],o+=r[e>>2],o+=r[e<<4&63],o+="=="):2===i&&(e=(t[n-2]<<8)+t[n-1],o+=r[e>>10],o+=r[e>>4&63],o+=r[e<<2&63],o+="="),s.push(o),s.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function c(t){return r[t>>18&63]+r[t>>12&63]+r[t>>6&63]+r[63&t]}function h(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],i.push(c(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}]},{},[])("/")},603:function(t){function e(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,a=-271733879,l=-1732584194,c=271733878,h=0;h<t.length;h+=16){var f=n,p=a,d=l,y=c;n=r(n,a,l,c,t[h+0],7,-680876936),c=r(c,n,a,l,t[h+1],12,-389564586),l=r(l,c,n,a,t[h+2],17,606105819),a=r(a,l,c,n,t[h+3],22,-1044525330),n=r(n,a,l,c,t[h+4],7,-176418897),c=r(c,n,a,l,t[h+5],12,1200080426),l=r(l,c,n,a,t[h+6],17,-1473231341),a=r(a,l,c,n,t[h+7],22,-45705983),n=r(n,a,l,c,t[h+8],7,1770035416),c=r(c,n,a,l,t[h+9],12,-1958414417),l=r(l,c,n,a,t[h+10],17,-42063),a=r(a,l,c,n,t[h+11],22,-1990404162),n=r(n,a,l,c,t[h+12],7,1804603682),c=r(c,n,a,l,t[h+13],12,-40341101),l=r(l,c,n,a,t[h+14],17,-1502002290),n=i(n,a=r(a,l,c,n,t[h+15],22,1236535329),l,c,t[h+1],5,-165796510),c=i(c,n,a,l,t[h+6],9,-1069501632),l=i(l,c,n,a,t[h+11],14,643717713),a=i(a,l,c,n,t[h+0],20,-373897302),n=i(n,a,l,c,t[h+5],5,-701558691),c=i(c,n,a,l,t[h+10],9,38016083),l=i(l,c,n,a,t[h+15],14,-660478335),a=i(a,l,c,n,t[h+4],20,-405537848),n=i(n,a,l,c,t[h+9],5,568446438),c=i(c,n,a,l,t[h+14],9,-1019803690),l=i(l,c,n,a,t[h+3],14,-187363961),a=i(a,l,c,n,t[h+8],20,1163531501),n=i(n,a,l,c,t[h+13],5,-1444681467),c=i(c,n,a,l,t[h+2],9,-51403784),l=i(l,c,n,a,t[h+7],14,1735328473),n=o(n,a=i(a,l,c,n,t[h+12],20,-1926607734),l,c,t[h+5],4,-378558),c=o(c,n,a,l,t[h+8],11,-2022574463),l=o(l,c,n,a,t[h+11],16,1839030562),a=o(a,l,c,n,t[h+14],23,-35309556),n=o(n,a,l,c,t[h+1],4,-1530992060),c=o(c,n,a,l,t[h+4],11,1272893353),l=o(l,c,n,a,t[h+7],16,-155497632),a=o(a,l,c,n,t[h+10],23,-1094730640),n=o(n,a,l,c,t[h+13],4,681279174),c=o(c,n,a,l,t[h+0],11,-358537222),l=o(l,c,n,a,t[h+3],16,-722521979),a=o(a,l,c,n,t[h+6],23,76029189),n=o(n,a,l,c,t[h+9],4,-640364487),c=o(c,n,a,l,t[h+12],11,-421815835),l=o(l,c,n,a,t[h+15],16,530742520),n=s(n,a=o(a,l,c,n,t[h+2],23,-995338651),l,c,t[h+0],6,-198630844),c=s(c,n,a,l,t[h+7],10,1126891415),l=s(l,c,n,a,t[h+14],15,-1416354905),a=s(a,l,c,n,t[h+5],21,-57434055),n=s(n,a,l,c,t[h+12],6,1700485571),c=s(c,n,a,l,t[h+3],10,-1894986606),l=s(l,c,n,a,t[h+10],15,-1051523),a=s(a,l,c,n,t[h+1],21,-2054922799),n=s(n,a,l,c,t[h+8],6,1873313359),c=s(c,n,a,l,t[h+15],10,-30611744),l=s(l,c,n,a,t[h+6],15,-1560198380),a=s(a,l,c,n,t[h+13],21,1309151649),n=s(n,a,l,c,t[h+4],6,-145523070),c=s(c,n,a,l,t[h+11],10,-1120210379),l=s(l,c,n,a,t[h+2],15,718787259),a=s(a,l,c,n,t[h+9],21,-343485551),n=u(n,f),a=u(a,p),l=u(l,d),c=u(c,y)}return Array(n,a,l,c)}function n(t,e,n,r,i,o){return u((s=u(u(e,t),u(r,o)))<<(a=i)|s>>>32-a,n);var s,a}function r(t,e,r,i,o,s,a){return n(e&r|~e&i,t,e,o,s,a)}function i(t,e,r,i,o,s,a){return n(e&i|r&~i,t,e,o,s,a)}function o(t,e,r,i,o,s,a){return n(e^r^i,t,e,o,s,a)}function s(t,e,r,i,o,s,a){return n(r^(e|~i),t,e,o,s,a)}function a(t,n){var r=l(t);r.length>16&&(r=e(r,8*t.length));for(var i=Array(16),o=Array(16),s=0;s<16;s++)i[s]=909522486^r[s],o[s]=1549556828^r[s];var a=e(i.concat(l(n)),512+8*n.length);return e(o.concat(a),640)}function u(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}function l(t){for(var e=Array(),n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<n%32;return e}function c(t){for(var e="0123456789abcdef",n="",r=0;r<4*t.length;r++)n+=e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15);return n}function h(t){for(var e="",n=0;n<4*t.length;n+=3)for(var r=(t[n>>2]>>n%4*8&255)<<16|(t[n+1>>2]>>(n+1)%4*8&255)<<8|t[n+2>>2]>>(n+2)%4*8&255,i=0;i<4;i++)8*n+6*i>32*t.length?e+="":e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r>>6*(3-i)&63);return e}t.exports={hex_md5:function(t){return c(e(l(t),8*t.length))},b64_md5:function(t){return h(e(l(t),8*t.length))},md5_gg:i,hex_hmac_md5:function(t,e){return c(a(t,e))},b64_hmac_md5:function(t,e){return h(a(t,e))},str_hmac_md5:function(t,e){return function(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>n%32&255);return e}(a(t,e))}}},573:function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(t){return _typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":_typeof(t)})(t)}var n=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=3)}([function(t,e,n){(function(){function e(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function n(){return new e(null)}function r(t){return C.charAt(t)}function i(t,e){var n=I[t.charCodeAt(e)];return null==n?-1:n}function o(t){var e=n();return e.fromInt(t),e}function s(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function a(t){this.m=t}function u(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function l(t,e){return t&e}function c(t,e){return t|e}function h(t,e){return t^e}function f(t,e){return t&~e}function p(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function d(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function y(){}function g(t){return t}function m(t){this.r2=n(),this.q3=n(),e.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function v(){!function(t){O[T++]^=255&t,O[T++]^=t>>8&255,O[T++]^=t>>16&255,O[T++]^=t>>24&255,T>=k&&(T-=k)}((new Date).getTime())}function _(){if(null==M){for(v(),(M=new x).init(O),T=0;T<O.length;++T)O[T]=0;T=0}return M.next()}function b(){}function x(){this.i=0,this.j=0,this.S=new Array}var w,E="undefined"!=typeof navigator;E&&"Microsoft Internet Explorer"==navigator.appName?(e.prototype.am=function(t,e,n,r,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this[t],l=this[t++]>>15,c=a*u+l*s;i=((u=s*u+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+a*l+(i>>>30),n[r++]=1073741823&u}return i},w=30):E&&"Netscape"!=navigator.appName?(e.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},w=26):(e.prototype.am=function(t,e,n,r,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this[t],l=this[t++]>>14,c=a*u+l*s;i=((u=s*u+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+a*l,n[r++]=268435455&u}return i},w=28),e.prototype.DB=w,e.prototype.DM=(1<<w)-1,e.prototype.DV=1<<w,e.prototype.FV=Math.pow(2,52),e.prototype.F1=52-w,e.prototype.F2=2*w-52;var S,P,C="0123456789abcdefghijklmnopqrstuvwxyz",I=new Array;for(S="0".charCodeAt(0),P=0;P<=9;++P)I[S++]=P;for(S="a".charCodeAt(0),P=10;P<36;++P)I[S++]=P;for(S="A".charCodeAt(0),P=10;P<36;++P)I[S++]=P;a.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},a.prototype.revert=function(t){return t},a.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},a.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},a.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},u.prototype.convert=function(t){var r=n();return t.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),t.s<0&&r.compareTo(e.ZERO)>0&&this.m.subTo(r,r),r},u.prototype.revert=function(t){var e=n();return t.copyTo(e),this.reduce(e),e},u.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},u.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},u.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},e.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},e.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},e.prototype.fromString=function(t,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(t,n);r=2}this.t=0,this.s=0;for(var o=t.length,s=!1,a=0;--o>=0;){var u=8==r?255&t[o]:i(t,o);u<0?"-"==t.charAt(o)&&(s=!0):(s=!1,0==a?this[this.t++]=u:a+r>this.DB?(this[this.t-1]|=(u&(1<<this.DB-a)-1)<<a,this[this.t++]=u>>this.DB-a):this[this.t-1]|=u<<a,(a+=r)>=this.DB&&(a-=this.DB))}8==r&&0!=(128&t[0])&&(this.s=-1,a>0&&(this[this.t-1]|=(1<<this.DB-a)-1<<a)),this.clamp(),s&&e.ZERO.subTo(this,this)},e.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},e.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},e.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},e.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},e.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},e.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},e.prototype.multiplyTo=function(t,n){var r=this.abs(),i=t.abs(),o=r.t;for(n.t=o+i.t;--o>=0;)n[o]=0;for(o=0;o<i.t;++o)n[o+r.t]=r.am(0,i[o],n,o,0,r.t);n.s=0,n.clamp(),this.s!=t.s&&e.ZERO.subTo(n,n)},e.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},e.prototype.divRemTo=function(t,r,i){var o=t.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=r&&r.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=n());var u=n(),l=this.s,c=t.s,h=this.DB-s(o[o.t-1]);h>0?(o.lShiftTo(h,u),a.lShiftTo(h,i)):(o.copyTo(u),a.copyTo(i));var f=u.t,p=u[f-1];if(0!=p){var d=p*(1<<this.F1)+(f>1?u[f-2]>>this.F2:0),y=this.FV/d,g=(1<<this.F1)/d,m=1<<this.F2,v=i.t,_=v-f,b=null==r?n():r;for(u.dlShiftTo(_,b),i.compareTo(b)>=0&&(i[i.t++]=1,i.subTo(b,i)),e.ONE.dlShiftTo(f,b),b.subTo(u,u);u.t<f;)u[u.t++]=0;for(;--_>=0;){var x=i[--v]==p?this.DM:Math.floor(i[v]*y+(i[v-1]+m)*g);if((i[v]+=u.am(0,x,i,_,0,f))<x)for(u.dlShiftTo(_,b),i.subTo(b,i);i[v]<--x;)i.subTo(b,i)}null!=r&&(i.drShiftTo(f,r),l!=c&&e.ZERO.subTo(r,r)),i.t=f,i.clamp(),h>0&&i.rShiftTo(h,i),l<0&&e.ZERO.subTo(i,i)}}},e.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},e.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},e.prototype.exp=function(t,r){if(t>4294967295||t<1)return e.ONE;var i=n(),o=n(),a=r.convert(this),u=s(t)-1;for(a.copyTo(i);--u>=0;)if(r.sqrTo(i,o),(t&1<<u)>0)r.mulTo(o,a,i);else{var l=i;i=o,o=l}return r.revert(i)},e.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,o=!1,s="",a=this.t,u=this.DB-a*this.DB%e;if(a-- >0)for(u<this.DB&&(n=this[a]>>u)>0&&(o=!0,s=r(n));a>=0;)u<e?(n=(this[a]&(1<<u)-1)<<e-u,n|=this[--a]>>(u+=this.DB-e)):(n=this[a]>>(u-=e)&i,u<=0&&(u+=this.DB,--a)),n>0&&(o=!0),o&&(s+=r(n));return o?s:"0"},e.prototype.negate=function(){var t=n();return e.ZERO.subTo(this,t),t},e.prototype.abs=function(){return this.s<0?this.negate():this},e.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},e.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+s(this[this.t-1]^this.s&this.DM)},e.prototype.mod=function(t){var r=n();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(e.ZERO)>0&&t.subTo(r,r),r},e.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new a(e):new u(e),this.exp(t,n)},e.ZERO=o(0),e.ONE=o(1),y.prototype.convert=g,y.prototype.revert=g,y.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},y.prototype.sqrTo=function(t,e){t.squareTo(e)},m.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=n();return t.copyTo(e),this.reduce(e),e},m.prototype.revert=function(t){return t},m.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},m.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},m.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var M,O,T,L=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],N=(1<<26)/L[L.length-1];if(e.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},e.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),r=Math.pow(t,e),i=o(r),s=n(),a=n(),u="";for(this.divRemTo(i,s,a);s.signum()>0;)u=(r+a.intValue()).toString(t).substr(1)+u,s.divRemTo(i,s,a);return a.intValue().toString(t)+u},e.prototype.fromRadix=function(t,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),o=Math.pow(n,r),s=!1,a=0,u=0,l=0;l<t.length;++l){var c=i(t,l);c<0?"-"==t.charAt(l)&&0==this.signum()&&(s=!0):(u=n*u+c,++a>=r&&(this.dMultiply(o),this.dAddOffset(u,0),a=0,u=0))}a>0&&(this.dMultiply(Math.pow(n,a)),this.dAddOffset(u,0)),s&&e.ZERO.subTo(this,this)},e.prototype.fromNumber=function(t,n,r){if("number"==typeof n)if(t<2)this.fromInt(1);else for(this.fromNumber(t,r),this.testBit(t-1)||this.bitwiseTo(e.ONE.shiftLeft(t-1),c,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(e.ONE.shiftLeft(t-1),this);else{var i=new Array,o=7&t;i.length=1+(t>>3),n.nextBytes(i),o>0?i[0]&=(1<<o)-1:i[0]=0,this.fromString(i,256)}},e.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;r<o;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},e.prototype.changeBit=function(t,n){var r=e.ONE.shiftLeft(t);return this.bitwiseTo(r,n,r),r},e.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},e.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},e.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},e.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);i<r;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},e.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},e.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},e.prototype.millerRabin=function(t){var r=this.subtract(e.ONE),i=r.getLowestSetBit();if(i<=0)return!1;var o=r.shiftRight(i);(t=t+1>>1)>L.length&&(t=L.length);for(var s=n(),a=0;a<t;++a){s.fromInt(L[Math.floor(Math.random()*L.length)]);var u=s.modPow(o,this);if(0!=u.compareTo(e.ONE)&&0!=u.compareTo(r)){for(var l=1;l++<i&&0!=u.compareTo(r);)if(0==(u=u.modPowInt(2,this)).compareTo(e.ONE))return!1;if(0!=u.compareTo(r))return!1}}return!0},e.prototype.clone=function(){var t=n();return this.copyTo(t),t},e.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},e.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},e.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},e.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},e.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},e.prototype.equals=function(t){return 0==this.compareTo(t)},e.prototype.min=function(t){return this.compareTo(t)<0?this:t},e.prototype.max=function(t){return this.compareTo(t)>0?this:t},e.prototype.and=function(t){var e=n();return this.bitwiseTo(t,l,e),e},e.prototype.or=function(t){var e=n();return this.bitwiseTo(t,c,e),e},e.prototype.xor=function(t){var e=n();return this.bitwiseTo(t,h,e),e},e.prototype.andNot=function(t){var e=n();return this.bitwiseTo(t,f,e),e},e.prototype.not=function(){for(var t=n(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},e.prototype.shiftLeft=function(t){var e=n();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},e.prototype.shiftRight=function(t){var e=n();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},e.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+p(this[t]);return this.s<0?this.t*this.DB:-1},e.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=d(this[n]^e);return t},e.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},e.prototype.setBit=function(t){return this.changeBit(t,c)},e.prototype.clearBit=function(t){return this.changeBit(t,f)},e.prototype.flipBit=function(t){return this.changeBit(t,h)},e.prototype.add=function(t){var e=n();return this.addTo(t,e),e},e.prototype.subtract=function(t){var e=n();return this.subTo(t,e),e},e.prototype.multiply=function(t){var e=n();return this.multiplyTo(t,e),e},e.prototype.divide=function(t){var e=n();return this.divRemTo(t,e,null),e},e.prototype.remainder=function(t){var e=n();return this.divRemTo(t,null,e),e},e.prototype.divideAndRemainder=function(t){var e=n(),r=n();return this.divRemTo(t,e,r),new Array(e,r)},e.prototype.modPow=function(t,e){var r,i,l=t.bitLength(),c=o(1);if(l<=0)return c;r=l<18?1:l<48?3:l<144?4:l<768?5:6,i=l<8?new a(e):e.isEven()?new m(e):new u(e);var h=new Array,f=3,p=r-1,d=(1<<r)-1;if(h[1]=i.convert(this),r>1){var y=n();for(i.sqrTo(h[1],y);f<=d;)h[f]=n(),i.mulTo(y,h[f-2],h[f]),f+=2}var g,v,_=t.t-1,b=!0,x=n();for(l=s(t[_])-1;_>=0;){for(l>=p?g=t[_]>>l-p&d:(g=(t[_]&(1<<l+1)-1)<<p-l,_>0&&(g|=t[_-1]>>this.DB+l-p)),f=r;0==(1&g);)g>>=1,--f;if((l-=f)<0&&(l+=this.DB,--_),b)h[g].copyTo(c),b=!1;else{for(;f>1;)i.sqrTo(c,x),i.sqrTo(x,c),f-=2;f>0?i.sqrTo(c,x):(v=c,c=x,x=v),i.mulTo(x,h[g],c)}for(;_>=0&&0==(t[_]&1<<l);)i.sqrTo(c,x),v=c,c=x,x=v,--l<0&&(l=this.DB-1,--_)}return i.revert(c)},e.prototype.modInverse=function(t){var n=t.isEven();if(this.isEven()&&n||0==t.signum())return e.ZERO;for(var r=t.clone(),i=this.clone(),s=o(1),a=o(0),u=o(0),l=o(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(s.isEven()&&a.isEven()||(s.addTo(this,s),a.subTo(t,a)),s.rShiftTo(1,s)):a.isEven()||a.subTo(t,a),a.rShiftTo(1,a);for(;i.isEven();)i.rShiftTo(1,i),n?(u.isEven()&&l.isEven()||(u.addTo(this,u),l.subTo(t,l)),u.rShiftTo(1,u)):l.isEven()||l.subTo(t,l),l.rShiftTo(1,l);r.compareTo(i)>=0?(r.subTo(i,r),n&&s.subTo(u,s),a.subTo(l,a)):(i.subTo(r,i),n&&u.subTo(s,u),l.subTo(a,l))}return 0!=i.compareTo(e.ONE)?e.ZERO:l.compareTo(t)>=0?l.subtract(t):l.signum()<0?(l.addTo(t,l),l.signum()<0?l.add(t):l):l},e.prototype.pow=function(t){return this.exp(t,new y)},e.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return e;for(i<o&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},e.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=L[L.length-1]){for(e=0;e<L.length;++e)if(n[0]==L[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<L.length;){for(var r=L[e],i=e+1;i<L.length&&r<N;)r*=L[i++];for(r=n.modInt(r);e<i;)if(r%L[e++]==0)return!1}return n.millerRabin(t)},e.prototype.square=function(){var t=n();return this.squareTo(t),t},e.prototype.Barrett=m,null==O){var A;if(O=new Array,T=0,"undefined"!=typeof window&&window.crypto)if(window.crypto.getRandomValues){var R=new Uint8Array(32);for(window.crypto.getRandomValues(R),A=0;A<32;++A)O[T++]=R[A]}else if("Netscape"==navigator.appName&&navigator.appVersion<"5"){var D=window.crypto.random(32);for(A=0;A<D.length;++A)O[T++]=255&D.charCodeAt(A)}for(;T<k;)A=Math.floor(65536*Math.random()),O[T++]=A>>>8,O[T++]=255&A;T=0,v()}b.prototype.nextBytes=function(t){var e;for(e=0;e<t.length;++e)t[e]=_()},x.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},x.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]};var k=256;t.exports={default:e,BigInteger:e,SecureRandom:b}}).call(this)},function(t,e,n){"use strict";function r(){var t=new s("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFF",16),e=new s("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF00000000FFFFFFFFFFFFFFFC",16),n=new s("28E9FA9E9D9F5E344D5A9E4BCF6509A7F39789F515AB8F92DDBCBD414D940E93",16),r=new u(t,e,n);return{curve:r,G:r.decodePointHex("0432C4AE2C1F1981195F9904466A39C9948FE30BBFF2660BE1715A4589334C74C7BC3736A2F4F6779C59BDCEE36B692153D0A9877CC62A474002DF32E52139F0A0"),n:new s("FFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFF7203DF6B21C6052B53BBF40939D54123",16)}}function i(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t}var o=n(0),s=o.BigInteger,a=o.SecureRandom,u=n(5).ECCurveFp,l=new a,c=r(),h=c.curve,f=c.G,p=c.n;t.exports={getGlobalCurve:function(){return h},generateEcparam:r,generateKeyPairHex:function(){var t=new s(p.bitLength(),l).mod(p.subtract(s.ONE)).add(s.ONE),e=i(t.toString(16),64),n=f.multiply(t);return{privateKey:e,publicKey:"04"+i(n.getX().toBigInteger().toString(16),64)+i(n.getY().toBigInteger().toString(16),64)}},parseUtf8StringToHex:function(t){for(var e=(t=unescape(encodeURIComponent(t))).length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;for(var i=[],o=0;o<e;o++){var s=n[o>>>2]>>>24-o%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parseArrayBufferToHex:function(t){return Array.prototype.map.call(new Uint8Array(t),(function(t){return("00"+t.toString(16)).slice(-2)})).join("")},leftPad:i,arrayToHex:function(t){for(var e=[],n=0,r=0;r<2*t.length;r+=2)e[r>>>3]|=parseInt(t[n],10)<<24-r%8*4,n++;for(var i=[],o=0;o<t.length;o++){var s=e[o>>>2]>>>24-o%4*8&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},arrayToUtf8:function(t){for(var e=[],n=0,r=0;r<2*t.length;r+=2)e[r>>>3]|=parseInt(t[n],10)<<24-r%8*4,n++;try{for(var i=[],o=0;o<t.length;o++){var s=e[o>>>2]>>>24-o%4*8&255;i.push(String.fromCharCode(s))}return decodeURIComponent(escape(i.join("")))}catch(t){throw new Error("Malformed UTF-8 data")}},hexToArray:function(t){var e=[],n=t.length;n%2!=0&&(t=i(t,n+1)),n=t.length;for(var r=0;r<n;r+=2)e.push(parseInt(t.substr(r,2),16));return e}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0).BigInteger,s=n(1),a=function(t,e,n,r,i){for(var o=0;o<i;o++)n[r+o]=t[e+o]},u={minValue:-parseInt("10000000000000000000000000000000",2),maxValue:parseInt("1111111111111111111111111111111",2),parse:function(t){if(t<this.minValue){for(var e=new Number(-t).toString(2),n=e.substr(e.length-31,31),r="",i=0;i<n.length;i++)r+="0"==n.substr(i,1)?"1":"0";return parseInt(r,2)+1}if(t>this.maxValue){for(var o=Number(t).toString(2),s=o.substr(o.length-31,31),a="",u=0;u<s.length;u++)a+="0"==s.substr(u,1)?"1":"0";return-(parseInt(a,2)+1)}return t},parseByte:function(t){if(t<0){for(var e=new Number(-t).toString(2),n=e.substr(e.length-8,8),r="",i=0;i<n.length;i++)r+="0"==n.substr(i,1)?"1":"0";return parseInt(r,2)+1}if(t>255){var o=Number(t).toString(2);return parseInt(o.substr(o.length-8,8),2)}return t}},l=function(){function t(){r(this,t),this.xBuf=new Array,this.xBufOff=0,this.byteCount=0,this.DIGEST_LENGTH=32,this.v0=[1937774191,1226093241,388252375,3666478592,2842636476,372324522,3817729613,2969243214],this.v0=[1937774191,1226093241,388252375,-628488704,-1452330820,372324522,-477237683,-1325724082],this.v=new Array(8),this.v_=new Array(8),this.X0=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.X=new Array(68),this.xOff=0,this.T_00_15=2043430169,this.T_16_63=2055708042,arguments.length>0?this.initDigest(arguments[0]):this.init()}return i(t,[{key:"init",value:function(){this.xBuf=new Array(4),this.reset()}},{key:"initDigest",value:function(t){this.xBuf=[].concat(t.xBuf),this.xBufOff=t.xBufOff,this.byteCount=t.byteCount,a(t.X,0,this.X,0,t.X.length),this.xOff=t.xOff,a(t.v,0,this.v,0,t.v.length)}},{key:"getDigestSize",value:function(){return this.DIGEST_LENGTH}},{key:"reset",value:function(){for(var t in this.byteCount=0,this.xBufOff=0,this.xBuf)this.xBuf[t]=null;a(this.v0,0,this.v,0,this.v0.length),this.xOff=0,a(this.X0,0,this.X,0,this.X0.length)}},{key:"processBlock",value:function(){var t=void 0,e=this.X,n=new Array(64);for(t=16;t<68;t++)e[t]=this.p1(e[t-16]^e[t-9]^this.rotate(e[t-3],15))^this.rotate(e[t-13],7)^e[t-6];for(t=0;t<64;t++)n[t]=e[t]^e[t+4];var r=this.v,i=this.v_;a(r,0,i,0,this.v0.length);var o=void 0,s=void 0,l=void 0,c=void 0,h=void 0;for(t=0;t<16;t++)h=this.rotate(i[0],12),o=u.parse(u.parse(h+i[4])+this.rotate(this.T_00_15,t)),s=(o=this.rotate(o,7))^h,l=u.parse(u.parse(this.ff_00_15(i[0],i[1],i[2])+i[3])+s)+n[t],c=u.parse(u.parse(this.gg_00_15(i[4],i[5],i[6])+i[7])+o)+e[t],i[3]=i[2],i[2]=this.rotate(i[1],9),i[1]=i[0],i[0]=l,i[7]=i[6],i[6]=this.rotate(i[5],19),i[5]=i[4],i[4]=this.p0(c);for(t=16;t<64;t++)h=this.rotate(i[0],12),o=u.parse(u.parse(h+i[4])+this.rotate(this.T_16_63,t)),s=(o=this.rotate(o,7))^h,l=u.parse(u.parse(this.ff_16_63(i[0],i[1],i[2])+i[3])+s)+n[t],c=u.parse(u.parse(this.gg_16_63(i[4],i[5],i[6])+i[7])+o)+e[t],i[3]=i[2],i[2]=this.rotate(i[1],9),i[1]=i[0],i[0]=l,i[7]=i[6],i[6]=this.rotate(i[5],19),i[5]=i[4],i[4]=this.p0(c);for(t=0;t<8;t++)r[t]^=u.parse(i[t]);this.xOff=0,a(this.X0,0,this.X,0,this.X0.length)}},{key:"processWord",value:function(t,e){var n=t[e]<<24;n|=(255&t[++e])<<16,n|=(255&t[++e])<<8,n|=255&t[++e],this.X[this.xOff]=n,16==++this.xOff&&this.processBlock()}},{key:"processLength",value:function(t){this.xOff>14&&this.processBlock(),this.X[14]=this.urShiftLong(t,32),this.X[15]=4294967295&t}},{key:"intToBigEndian",value:function(t,e,n){e[n]=u.parseByte(this.urShift(t,24)),e[++n]=u.parseByte(this.urShift(t,16)),e[++n]=u.parseByte(this.urShift(t,8)),e[++n]=u.parseByte(t)}},{key:"doFinal",value:function(t,e){this.finish();for(var n=0;n<8;n++)this.intToBigEndian(this.v[n],t,e+4*n);return this.reset(),this.DIGEST_LENGTH}},{key:"update",value:function(t){this.xBuf[this.xBufOff++]=t,this.xBufOff==this.xBuf.length&&(this.processWord(this.xBuf,0),this.xBufOff=0),this.byteCount++}},{key:"blockUpdate",value:function(t,e,n){for(;0!=this.xBufOff&&n>0;)this.update(t[e]),e++,n--;for(;n>this.xBuf.length;)this.processWord(t,e),e+=this.xBuf.length,n-=this.xBuf.length,this.byteCount+=this.xBuf.length;for(;n>0;)this.update(t[e]),e++,n--}},{key:"finish",value:function(){var t=this.byteCount<<3;for(this.update(128);0!=this.xBufOff;)this.update(0);this.processLength(t),this.processBlock()}},{key:"rotate",value:function(t,e){return t<<e|this.urShift(t,32-e)}},{key:"p0",value:function(t){return t^this.rotate(t,9)^this.rotate(t,17)}},{key:"p1",value:function(t){return t^this.rotate(t,15)^this.rotate(t,23)}},{key:"ff_00_15",value:function(t,e,n){return t^e^n}},{key:"ff_16_63",value:function(t,e,n){return t&e|t&n|e&n}},{key:"gg_00_15",value:function(t,e,n){return t^e^n}},{key:"gg_16_63",value:function(t,e,n){return t&e|~t&n}},{key:"urShift",value:function(t,e){return(t>u.maxValue||t<u.minValue)&&(t=u.parse(t)),t>=0?t>>e:(t>>e)+(2<<~e)}},{key:"urShiftLong",value:function(t,e){var n=void 0,r=new o;if(r.fromInt(t),r.signum()>=0)n=r.shiftRight(e).intValue();else{var i=new o;i.fromInt(2);var s=~e,a="";if(s<0){for(var u=64+s,l=0;l<u;l++)a+="0";var c=new o;c.fromInt(t>>e);var h=new o("10"+a,2);a=h.toRadix(10),n=h.add(c).toRadix(10)}else n=(t>>e)+(a=i.shiftLeft(~e).intValue())}return n}},{key:"getZ",value:function(t,e){var n=s.parseUtf8StringToHex("1234567812345678"),r=4*n.length;this.update(r>>8&255),this.update(255&r);var i=s.hexToArray(n);this.blockUpdate(i,0,i.length);var o=s.hexToArray(t.curve.a.toBigInteger().toRadix(16)),a=s.hexToArray(t.curve.b.toBigInteger().toRadix(16)),u=s.hexToArray(t.getX().toBigInteger().toRadix(16)),l=s.hexToArray(t.getY().toBigInteger().toRadix(16)),c=s.hexToArray(e.substr(0,64)),h=s.hexToArray(e.substr(64,64));this.blockUpdate(o,0,o.length),this.blockUpdate(a,0,a.length),this.blockUpdate(u,0,u.length),this.blockUpdate(l,0,l.length),this.blockUpdate(c,0,c.length),this.blockUpdate(h,0,h.length);var f=new Array(this.getDigestSize());return this.doFinal(f,0),f}}]),t}();t.exports=l},function(t,e,n){"use strict";function r(t,e){var n=new c,r=(new c).getZ(d,e.substr(2,128)),i=f.hexToArray(f.arrayToHex(r).toString()),o=t,s=f.hexToArray(o),a=new Array(n.getDigestSize());return n.blockUpdate(i,0,i.length),n.blockUpdate(s,0,s.length),n.doFinal(a,0),f.arrayToHex(a).toString()}function i(t){var e=d.multiply(new s(t,16));return"04"+f.leftPad(e.getX().toBigInteger().toString(16),64)+f.leftPad(e.getY().toBigInteger().toString(16),64)}function o(){var t=f.generateKeyPairHex(),e=y.decodePointHex(t.publicKey);return t.k=new s(t.privateKey,16),t.x1=e.getX().toBigInteger(),t}var s=n(0).BigInteger,a=n(4),u=a.encodeDer,l=a.decodeDer,c=n(2),h=n(6),f=n(1),p=f.generateEcparam(),d=p.G,y=p.curve,g=p.n;t.exports={generateKeyPairHex:f.generateKeyPairHex,doEncrypt:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=new h;t=f.hexToArray(f.parseUtf8StringToHex(t)),e.length>128&&(e=e.substr(e.length-128));var i=e.substr(0,64),o=e.substr(64);e=r.createPoint(i,o);var s=r.initEncipher(e);r.encryptBlock(t);var a=f.arrayToHex(t),u=new Array(32);return r.doFinal(u),u=f.arrayToHex(u),0===n?s+a+u:s+u+a},doDecrypt:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=new h;e=new s(e,16);var i=t.substr(0,64),o=t.substr(0+i.length,64),a=i.length+o.length,u=t.substr(a,64),l=t.substr(a+64);0===n&&(u=t.substr(t.length-64),l=t.substr(a,t.length-a-64));var c=f.hexToArray(l),p=r.createPoint(i,o);r.initDecipher(e,p),r.decryptBlock(c);var d=new Array(32);return r.doFinal(d),f.arrayToHex(d)===u?f.arrayToUtf8(c):""},doSignature:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.pointPool,l=n.der,c=n.hash,h=n.publicKey,p="string"==typeof t?f.parseUtf8StringToHex(t):f.parseArrayBufferToHex(t);c&&(p=r(p,h=h||i(e)));var d=new s(e,16),y=new s(p,16),m=null,v=null,_=null;do{do{var b=void 0;m=(b=a&&a.length?a.pop():o()).k,v=y.add(b.x1).mod(g)}while(v.equals(s.ZERO)||v.add(m).equals(g));_=d.add(s.ONE).modInverse(g).multiply(m.subtract(v.multiply(d))).mod(g)}while(_.equals(s.ZERO));return l?u(v,_):f.leftPad(v.toString(16),64)+f.leftPad(_.toString(16),64)},doVerifySignature:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=i.der,a=i.hash,u="string"==typeof t?f.parseUtf8StringToHex(t):f.parseArrayBufferToHex(t);a&&(u=r(u,n));var c=void 0,h=void 0;if(o){var p=l(e);c=p.r,h=p.s}else c=new s(e.substring(0,64),16),h=new s(e.substring(64),16);var m=y.decodePointHex(n),v=new s(u,16),_=c.add(h).mod(g);if(_.equals(s.ZERO))return!1;var b=d.multiply(h).add(m.multiply(_)),x=v.add(b.getX().toBigInteger()).mod(g);return c.equals(x)},getPoint:o}},function(t,n,r){"use strict";function i(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=e(n)&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+e(n));t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if("8"!==t.substring(e+2,e+3))return 1;var n=parseInt(t.substring(e+3,e+4));return 0===n?-1:0<n&&n<10?n+1:-2}function u(t,e){var n=function(t,e){var n=a(t,e);return n<1?"":t.substring(e+2,e+2+2*n)}(t,e);return""===n?-1:(parseInt(n.substring(0,1))<8?new p(n,16):new p(n.substring(2),16)).intValue()}function l(t,e){var n=a(t,e);return n<0?l_len:e+2*(n+1)}function c(t,e){var n=l(t,e),r=u(t,e);return t.substring(n,n+2*r)}function h(t,e){return l(t,e)+2*u(t,e)}var f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=r(0).BigInteger,d=function(){function t(){s(this,t),this.isModified=!0,this.hTLV=null,this.hT="00",this.hL="00",this.hV=""}return f(t,[{key:"getLengthHexFromValue",value:function(){var t=this.hV.length/2,e=t.toString(16);return e.length%2==1&&(e="0"+e),t<128?e:(128+e.length/2).toString(16)+e}},{key:"getEncodedHex",value:function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV}},{key:"getFreshValueHex",value:function(){return""}}]),t}(),y=function(t){function e(t){s(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.hT="02",t&&t.bigint&&(n.hTLV=null,n.isModified=!0,n.hV=function(t){var e=t.toString(16);if("-"!==e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";e=new p(r,16).xor(t).add(p.ONE).toString(16).replace(/^-/,"")}return e}(t.bigint)),n}return o(e,t),f(e,[{key:"getFreshValueHex",value:function(){return this.hV}}]),e}(d),g=function(t){function e(t){s(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.hT="30",n.asn1Array=[],t&&t.array&&(n.asn1Array=t.array),n}return o(e,t),f(e,[{key:"getFreshValueHex",value:function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}}]),e}(d);t.exports={encodeDer:function(t,e){var n=new y({bigint:t}),r=new y({bigint:e});return new g({array:[n,r]}).getEncodedHex()},decodeDer:function(t){var e=function(t,e){var n=[],r=l(t,0);n.push(r);for(var i=u(t,0),o=r,s=0;;){var a=h(t,o);if(null===a||a-r>=2*i)break;if(s>=200)break;n.push(a),o=a,s++}return n}(t),n=e[0],r=e[1],i=c(t,n),o=c(t,r);return{r:new p(i,16),s:new p(o,16)}}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n(0).BigInteger,s=new o("3"),a=function(){function t(e,n){r(this,t),this.x=n,this.q=e}return i(t,[{key:"equals",value:function(t){return t===this||this.q.equals(t.q)&&this.x.equals(t.x)}},{key:"toBigInteger",value:function(){return this.x}},{key:"negate",value:function(){return new t(this.q,this.x.negate().mod(this.q))}},{key:"add",value:function(e){return new t(this.q,this.x.add(e.toBigInteger()).mod(this.q))}},{key:"subtract",value:function(e){return new t(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))}},{key:"multiply",value:function(e){return new t(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))}},{key:"divide",value:function(e){return new t(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))}},{key:"square",value:function(){return new t(this.q,this.x.square().mod(this.q))}}]),t}(),u=function(){function t(e,n,i,s){r(this,t),this.curve=e,this.x=n,this.y=i,this.z=void 0===s?o.ONE:s,this.zinv=null}return i(t,[{key:"getX",value:function(){return null===this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))}},{key:"getY",value:function(){return null===this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))}},{key:"equals",value:function(t){return t===this||(this.isInfinity()?t.isInfinity():t.isInfinity()?this.isInfinity():!!t.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(o.ZERO)&&t.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(t.z)).mod(this.curve.q).equals(o.ZERO))}},{key:"isInfinity",value:function(){return null===this.x&&null===this.y||this.z.equals(o.ZERO)&&!this.y.toBigInteger().equals(o.ZERO)}},{key:"negate",value:function(){return new t(this.curve,this.x,this.y.negate(),this.z)}},{key:"add",value:function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var n=this.x.toBigInteger(),r=this.y.toBigInteger(),i=this.z,s=e.x.toBigInteger(),a=e.y.toBigInteger(),u=e.z,l=this.curve.q,c=n.multiply(u).mod(l),h=s.multiply(i).mod(l),f=c.subtract(h),p=r.multiply(u).mod(l),d=a.multiply(i).mod(l),y=p.subtract(d);if(o.ZERO.equals(f))return o.ZERO.equals(y)?this.twice():this.curve.infinity;var g=c.add(h),m=i.multiply(u).mod(l),v=f.square().mod(l),_=f.multiply(v).mod(l),b=m.multiply(y.square()).subtract(g.multiply(v)).mod(l),x=f.multiply(b).mod(l),w=y.multiply(v.multiply(c).subtract(b)).subtract(p.multiply(_)).mod(l),E=_.multiply(m).mod(l);return new t(this.curve,this.curve.fromBigInteger(x),this.curve.fromBigInteger(w),E)}},{key:"twice",value:function(){if(this.isInfinity())return this;if(!this.y.toBigInteger().signum())return this.curve.infinity;var e=this.x.toBigInteger(),n=this.y.toBigInteger(),r=this.z,i=this.curve.q,o=this.curve.a.toBigInteger(),a=e.square().multiply(s).add(o.multiply(r.square())).mod(i),u=n.shiftLeft(1).multiply(r).mod(i),l=n.square().mod(i),c=l.multiply(e).multiply(r).mod(i),h=u.square().mod(i),f=a.square().subtract(c.shiftLeft(3)).mod(i),p=u.multiply(f).mod(i),d=a.multiply(c.shiftLeft(2).subtract(f)).subtract(h.shiftLeft(1).multiply(l)).mod(i),y=u.multiply(h).mod(i);return new t(this.curve,this.curve.fromBigInteger(p),this.curve.fromBigInteger(d),y)}},{key:"multiply",value:function(t){if(this.isInfinity())return this;if(!t.signum())return this.curve.infinity;for(var e=t.multiply(s),n=this.negate(),r=this,i=e.bitLength()-2;i>0;i--){r=r.twice();var o=e.testBit(i);o!==t.testBit(i)&&(r=r.add(o?this:n))}return r}}]),t}(),l=function(){function t(e,n,i){r(this,t),this.q=e,this.a=this.fromBigInteger(n),this.b=this.fromBigInteger(i),this.infinity=new u(this,null,null)}return i(t,[{key:"equals",value:function(t){return t===this||this.q.equals(t.q)&&this.a.equals(t.a)&&this.b.equals(t.b)}},{key:"fromBigInteger",value:function(t){return new a(this.q,t)}},{key:"decodePointHex",value:function(t){switch(parseInt(t.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:return null;case 4:case 6:case 7:var e=(t.length-2)/2,n=t.substr(2,e),r=t.substr(e+2,e);return new u(this,this.fromBigInteger(new o(n,16)),this.fromBigInteger(new o(r,16)));default:return null}}}]),t}();t.exports={ECPointFp:u,ECCurveFp:l}},function(t,e,n){"use strict";var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n(0).BigInteger,o=n(2),s=n(1),a=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.ct=1,this.p2=null,this.sm3keybase=null,this.sm3c3=null,this.key=new Array(32),this.keyOff=0}return r(t,[{key:"reset",value:function(){this.sm3keybase=new o,this.sm3c3=new o;var t=s.hexToArray(this.p2.getX().toBigInteger().toRadix(16)),e=s.hexToArray(this.p2.getY().toBigInteger().toRadix(16));this.sm3keybase.blockUpdate(t,0,t.length),this.sm3c3.blockUpdate(t,0,t.length),this.sm3keybase.blockUpdate(e,0,e.length),this.ct=1,this.nextKey()}},{key:"nextKey",value:function(){var t=new o(this.sm3keybase);t.update(this.ct>>24&255),t.update(this.ct>>16&255),t.update(this.ct>>8&255),t.update(255&this.ct),t.doFinal(this.key,0),this.keyOff=0,this.ct++}},{key:"initEncipher",value:function(t){var e=s.generateKeyPairHex(),n=new i(e.privateKey,16),r=e.publicKey;return this.p2=t.multiply(n),this.reset(),r.length>128&&(r=r.substr(r.length-128)),r}},{key:"encryptBlock",value:function(t){this.sm3c3.blockUpdate(t,0,t.length);for(var e=0;e<t.length;e++)this.keyOff===this.key.length&&this.nextKey(),t[e]^=255&this.key[this.keyOff++]}},{key:"initDecipher",value:function(t,e){this.p2=e.multiply(t),this.reset()}},{key:"decryptBlock",value:function(t){for(var e=0;e<t.length;e++)this.keyOff===this.key.length&&this.nextKey(),t[e]^=255&this.key[this.keyOff++];this.sm3c3.blockUpdate(t,0,t.length)}},{key:"doFinal",value:function(t){var e=s.hexToArray(this.p2.getY().toBigInteger().toRadix(16));this.sm3c3.blockUpdate(e,0,e.length),this.sm3c3.doFinal(t,0),this.reset()}},{key:"createPoint",value:function(t,e){var n="04"+t+e;return s.getGlobalCurve().decodePointHex(n)}}]),t}();t.exports=a}]);t.exports=n},719:function(t,e,n){var r,i=n(449);function o(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function s(){return new o(null)}function a(t){return C.charAt(t)}function u(t,e){var n=I[t.charCodeAt(e)];return null==n?-1:n}function l(t){var e=s();return e.fromInt(t),e}function c(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function h(t){this.m=t}function f(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function p(t,e){return t&e}function d(t,e){return t|e}function y(t,e){return t^e}function g(t,e){return t&~e}function m(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function v(t){for(var e=0;0!=t;)t&=t-1,++e;return e}function _(){}function b(t){return t}function x(t){this.r2=s(),this.q3=s(),o.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}function w(){this.BYTE_LENGTH=64,this.xBuf=new Array,this.xBufOff=0,this.byteCount=0,this.DIGEST_LENGTH=32,this.v0=[1937774191,1226093241,388252375,-628488704,-1452330820,372324522,-477237683,-1325724082],this.v=new Array(8),this.v_=new Array(8),this.X0=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.X=new Array(68),this.xOff=0,this.T_00_15=2043430169,this.T_16_63=2055708042,arguments.length>0?this.InitDigest(arguments[0]):this.Init()}function E(t,e){return t<<e|t>>>-e}"Microsoft Internet Explorer"==navigator.appName?(o.prototype.am=function(t,e,n,r,i,o){for(var s=32767&e,a=e>>15;--o>=0;){var u=32767&this[t],l=this[t++]>>15,c=a*u+l*s;i=((u=s*u+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+a*l+(i>>>30),n[r++]=1073741823&u}return i},r=30):"Netscape"!=navigator.appName?(o.prototype.am=function(t,e,n,r,i,o){for(;--o>=0;){var s=e*this[t++]+n[r]+i;i=Math.floor(s/67108864),n[r++]=67108863&s}return i},r=26):(o.prototype.am=function(t,e,n,r,i,o){for(var s=16383&e,a=e>>14;--o>=0;){var u=16383&this[t],l=this[t++]>>14,c=a*u+l*s;i=((u=s*u+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+a*l,n[r++]=268435455&u}return i},r=28),o.prototype.DB=r,o.prototype.DM=(1<<r)-1,o.prototype.DV=1<<r,o.prototype.FV=Math.pow(2,52),o.prototype.F1=52-r,o.prototype.F2=2*r-52;var S,P,C="0123456789abcdefghijklmnopqrstuvwxyz",I=new Array;for(S="0".charCodeAt(0),P=0;9>=P;++P)I[S++]=P;for(S="a".charCodeAt(0),P=10;36>P;++P)I[S++]=P;for(S="A".charCodeAt(0),P=10;36>P;++P)I[S++]=P;h.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},h.prototype.revert=function(t){return t},h.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},h.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},h.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},f.prototype.convert=function(t){var e=s();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(o.ZERO)>0&&this.m.subTo(e,e),e},f.prototype.revert=function(t){var e=s();return t.copyTo(e),this.reduce(e),e},f.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},f.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},f.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},o.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},o.prototype.fromInt=function(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+this.DV:this.t=0},o.prototype.fromString=function(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return void this.fromRadix(t,e);n=2}this.t=0,this.s=0;for(var r=t.length,i=!1,s=0;--r>=0;){var a=8==n?255&t[r]:u(t,r);0>a?"-"==t.charAt(r)&&(i=!0):(i=!1,0==s?this[this.t++]=a:s+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-s)-1)<<s,this[this.t++]=a>>this.DB-s):this[this.t-1]|=a<<s,(s+=n)>=this.DB&&(s-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,s>0&&(this[this.t-1]|=(1<<this.DB-s)-1<<s)),this.clamp(),i&&o.ZERO.subTo(this,this)},o.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},o.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},o.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},o.prototype.lShiftTo=function(t,e){var n,r=t%this.DB,i=this.DB-r,o=(1<<i)-1,s=Math.floor(t/this.DB),a=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>i|a,a=(this[n]&o)<<r;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()},o.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,o=(1<<r)-1;e[0]=this[n]>>r;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<i,e[s-n]=this[s]>>r;r>0&&(e[this.t-n-1]|=(this.s&o)<<i),e.t=this.t-n,e.clamp()}},o.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);i>n;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=0>r?-1:0,-1>r?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},o.prototype.multiplyTo=function(t,e){var n=this.abs(),r=t.abs(),i=n.t;for(e.t=i+r.t;--i>=0;)e[i]=0;for(i=0;i<r.t;++i)e[i+n.t]=n.am(0,r[i],e,i,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&o.ZERO.subTo(e,e)},o.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},o.prototype.divRemTo=function(t,e,n){var r=t.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=e&&e.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=s());var a=s(),u=this.s,l=t.s,h=this.DB-c(r[r.t-1]);h>0?(r.lShiftTo(h,a),i.lShiftTo(h,n)):(r.copyTo(a),i.copyTo(n));var f=a.t,p=a[f-1];if(0!=p){var d=p*(1<<this.F1)+(f>1?a[f-2]>>this.F2:0),y=this.FV/d,g=(1<<this.F1)/d,m=1<<this.F2,v=n.t,_=v-f,b=null==e?s():e;for(a.dlShiftTo(_,b),n.compareTo(b)>=0&&(n[n.t++]=1,n.subTo(b,n)),o.ONE.dlShiftTo(f,b),b.subTo(a,a);a.t<f;)a[a.t++]=0;for(;--_>=0;){var x=n[--v]==p?this.DM:Math.floor(n[v]*y+(n[v-1]+m)*g);if((n[v]+=a.am(0,x,n,_,0,f))<x)for(a.dlShiftTo(_,b),n.subTo(b,n);n[v]<--x;)n.subTo(b,n)}null!=e&&(n.drShiftTo(f,e),u!=l&&o.ZERO.subTo(e,e)),n.t=f,n.clamp(),h>0&&n.rShiftTo(h,n),0>u&&o.ZERO.subTo(n,n)}}},o.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},o.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},o.prototype.exp=function(t,e){if(t>4294967295||1>t)return o.ONE;var n=s(),r=s(),i=e.convert(this),a=c(t)-1;for(i.copyTo(n);--a>=0;)if(e.sqrTo(n,r),(t&1<<a)>0)e.mulTo(r,i,n);else{var u=n;n=r,r=u}return e.revert(n)},o.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,r=(1<<e)-1,i=!1,o="",s=this.t,u=this.DB-s*this.DB%e;if(s-- >0)for(u<this.DB&&(n=this[s]>>u)>0&&(i=!0,o=a(n));s>=0;)e>u?(n=(this[s]&(1<<u)-1)<<e-u,n|=this[--s]>>(u+=this.DB-e)):(n=this[s]>>(u-=e)&r,0>=u&&(u+=this.DB,--s)),n>0&&(i=!0),i&&(o+=a(n));return i?o:"0"},o.prototype.negate=function(){var t=s();return o.ZERO.subTo(this,t),t},o.prototype.abs=function(){return this.s<0?this.negate():this},o.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},o.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+c(this[this.t-1]^this.s&this.DM)},o.prototype.mod=function(t){var e=s();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(o.ZERO)>0&&t.subTo(e,e),e},o.prototype.modPowInt=function(t,e){var n;return n=256>t||e.isEven()?new h(e):new f(e),this.exp(t,n)},o.ZERO=l(0),o.ONE=l(1),_.prototype.convert=b,_.prototype.revert=b,_.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},_.prototype.sqrTo=function(t,e){t.squareTo(e)},x.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=s();return t.copyTo(e),this.reduce(e),e},x.prototype.revert=function(t){return t},x.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},x.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},x.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)};var M,O,T,L,N,A,R,D=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],k=(1<<26)/D[D.length-1];o.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},o.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||2>t||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=l(n),i=s(),o=s(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(t).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(t)+a},o.prototype.fromRadix=function(t,e){this.fromInt(0),null==e&&(e=10);for(var n=this.chunkSize(e),r=Math.pow(e,n),i=!1,s=0,a=0,l=0;l<t.length;++l){var c=u(t,l);0>c?"-"==t.charAt(l)&&0==this.signum()&&(i=!0):(a=e*a+c,++s>=n&&(this.dMultiply(r),this.dAddOffset(a,0),s=0,a=0))}s>0&&(this.dMultiply(Math.pow(e,s)),this.dAddOffset(a,0)),i&&o.ZERO.subTo(this,this)},o.prototype.fromNumber=function(t,e,n){if("number"==typeof e)if(2>t)this.fromInt(1);else for(this.fromNumber(t,n),this.testBit(t-1)||this.bitwiseTo(o.ONE.shiftLeft(t-1),d,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(e);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(o.ONE.shiftLeft(t-1),this);else{var r=new Array,i=7&t;r.length=1+(t>>3),e.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},o.prototype.bitwiseTo=function(t,e,n){var r,i,o=Math.min(t.t,this.t);for(r=0;o>r;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=o;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},o.prototype.changeBit=function(t,e){var n=o.ONE.shiftLeft(t);return this.bitwiseTo(n,e,n),n},o.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);i>n;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=0>r?-1:0,r>0?e[n++]=r:-1>r&&(e[n++]=this.DV+r),e.t=n,e.clamp()},o.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},o.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},o.prototype.multiplyLowerTo=function(t,e,n){var r,i=Math.min(this.t+t.t,e);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;r>i;++i)n[i+this.t]=this.am(0,t[i],n,i,0,this.t);for(r=Math.min(t.t,e);r>i;++i)this.am(0,t[i],n,i,0,e-i);n.clamp()},o.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},o.prototype.modInt=function(t){if(0>=t)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},o.prototype.millerRabin=function(t){var e=this.subtract(o.ONE),n=e.getLowestSetBit();if(0>=n)return!1;var r=e.shiftRight(n);(t=t+1>>1)>D.length&&(t=D.length);for(var i=s(),a=0;t>a;++a){i.fromInt(D[Math.floor(Math.random()*D.length)]);var u=i.modPow(r,this);if(0!=u.compareTo(o.ONE)&&0!=u.compareTo(e)){for(var l=1;l++<n&&0!=u.compareTo(e);)if(0==(u=u.modPowInt(2,this)).compareTo(o.ONE))return!1;if(0!=u.compareTo(e))return!1}}return!0},o.prototype.clone=function(){var t=s();return this.copyTo(t),t},o.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},o.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},o.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},o.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},o.prototype.toByteArray=function(){var t=this.t,e=new Array;e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)8>r?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,0>=r&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},o.prototype.equals=function(t){return 0==this.compareTo(t)},o.prototype.min=function(t){return this.compareTo(t)<0?this:t},o.prototype.max=function(t){return this.compareTo(t)>0?this:t},o.prototype.and=function(t){var e=s();return this.bitwiseTo(t,p,e),e},o.prototype.or=function(t){var e=s();return this.bitwiseTo(t,d,e),e},o.prototype.xor=function(t){var e=s();return this.bitwiseTo(t,y,e),e},o.prototype.andNot=function(t){var e=s();return this.bitwiseTo(t,g,e),e},o.prototype.not=function(){for(var t=s(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},o.prototype.shiftLeft=function(t){var e=s();return 0>t?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},o.prototype.shiftRight=function(t){var e=s();return 0>t?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},o.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+m(this[t]);return this.s<0?this.t*this.DB:-1},o.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=v(this[n]^e);return t},o.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},o.prototype.setBit=function(t){return this.changeBit(t,d)},o.prototype.clearBit=function(t){return this.changeBit(t,g)},o.prototype.flipBit=function(t){return this.changeBit(t,y)},o.prototype.add=function(t){var e=s();return this.addTo(t,e),e},o.prototype.subtract=function(t){var e=s();return this.subTo(t,e),e},o.prototype.multiply=function(t){var e=s();return this.multiplyTo(t,e),e},o.prototype.divide=function(t){var e=s();return this.divRemTo(t,e,null),e},o.prototype.remainder=function(t){var e=s();return this.divRemTo(t,null,e),e},o.prototype.divideAndRemainder=function(t){var e=s(),n=s();return this.divRemTo(t,e,n),new Array(e,n)},o.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),o=l(1);if(0>=i)return o;n=18>i?1:48>i?3:144>i?4:768>i?5:6,r=8>i?new h(e):e.isEven()?new x(e):new f(e);var a=new Array,u=3,p=n-1,d=(1<<n)-1;if(a[1]=r.convert(this),n>1){var y=s();for(r.sqrTo(a[1],y);d>=u;)a[u]=s(),r.mulTo(y,a[u-2],a[u]),u+=2}var g,m,v=t.t-1,_=!0,b=s();for(i=c(t[v])-1;v>=0;){for(i>=p?g=t[v]>>i-p&d:(g=(t[v]&(1<<i+1)-1)<<p-i,v>0&&(g|=t[v-1]>>this.DB+i-p)),u=n;0==(1&g);)g>>=1,--u;if((i-=u)<0&&(i+=this.DB,--v),_)a[g].copyTo(o),_=!1;else{for(;u>1;)r.sqrTo(o,b),r.sqrTo(b,o),u-=2;u>0?r.sqrTo(o,b):(m=o,o=b,b=m),r.mulTo(b,a[g],o)}for(;v>=0&&0==(t[v]&1<<i);)r.sqrTo(o,b),m=o,o=b,b=m,--i<0&&(i=this.DB-1,--v)}return r.revert(o)},o.prototype.modInverse=function(t){var e=t.isEven();if(this.isEven()&&e||0==t.signum())return o.ZERO;for(var n=t.clone(),r=this.clone(),i=l(1),s=l(0),a=l(0),u=l(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),e?(i.isEven()&&s.isEven()||(i.addTo(this,i),s.subTo(t,s)),i.rShiftTo(1,i)):s.isEven()||s.subTo(t,s),s.rShiftTo(1,s);for(;r.isEven();)r.rShiftTo(1,r),e?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);n.compareTo(r)>=0?(n.subTo(r,n),e&&i.subTo(a,i),s.subTo(u,s)):(r.subTo(n,r),e&&a.subTo(i,a),u.subTo(s,u))}return 0!=r.compareTo(o.ONE)?o.ZERO:u.compareTo(t)>=0?u.subtract(t):u.signum()<0?(u.addTo(t,u),u.signum()<0?u.add(t):u):u},o.prototype.pow=function(t){return this.exp(t,new _)},o.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),o=n.getLowestSetBit();if(0>o)return e;for(o>i&&(o=i),o>0&&(e.rShiftTo(o,e),n.rShiftTo(o,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},o.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=D[D.length-1]){for(e=0;e<D.length;++e)if(n[0]==D[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<D.length;){for(var r=D[e],i=e+1;i<D.length&&k>r;)r*=D[i++];for(r=n.modInt(r);i>e;)if(r%D[e++]==0)return!1}return n.millerRabin(t)},o.prototype.square=function(){var t=s();return this.squareTo(t),t},O=(M=i).lib,T=O.WordArray,L=O.Hasher,N=M.algo,A=[],R=N.SM3=L.extend({_doReset:function(){this._hash=new T.init([1937774191,1226093241,388252375,3666478592,2842636476,372324522,3817729613,2969243214])},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],a=n[4],u=0;80>u;u++){if(16>u)A[u]=0|t[e+u];else{var l=A[u-3]^A[u-8]^A[u-14]^A[u-16];A[u]=l<<1|l>>>31}var c=(r<<5|r>>>27)+a+A[u];c+=20>u?1518500249+(i&o|~i&s):40>u?1859775393+(i^o^s):60>u?(i&o|i&s|o&s)-1894007588:(i^o^s)-899497514,a=s,s=o,o=i<<30|i>>>2,i=r,r=c}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+a|0},_doFinalize:function(){var t=this._data,e=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;return e[r>>>5]|=128<<24-r%32,e[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),e[15+(r+64>>>9<<4)]=n,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=L.clone.call(this);return t._hash=this._hash.clone(),t}}),M.SM3=L._createHelper(R),M.HmacSM3=L._createHmacHelper(R),w.prototype={Init:function(){this.xBuf=new Array(4),this.Reset()},InitDigest:function(t){this.xBuf=new Array(t.xBuf.length),Array.Copy(t.xBuf,0,this.xBuf,0,t.xBuf.length),this.xBufOff=t.xBufOff,this.byteCount=t.byteCount,Array.Copy(t.X,0,this.X,0,t.X.length),this.xOff=t.xOff,Array.Copy(t.v,0,this.v,0,t.v.length)},GetDigestSize:function(){return this.DIGEST_LENGTH},Reset:function(){this.byteCount=0,this.xBufOff=0,Array.Clear(this.xBuf,0,this.xBuf.length),Array.Copy(this.v0,0,this.v,0,this.v0.length),this.xOff=0,Array.Copy(this.X0,0,this.X,0,this.X0.length)},GetByteLength:function(){return this.BYTE_LENGTH},ProcessBlock:function(){var t,e=this.X,n=new Array(64);for(t=16;68>t;t++)e[t]=this.P1(e[t-16]^e[t-9]^E(e[t-3],15))^E(e[t-13],7)^e[t-6];for(t=0;64>t;t++)n[t]=e[t]^e[t+4];var r,i,o,s,a,u=this.v,l=this.v_;for(Array.Copy(u,0,l,0,this.v0.length),t=0;16>t;t++)r=(a=E(l[0],12))+l[4]+E(this.T_00_15,t),i=(r=E(r,7))^a,o=this.FF_00_15(l[0],l[1],l[2])+l[3]+i+n[t],s=this.GG_00_15(l[4],l[5],l[6])+l[7]+r+e[t],l[3]=l[2],l[2]=E(l[1],9),l[1]=l[0],l[0]=o,l[7]=l[6],l[6]=E(l[5],19),l[5]=l[4],l[4]=this.P0(s);for(t=16;64>t;t++)r=(a=E(l[0],12))+l[4]+E(this.T_16_63,t),i=(r=E(r,7))^a,o=this.FF_16_63(l[0],l[1],l[2])+l[3]+i+n[t],s=this.GG_16_63(l[4],l[5],l[6])+l[7]+r+e[t],l[3]=l[2],l[2]=E(l[1],9),l[1]=l[0],l[0]=o,l[7]=l[6],l[6]=E(l[5],19),l[5]=l[4],l[4]=this.P0(s);for(t=0;8>t;t++)u[t]^=l[t];this.xOff=0,Array.Copy(this.X0,0,this.X,0,this.X0.length)},ProcessWord:function(t,e){var n=t[e]<<24;n|=(255&t[++e])<<16,n|=(255&t[++e])<<8,n|=255&t[++e],this.X[this.xOff]=n,16==++this.xOff&&this.ProcessBlock()},ProcessLength:function(t){this.xOff>14&&this.ProcessBlock(),this.X[14]=this.URShiftLong(t,32),this.X[15]=4294967295&t},IntToBigEndian:function(t,e,n){e[n]=t>>>24&255,e[++n]=t>>>16&255,e[++n]=t>>>8&255,e[++n]=255&t},DoFinal:function(t,e){this.Finish();for(var n=0;8>n;n++)this.IntToBigEndian(this.v[n],t,e+4*n);return this.Reset(),this.DIGEST_LENGTH},Update:function(t){this.xBuf[this.xBufOff++]=t,this.xBufOff==this.xBuf.length&&(this.ProcessWord(this.xBuf,0),this.xBufOff=0),this.byteCount++},BlockUpdate:function(t,e,n){for(;0!=this.xBufOff&&n>0;)this.Update(t[e]),e++,n--;for(;n>this.xBuf.length;)this.ProcessWord(t,e),e+=this.xBuf.length,n-=this.xBuf.length,this.byteCount+=this.xBuf.length;for(;n>0;)this.Update(t[e]),e++,n--},Finish:function(){var t=this.byteCount<<3;for(this.Update(128);0!=this.xBufOff;)this.Update(0);this.ProcessLength(t),this.ProcessBlock()},ROTATE:function(t,e){return t<<e|this.URShift(t,32-e)},P0:function(t){return t^E(t,9)^E(t,17)},P1:function(t){return t^E(t,15)^E(t,23)},FF_00_15:function(t,e,n){return t^e^n},FF_16_63:function(t,e,n){return t&e|t&n|e&n},GG_00_15:function(t,e,n){return t^e^n},GG_16_63:function(t,e,n){return t&e|~t&n},URShift:function(t,e){return console.error(t),(t>Int32.maxValue||t<Int32.minValue)&&(console.error(t),t=function(t){if(t>2147483647||-2147483648>t){var e=4294967295&t;return e>2147483647?(e=2147483647&t,-(1+(e^=2147483647))):e}return t}(t)),t>=0?t>>e:(t>>e)+(2<<~e)},URShiftLong:function(t,e){var n,r=new o;if(r.fromInt(t),r.signum()>=0)n=r.shiftRight(e).intValue();else{var i=new o;i.fromInt(2);var s=~e,a="";if(0>s){for(var u=64+s,l=0;u>l;l++)a+="0";var c=new o;c.fromInt(t>>e);var h=new o("10"+a,2);a=h.toRadix(10),n=h.add(c).toRadix(10)}else n=(t>>e)+(a=i.shiftLeft(~e).intValue())}return n},GetZ:function(t,e){var n=i.enc.Utf8.parse("1234567812345679"),r=4*n.words.length*8;this.Update(r>>8&255),this.Update(255&r);var o=this.GetWords(n.toString());this.BlockUpdate(o,0,o.length);var s=this.GetWords(t.curve.a.toBigInteger().toRadix(16)),a=this.GetWords(t.curve.b.toBigInteger().toRadix(16)),u=this.GetWords(t.getX().toBigInteger().toRadix(16)),l=this.GetWords(t.getY().toBigInteger().toRadix(16)),c=this.GetWords(e.substr(0,64)),h=this.GetWords(e.substr(64,64));this.BlockUpdate(s,0,s.length),this.BlockUpdate(a,0,a.length),this.BlockUpdate(u,0,u.length),this.BlockUpdate(l,0,l.length),this.BlockUpdate(c,0,c.length),this.BlockUpdate(h,0,h.length);var f=new Array(this.GetDigestSize());return this.DoFinal(f,0),f},GetWords:function(t){for(var e=[],n=t.length,r=0;n>r;r+=2)e[e.length]=parseInt(t.substr(r,2),16);return e},GetHex:function(t){for(var e=[],n=0,r=0;r<2*t.length;r+=2)e[r>>>3]|=parseInt(t[n])<<24-r%8*4,n++;return new i.lib.WordArray.init(e,t.length)},ComputeHash:function(t){if(!t)return null;var e=this.GetWords(i.enc.Utf8.parse(t).toString());this.BlockUpdate(e,0,e.length);var n=new Array(this.GetDigestSize());return this.DoFinal(n,0),this.GetHex(n)}},Array.Clear=function(t,e,n){for(var r in t)t[r]=null},Array.Copy=function(t,e,n,r,i){for(var o=t.slice(e,e+i),s=0;s<o.length;s++)n[r]=o[s],r++},window.Int32={minValue:-parseInt("10000000000000000000000000000000",2),maxValue:parseInt("1111111111111111111111111111111",2),parse:function(t){if(t<this.minValue){for(var e=(i=new Number(-t).toString(2)).substr(i.length-31,31),n="",r=0;r<e.length;r++)n+="0"==e.substr(r,1)?"1":"0";return parseInt(n,2)+1}if(t>this.maxValue){var i;for(e=(i=Number(t).toString(2)).substr(i.length-31,31),n="",r=0;r<e.length;r++)n+="0"==e.substr(r,1)?"1":"0";return-(parseInt(n,2)+1)}return t},parseByte:function(t){if(t>255)return 255&t;if(-256>t){var e=255&t;return 1+(e^=255)}return t}},t.exports=function(t){return(new w).ComputeHash(t).toString()}},953:function(t,e,n){function r(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var o=n(885),s=[214,144,233,254,204,225,61,183,22,182,20,194,40,251,44,5,43,103,154,118,42,190,4,195,170,68,19,38,73,134,6,153,156,66,80,244,145,239,152,122,51,84,11,67,237,207,172,98,228,179,28,169,201,8,232,149,128,223,148,250,117,143,63,166,71,7,167,252,243,115,23,186,131,89,60,25,230,133,79,168,104,107,129,178,113,100,218,139,248,235,15,75,112,86,157,53,30,36,14,94,99,88,209,162,37,34,124,59,1,33,120,135,212,0,70,87,159,211,39,82,76,54,2,231,160,196,200,158,234,191,138,210,64,199,56,181,163,247,242,206,249,97,21,161,224,174,93,164,155,52,26,85,173,147,50,48,245,140,177,227,29,246,226,46,130,102,202,96,192,41,35,171,13,83,78,111,213,219,55,69,222,253,142,47,3,255,106,114,109,108,91,81,141,27,175,146,187,221,188,127,17,217,92,65,31,16,90,216,10,193,49,136,165,205,123,189,45,116,208,18,184,229,180,176,137,105,151,74,12,150,119,126,101,185,241,9,197,110,198,132,24,240,125,236,58,220,77,32,121,238,95,62,215,203,57,72],a=[462357,472066609,943670861,1415275113,1886879365,2358483617,2830087869,3301692121,3773296373,4228057617,404694573,876298825,1347903077,1819507329,2291111581,2762715833,3234320085,3705924337,4177462797,337322537,808926789,1280531041,1752135293,2223739545,2695343797,3166948049,3638552301,4110090761,269950501,741554753,1213159005,1684763257],u=[2746333894,1453994832,1736282519,2993693404],l=function(t){return/string/gi.test(Object.prototype.toString.call(t))||(t=JSON.stringify(t)),unescape(encodeURIComponent(t)).split("").map((function(t){return t.charCodeAt()}))},c=function(t,e){return t<<e|t>>>32-e},h=function(t){return s[t>>>24&255]<<24|s[t>>>16&255]<<16|s[t>>>8&255]<<8|s[255&t]},f=function(t){var e,n,r=[],i=[t[0]<<24|t[1]<<16|t[2]<<8|t[3],t[4]<<24|t[5]<<16|t[6]<<8|t[7],t[8]<<24|t[9]<<16|t[10]<<8|t[11],t[12]<<24|t[13]<<16|t[14]<<8|t[15]],o=new Array(36);o[0]=i[0]^u[0],o[1]=i[1]^u[1],o[2]=i[2]^u[2],o[3]=i[3]^u[3];for(var s=0;s<32;s++)o[s+4]=o[s]^(e=o[s+1]^o[s+2]^o[s+3]^a[s],(n=h(e))^c(n,13)^c(n,23)),r[s]=o[s+4];return r},p=16,d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],t[e+4]<<24|t[e+5]<<16|t[e+6]<<8|t[e+7],t[e+8]<<24|t[e+9]<<16|t[e+10]<<8|t[e+11],t[e+12]<<24|t[e+13]<<16|t[e+14]<<8|t[e+15]];return n},y=function(t,e){var n,r,i=new Array(36);t.forEach((function(t,e){return i[e]=t}));for(var o=0;o<32;o++)i[o+4]=i[o]^(n=i[o+1]^i[o+2]^i[o+3]^e[o],(r=h(n))^c(r,2)^c(r,10)^c(r,18)^c(r,24));return[i[35],i[34],i[33],i[32]]},g=function(t){if(null===t)return null;var e=p-t.length%p,n=new Array(t.length+e);return t.forEach((function(t,e){return n[e]=t})),n.fill(e,t.length),n},m=function(t){if(null===t)return null;var e=t[t.length-1];return t.slice(0,t.length-e)},v=function(t,e){return!(!e||16!=e.length)||(console.error("".concat(t," should be a 16 bytes string.")),!1)},_={encryptECB:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"base64",r=f(l(e)),i=l(t),s=g(i),a=s.length/p,u=[],c=0;c<a;c++)for(var h=c*p,m=d(s,h),v=y(m,r),_=0;_<p;_++)u[h+_]=v[parseInt(_/4)]>>(3-_)%4*8&255;return"base64"===n?o.fromByteArray(u):decodeURIComponent(escape(String.fromCharCode.apply(String,u)))},decryptECB:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"base64",i=f(l(e)).reverse(),s=null,a=(s="base64"===n?o.toByteArray(t):l(t)).length/p,u=[],c=0;c<a;c++)for(var h=c*p,g=d(s,h),v=y(g,i),_=0;_<p;_++)u[h+_]=v[parseInt(_/4)]>>(3-_)%4*8&255;var b=m(u);return decodeURIComponent(escape(String.fromCharCode.apply(String,r(b))))},encryptCBC:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"base64";if(v("iv",n)||v("key",e)){for(var i=f(l(e)),s=l(t),a=g(s),u=a.length/p,c=[],h=d(l(n)),m=0;m<u;m++){var _=m*p,b=d(a,_);h[0]=h[0]^b[0],h[1]=h[1]^b[1],h[2]=h[2]^b[2],h[3]=h[3]^b[3];var x=y(h,i);h=x;for(var w=0;w<p;w++)c[_+w]=x[parseInt(w/4)]>>(3-w)%4*8&255}return"base64"===r?o.fromByteArray(c):decodeURIComponent(escape(String.fromCharCode.apply(String,c)))}},decryptCBC:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"base64";if(v("iv",n)||v("key",e)){for(var s=null,a=f(l(e)).reverse(),u=(s="base64"===i?o.toByteArray(t):l(t)).length/p,c=[],h=d(l(n)),g=0;g<u;g++){var _=g*p,b=d(s,_),x=y(b,a),w=[h[0]^x[0],h[1]^x[1],h[2]^x[2],h[3]^x[3]];h=b;for(var E=0;E<p;E++)c[_+E]=w[parseInt(E/4)]>>(3-E)%4*8&255}var S=m(c);return decodeURIComponent(escape(String.fromCharCode.apply(String,r(S))))}}};t.exports=_}},__webpack_module_cache__={};function __nested_webpack_require_231211__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__nested_webpack_require_231211__),n.exports}var __webpack_exports__=__nested_webpack_require_231211__(579);return __webpack_exports__}()},"object"==_typeof(exports)&&"object"==_typeof(module)?module.exports=r():(__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=r)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))},5595:(t,e,n)=>{var r,i,o,s;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t=n.nmd(t),window,s=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==a(t)&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=67)}([function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){"use strict";var e=function(){try{return"x"in Object.defineProperty({},"x",{})}catch(t){return!1}}(),n=Object.defineProperties;return e&&t(n)||(n=function(t){return t}),n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){return void 0!==t}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(1),n(0)],void 0===(i=function(t,e){"use strict";var n=function(e,n){this._x=t(e)?e:0,this._y=t(n)?n:0};return e(n.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t}},y:{get:function(){return this._y},set:function(t){this._y=t}}}),n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(8),n(9),n(38),n(4)],void 0===(i=function(t,e,n,r,i){"use strict";var o=function(){e.call(this),this._fillStyle=r.FILL_EMPTY,this._fillColor=void 0};return t(o.prototype=Object.create(e.prototype),{fillStyle:{get:function(){return this._fillStyle},set:function(t){this._fillStyle=t}},fillColor:{get:function(){return this._fillColor},set:function(t){t=i.fixColorToRGBA(t),this._fillColor=t}}}),o.prototype.serializationHeader2=function(t){this.serializationCell(t)},o.prototype.serialization=function(t){this.serializationCell(t)},o.prototype.serialization2=function(t){this.serializationHeader(t)},o.prototype.serializationCell=function(t){this.serializationHeader(t),this.fillStyle=t.getUint32(this.position,!0),this.updatePosition(4),this.fillColor=t.getUint32(this.position,!0),this.updatePosition(4)},o.prototype.prepareBrushHeader=function(t){t=(t=i.fixColorToRGBA(t))||-1,this.fillStyle!==r.FILL_EMPTY&&this.fillColor&&(t<0||this.colorLocked||"rgb(255,255,255)"==String(this.fillColor)||"rgba(255,255,255,1)"==String(this.fillColor)?this.brushStyle.color=i.fixColorToRGBA(this.fillColor):this.brushStyle.color=this.lineStyle.color,(this.fillStyle=r.FILL_SOLID)?this.brushStyle.style=n.STYLE_SOLID:(this.brushStyle.style=n.STYLE_HATCHED,this.brushStyle.hatched=this.fillStyle))},o.prototype.cellFillStyle=function(t,e){if(this.fillStyle===r.FILL_EMPTY)t.fillStyle="rgba(0,0,0,0)",e();else if(this.fillStyle===r.FILL_SOLID)-1===this.fillColor?t.fillStyle="rgba(0,0,0,0)":t.fillStyle=this.brushStyle.colorRGBA,e();else{var n,i=new Image;switch(i.onload=function(){n=t.createPattern(i,"repeat"),t.fillStyle=n,e(n)},this.fillStyle){case r.FILL_HS_VERTICAL:i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAEklEQVR42mNgIA78ZxhVSF+FADnECfcIwHeYAAAAAElFTkSuQmCC";break;case r.FILL_HS_HORIZONTAL:i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAEElEQVR42mNgGAV0B/+JwQC+3An3dc4tsQAAAABJRU5ErkJggg==";break;case r.FILL_HS_CROSS:i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAFUlEQVR42mNgIA78ZxhVSDWF/4nBAPYHEu7oyP2iAAAAAElFTkSuQmCC";break;case r.FILL_HS_BDIAGONAL:i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAEUlEQVR42mNgIA78H1VEZ0UA7RAJ9w0UEO0AAAAASUVORK5CYII=";break;case r.FILL_HS_FDIAGONAL:i.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAFElEQVR42mNgYGD4z0ACGFVMJ8UA7RAJ97b9jwIAAAAASUVORK5CYII="}}},o}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return{fixColorToRGBA:function(t){return"number"==typeof t?t<0?t:this.colorTenToRGBA(t):"rgba"===String(t).substr(0,4).toLowerCase()?t:"0x"===String(t).substr(0,2)?[1,2,5,7].indexOf(String(t).length-2)>-1?(console.log("color value invalid"),null):this.colorHexToRgba("#"+t.substr(2)):"#"===String(t).substr(0,1)?this.colorHexToRgba(t):"rgb"===String(t).substr(0,3).toLowerCase()?t:"argb"===String(t).substr(0,4).toLowerCase()?(console.error("argb not supported"),null):null},colorTenToRGBA:function(t){var e=t>>24&255;return 255==e&&(e=0),"rgba("+(255&t)+","+(t>>8&255)+","+(t>>16&255)+","+(e=(100-e)/100)+")"},rgbaStrToHex:function(t){for(var e=t.match(/[0-9]{0,3}/g),n=e.length-1;n>=0;n--)""===e[n]&&e.splice(n,1);3==e.length&&e.push("1"),5==e.length&&(e[3]=e[3]+"."+e[4],e.pop());var r=Number(e[0]).toString(16);r=2==r.length?r:"0"+r;var i=Number(e[1]).toString(16);i=2==i.length?i:"0"+i;var o=Number(e[2]).toString(16);return o=2==o.length?o:"0"+o,Number(e[3]),r+i+o+Math.floor(255*Number(e[3])).toString(16)},colorHexToRgba:function(t){var e,n,r,i;switch(t.length){case 7:e=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),r=parseInt(t.substr(5,2),16),i=1;break;case 9:e=parseInt(t.substr(1,2),16),n=parseInt(t.substr(3,2),16),r=parseInt(t.substr(5,2),16),i=parseInt(t.substr(7,2),16)/255}return"rgba("+e+","+n+","+r+","+i+")"}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){return null!=t}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){"use strict";var e=Object.freeze;return t(e)||(e=function(t){return t}),e}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){"use strict";var e=function(t){var e;this.name="DeveloperError",this.message=t;try{throw new Error}catch(t){e=t.stack}this.stack=e};return e.prototype.toString=function(){var e=this.name+": "+this.message;return t(this.stack)&&(e+="\n"+this.stack.toString()),e},e.throwInstantiationError=function(){throw new e("This function defines an interface and should not be called directly.")},e}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(0),n(7),n(15),n(37),n(57),n(4)],void 0===(i=function(t,e,n,r,i,o,s){"use strict";var a=function(){r.call(this),this._cellType=void 0,this._color=0,this._colorLocked=!1,this._lineStyle=new i,this._brushStyle=new o};return e(a.prototype=Object.create(r.prototype),{cellType:{get:function(){return this._cellType},set:function(t){this._cellType=t}},color:{get:function(){return this._color},set:function(t){t=s.fixColorToRGBA(t),this._color=t}},colorLocked:{get:function(){return(!window.EleSymbol||!window.EleSymbol.config.forceUnlockColor)&&this._colorLocked},set:function(t){this._colorLocked=t}},lineStyle:{get:function(){return this._lineStyle}},brushStyle:{get:function(){return this._brushStyle}}}),a.prototype.serializationHeader=function(t){this.cellType=t.getUint32(this.position,!0),this.updatePosition(4),this.color=t.getUint32(this.position,!0),this.updatePosition(4),this.colorLocked=1===t.getUint8(this.position),this.updatePosition(1)},a.prototype.preparePenHeader=function(e,r,i){if(!t(e))throw new n("transform is required.");r=isNaN(r)?1:r;var o=e.toScreenWidth(r);this.lineStyle.width=o<1?1:o,(i=s.fixColorToRGBA(i))<0||this.colorLocked?this.lineStyle.color=s.fixColorToRGBA(this.color):this.lineStyle.color=s.fixColorToRGBA(i)},a.prototype.preparePen=function(t){},a.prototype.prepareBrush=function(t){},a}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";return{STYLE_SOLID:0,STYLE_HATCHED:2,HATCHED_HORIZONTAL:0,HATCHED_VERTICAL:1,HATCHED_FDIAGONAL:2,HATCHED_BDIAGONAL:3,HATCHED_CROSS:4,HATCHED_DIAGCROSS:5}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(){"use strict";return{ab2str:function(t,e){var n;return"TextDecoder"in window?n=new TextDecoder(e).decode(t):(n=String.fromCharCode.apply(null,new Uint8Array(t)),n=decodeURI(n)),n},str2ab:function(t){for(var e=[],n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(2)],void 0===(i=function(t){"use strict";return{shapeMakeEllipseArc:function(e,n,r,i,o,s,a,u){var l,c=[];o=o*Math.PI/180,l=a>=s?(a-s)*Math.PI/180/u:(a-s+360)*Math.PI/180/u;var h,f,p,d=s*Math.PI/180,y=Math.PI/2,g=3*Math.PI/2;for(p=0;p<u;p++){if(d-y==0)h=0,f=i;else if(d-g==0)h=0,f=-i;else if(0===d)h=r,f=0;else if(d-Math.PI==0)h=-r,f=0;else{var m=r*i,v=r*r,_=i*i,b=Math.tan(d);d<y?(h=m/Math.sqrt(b*b*v+_),f=Math.abs(b*h)):d>y&&d<Math.PI?(h=-m/Math.sqrt(b*b*v+_),f=Math.abs(b*h)):d>Math.PI&&d<g?(h=-m/Math.sqrt(b*b*v+_),f=-Math.abs(b*h)):(h=m/Math.sqrt(b*b*v+_),f=-Math.abs(b*h))}if(0!==o){var x=Math.sqrt(h*h+f*f);h=x*Math.cos(o+d)+e,f=x*Math.sin(o+d)+n}else h+=e,f+=n;p>0&&c.push(new t(h,f)),d+=l}return c.length>2&&a-s==360&&c.push(c[0]),c},isClosed:function(t){if(t.length<=8)return!1;var e=t[0],n=t[t.length-1];return e.x===n.x&&e.y===n.y}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(0),n(2),n(55)],void 0===(i=function(t,e,n,r){"use strict";var i=function(e,n,r,i){this._centerX=t(e)?e:0,this._centerY=t(n)?n:0,this._scale=t(r)?r:1,this._angle=t(i)?i:0};return e(i.prototype,{centerX:{get:function(){return this._centerX},set:function(t){this._centerX=t}},centerY:{get:function(){return this._centerY},set:function(t){this._centerY=t}},scale:{get:function(){return this._scale},set:function(t){this._scale=t}},angle:{get:function(){return this._angle},set:function(t){this._angle=t}}}),i.prototype.toScreenWidth=function(t){return r.mmToPixel(t)*this.scale},i.prototype.toScreenPoint=function(t){var e,r,i,o,s,a;return e=this.toScreenWidth(t.x),r=this.toScreenWidth(t.y),0===this.angle?(i=e+this.centerX,o=-r+this.centerY):(s=Math.sqrt(e*e+r*r),a=Math.atan2(r,e)-this.angle,i=s*Math.cos(a)+this.centerX,o=-s*Math.sin(a)+this.centerY),new n(i,o)},i}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(0),n(10)],void 0===(i=function(t,e,n){"use strict";var r=function(){this._symbolType="",this._symbolCode=NaN,this._symbolName="",this._drawMode=NaN,this._position=0};return e(r.prototype,{symbolType:{get:function(){return this._symbolType},set:function(e){if(!t(e))throw new DeveloperError("type is required.");e!==this._symbolType&&(this._symbolType=e)}},symbolCode:{get:function(){return this._symbolCode},set:function(e){if(!t(e))throw new DeveloperError("code is required.");e!==this._symbolCode&&(this._symbolCode=e)}},symbolName:{get:function(){return this._symbolName},set:function(e){if(!t(e))throw new DeveloperError("name is required.");e!==this._symbolName&&(this._symbolName=e)}},drawMode:{get:function(){return this._drawMode},set:function(e){if(!t(e))throw new DeveloperError("drawMode is required.");e!==this._drawMode&&(this._drawMode=e)}},position:{get:function(){return this._position},set:function(t){this._position=t}}}),r.prototype.serializationHeader=function(t){this.symbolType=t.getUint32(this.position,!0),this.updatePosition(4),this.symbolCode=t.getUint32(this.position,!0),this.updatePosition(4);var e=t.getUint32(this.position,!0);if(this.updatePosition(4),e>0){var r=t.buffer.slice(this.position,e+this.position);this.symbolName=n.ab2str(r,"gbk")}this.updatePosition(e),this.drawMode=t.getUint32(this.position,!0),this.updatePosition(4)},r.prototype.serialization=function(t){},r.prototype.draw=function(t,e,n,r){},r.prototype.getSize=function(){return NaN},r.prototype.getScreenSize=function(){return null},r.prototype.updatePosition=function(t){this.position+=t},r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(8),n(2),n(11)],void 0===(i=function(t,e,n,r){"use strict";var i=function(){e.call(this),this._width=0,this._angle=0,this._startAngle=0,this._endAngle=0,this._longAxis=0,this._shortAxis=0,this._offsetX=0,this._offsetY=0};return t(i.prototype=Object.create(e.prototype),{width:{get:function(){return this._width},set:function(t){this._width=t}},angle:{get:function(){return this._angle},set:function(t){this._angle=t}},startAngle:{get:function(){return this._startAngle},set:function(t){this._startAngle=t}},endAngle:{get:function(){return this._endAngle},set:function(t){this._endAngle=t}},longAxis:{get:function(){return this._longAxis},set:function(t){this._longAxis=t}},shortAxis:{get:function(){return this._shortAxis},set:function(t){this._shortAxis=t}},offsetX:{get:function(){return this._offsetX},set:function(t){this._offsetX=t}},offsetY:{get:function(){return this._offsetY},set:function(t){this._offsetY=t}}}),i.prototype.serialization=function(t){this.serializationHeader(t),this.width=t.getFloat64(this.position,!0),this.updatePosition(8),this.angle=t.getFloat64(this.position,!0),this.updatePosition(8),this.startAngle=t.getFloat64(this.position,!0),this.updatePosition(8),this.endAngle=t.getFloat64(this.position,!0),this.updatePosition(8),this.longAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.shortAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.offsetX=t.getFloat64(this.position,!0),this.updatePosition(8),this.offsetY=t.getFloat64(this.position,!0),this.updatePosition(8)},i.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this.width,n)},i.prototype.draw=function(t,e){t.save(),t.beginPath();var i,o,s,a=e.toScreenPoint(new n(this.offsetX,this.offsetY)),u=e.toScreenWidth(this.longAxis),l=e.toScreenWidth(this.shortAxis),c=0;for((i=Math.round(4*u))%2==0&&(i+=1),i=i>120?120:i,o=r.shapeMakeEllipseArc(a.x,a.y,u,l,360-this.angle+180*e.angle/Math.PI,360-this.endAngle,360-this.startAngle,i);c<o.length;)s=o[c],0===c?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y),c++;this.lineStyle.useExtend||(t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,t.lineCap=this.lineStyle.getCap(0)),t.stroke(),t.restore()},i}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0)],void 0===(i=function(t){"use strict";var e=function(){this._position=0};return t(e.prototype,{position:{get:function(){return this._position},set:function(t){this._position=t}}}),e.prototype.updatePosition=function(t){this.position+=t},e}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";return{SIMPLE_STYLE_SOLID:0,SIMPLE_STYLE_DASH:1,SIMPLE_STYLE_DOT:2,SIMPLE_STYLE_DASHDOT:3,SIMPLE_STYLE_DASHDOTDOT:4,SIMPLE_STYLE_NULL:5,EXT_PEN_COSMETIC:0,EXT_PEN_GEOMETRIC:65536}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(0),n(3)],void 0===(i=function(t,e){"use strict";var n=function(){e.call(this),this._longAxis=0,this._shortAxis=0,this._angle=0,this._ration=0,this._corners=0,this._interAngle=0,this._innerAngle=0,this._width=0,this._asterisType=0};return t(n.prototype=Object.create(e.prototype),{longAxis:{get:function(){return this._longAxis},set:function(t){this._longAxis=t}},shortAxis:{get:function(){return this._shortAxis},set:function(t){this._shortAxis=t}},angle:{get:function(){return this._angle},set:function(t){this._angle=t}},ration:{get:function(){return this._ration},set:function(t){this._ration=t}},corners:{get:function(){return this._corners},set:function(t){this._corners=t}},interAngle:{get:function(){return this._interAngle},set:function(t){this._interAngle=t}},innerAngle:{get:function(){return this._innerAngle},set:function(t){this._innerAngle=t}},width:{get:function(){return this._width},set:function(t){this._width=t}},asterisType:{get:function(){return this._asterisType},set:function(t){this._asterisType=t}}}),n.prototype.serialization=function(t){this.serializationHeader2(t),this.longAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.shortAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.angle=t.getFloat64(this.position,!0),this.updatePosition(8),this.ration=t.getFloat64(this.position,!0),this.updatePosition(8),this.corners=t.getUint32(this.position,!0),this.updatePosition(4),this.interAngle=t.getFloat64(this.position,!0),this.updatePosition(8),this.innerAngle=t.getFloat64(this.position,!0),this.updatePosition(8),this.width=t.getFloat64(this.position,!0),this.updatePosition(8),this.asterisType=t.getUint32(this.position,!0),this.updatePosition(4)},n.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this.width,n)},n.prototype.prepareBrush=function(t){this.prepareBrushHeader(t)},n.prototype.draw=function(t,e){t.save(),t.restore()},n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(3),n(2),n(11)],void 0===(i=function(t,e,n,r){"use strict";var i=function(){e.call(this),this._width=0,this._angle=0,this._startAngle=0,this._endAngle=0,this._longAxis=0,this._shortAxis=0,this._offsetX=0,this._offsetY=0};return t(i.prototype=Object.create(e.prototype),{width:{get:function(){return this._width},set:function(t){this._width=t}},angle:{get:function(){return this._angle},set:function(t){this._angle=t}},startAngle:{get:function(){return this._startAngle},set:function(t){this._startAngle=t}},endAngle:{get:function(){return this._endAngle},set:function(t){this._endAngle=t}},longAxis:{get:function(){return this._longAxis},set:function(t){this._longAxis=t}},shortAxis:{get:function(){return this._shortAxis},set:function(t){this._shortAxis=t}},offsetX:{get:function(){return this._offsetX},set:function(t){this._offsetX=t}},offsetY:{get:function(){return this._offsetY},set:function(t){this._offsetY=t}}}),i.prototype.serialization=function(t){this.serializationHeader2(t),this.width=t.getFloat64(this.position,!0),this.updatePosition(8),this.angle=t.getFloat64(this.position,!0),this.updatePosition(8),this.startAngle=t.getFloat64(this.position,!0),this.updatePosition(8),this.endAngle=t.getFloat64(this.position,!0),this.updatePosition(8),this.longAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.shortAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.offsetX=t.getFloat64(this.position,!0),this.updatePosition(8),this.offsetY=t.getFloat64(this.position,!0),this.updatePosition(8)},i.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this.width,n)},i.prototype.prepareBrush=function(t){this.prepareBrushHeader(t)},i.prototype.draw=function(t,e){var n=this;t.save(),t.beginPath(),this.lineStyle.useExtend||(t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,this.cellFillStyle(t,(function(r){n.drawExe(t,e)})))},i.prototype.drawExe=function(t,e){var i,o,s,a=e.toScreenPoint(new n(this.offsetX,this.offsetY)),u=e.toScreenWidth(this.longAxis),l=e.toScreenWidth(this.shortAxis),c=0;for((i=Math.round(4*u))%2==0&&(i+=1),i=i>120?120:i,o=r.shapeMakeEllipseArc(a.x,a.y,u,l,360-this.angle+180*e.angle/Math.PI,360-this.endAngle,360-this.startAngle,i),r.isClosed(o)||o.push(o[0]);c<o.length;)s=o[c],0===c?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y),c++;t.fill(),t.stroke(),t.restore()},i}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(3),n(2)],void 0===(i=function(t,e,n){"use strict";var r=function(){e.call(this),this._width=0,this._pointCount=0,this._points=[]};return t(r.prototype=Object.create(e.prototype),{width:{get:function(){return this._width},set:function(t){this._width=t}},pointCount:{get:function(){return this._pointCount},set:function(t){this._pointCount=t}},points:{get:function(){return this._points}}}),r.prototype.serialization=function(t){this.serializationHeader2(t),this._width=t.getFloat64(this.position,!0),this.updatePosition(8),this.pointCount=t.getUint32(this.position,!0),this.updatePosition(4);for(var e,r,i,o=0;o<this.pointCount;)e=t.getFloat64(this.position,!0),this.updatePosition(8),r=t.getFloat64(this.position,!0),this.updatePosition(8),i=new n(e,r),this.points.push(i),o++},r.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this.width,n)},r.prototype.prepareBrush=function(t){this.prepareBrushHeader(t)},r.prototype.draw=function(t,e){var n=this;t.save(),t.beginPath(),this.lineStyle.useExtend||(t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,this.cellFillStyle(t,(function(r){n.drawExe(t,e)})))},r.prototype.drawExe=function(t,e){var n,r,i=0,o=e.toScreenPoint(this.points[0]);for(t.moveTo(o.x,o.y);i<this.pointCount-1;)i++,n=e.toScreenPoint(this.points[i]),i++,r=e.toScreenPoint(this.points[i]),t.quadraticCurveTo(n.x,n.y,r.x,r.y);t.closePath(),t.fill(),t.stroke(),t.restore()},r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(8),n(2)],void 0===(i=function(t,e,n){"use strict";var r=function(){e.call(this),this._width=0,this._pointCount=0,this._points=[]};return t(r.prototype=Object.create(e.prototype),{width:{get:function(){return this._width},set:function(t){this._width=t}},pointCount:{get:function(){return this._pointCount},set:function(t){this._pointCount=t}},points:{get:function(){return this._points}}}),r.prototype.serialization=function(t){this.serializationHeader(t),this._width=t.getFloat64(this.position,!0),this.updatePosition(8),this.pointCount=t.getUint32(this.position,!0),this.updatePosition(4);for(var e,r,i,o=0;o<this.pointCount;)e=t.getFloat64(this.position,!0),this.updatePosition(8),r=t.getFloat64(this.position,!0),this.updatePosition(8),i=new n(e,r),this.points.push(i),o++},r.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this.width,n)},r.prototype.draw=function(t,e){t.save(),t.beginPath();var n,r,i,o=0,s=e.toScreenPoint(this.points[0]);for(t.moveTo(s.x,s.y);o<this.pointCount-1;)o++,n=e.toScreenPoint(this.points[o]),o++,r=e.toScreenPoint(this.points[o]),o++,i=e.toScreenPoint(this.points[o]),t.bezierCurveTo(n.x,n.y,r.x,r.y,i.x,i.y);this.lineStyle.useExtend||(t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,t.lineCap=this.lineStyle.getCap(0)),t.stroke(),t.restore()},r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(3),n(2),n(11)],void 0===(i=function(t,e,n,r){"use strict";var i=function(){e.call(this),this._width=0,this._offsetX=0,this._offsetY=0,this._longAxis=0,this._shortAxis=0,this._angle=0};return t(i.prototype=Object.create(e.prototype),{width:{get:function(){return this._width},set:function(t){this._width=t}},offsetX:{get:function(){return this._offsetX},set:function(t){this._offsetX=t}},offsetY:{get:function(){return this._offsetY},set:function(t){this._offsetY=t}},longAxis:{get:function(){return this._longAxis},set:function(t){this._longAxis=t}},shortAxis:{get:function(){return this._shortAxis},set:function(t){this._shortAxis=t}},angle:{get:function(){return this._angle},set:function(t){this._angle=t}}}),i.prototype.serialization=function(t){this.serializationHeader2(t),this.width=t.getFloat64(this.position,!0),this.updatePosition(8),this.offsetX=t.getFloat64(this.position,!0),this.updatePosition(8),this.offsetY=t.getFloat64(this.position,!0),this.updatePosition(8),this.longAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.shortAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.angle=t.getFloat64(this.position,!0),this.updatePosition(8)},i.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this.width,n)},i.prototype.prepareBrush=function(t){this.prepareBrushHeader(t)},i.prototype.draw=function(t,e){var n=this;t.save(),t.beginPath(),this.lineStyle.useExtend||(t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,this.cellFillStyle(t,(function(r){n.drawExe(t,e)})))},i.prototype.drawExe=function(t,e){var i,o,s,a=e.toScreenPoint(new n(this.offsetX,this.offsetY)),u=e.toScreenWidth(this.longAxis),l=e.toScreenWidth(this.shortAxis),c=0;for((i=Math.round(4*u))%2==0&&(i+=1),i=i>120?120:i,o=r.shapeMakeEllipseArc(a.x,a.y,u,l,360-this.angle+180*e.angle/Math.PI,0,360,i);c<o.length;)s=o[c],0===c?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y),c++;r.isClosed(o)&&t.fill(),t.stroke(),t.restore()},i}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(3),n(2),n(11)],void 0===(i=function(t,e,n,r){"use strict";var i=function(){e.call(this),this._width=0,this._angle=0,this._startAngle=0,this._endAngle=0,this._longAxis=0,this._shortAxis=0,this._offsetX=0,this._offsetY=0};return t(i.prototype=Object.create(e.prototype),{width:{get:function(){return this._width},set:function(t){this._width=t}},angle:{get:function(){return this._angle},set:function(t){this._angle=t}},startAngle:{get:function(){return this._startAngle},set:function(t){this._startAngle=t}},endAngle:{get:function(){return this._endAngle},set:function(t){this._endAngle=t}},longAxis:{get:function(){return this._longAxis},set:function(t){this._longAxis=t}},shortAxis:{get:function(){return this._shortAxis},set:function(t){this._shortAxis=t}},offsetX:{get:function(){return this._offsetX},set:function(t){this._offsetX=t}},offsetY:{get:function(){return this._offsetY},set:function(t){this._offsetY=t}}}),i.prototype.serialization=function(t){this.serializationHeader2(t),this.width=t.getFloat64(this.position,!0),this.updatePosition(8),this.angle=t.getFloat64(this.position,!0),this.updatePosition(8),this.startAngle=t.getFloat64(this.position,!0),this.updatePosition(8),this.endAngle=t.getFloat64(this.position,!0),this.updatePosition(8),this.longAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.shortAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.offsetX=t.getFloat64(this.position,!0),this.updatePosition(8),this.offsetY=t.getFloat64(this.position,!0),this.updatePosition(8)},i.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this.width,n)},i.prototype.prepareBrush=function(t){this.prepareBrushHeader(t)},i.prototype.draw=function(t,e){var n=this;t.save(),t.beginPath(),this.lineStyle.useExtend||(t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,this.cellFillStyle(t,(function(r){n.drawExe(t,e)})))},i.prototype.drawExe=function(t,e){var i,o,s,a=e.toScreenPoint(new n(this.offsetX,this.offsetY)),u=e.toScreenWidth(this.longAxis),l=e.toScreenWidth(this.shortAxis),c=0;for((i=Math.round(4*u))%2==0&&(i+=1),i=i>120?120:i,(o=r.shapeMakeEllipseArc(a.x,a.y,u,l,360-this.angle+180*e.angle/Math.PI,360-this.endAngle,360-this.startAngle,i)).unshift(a);c<o.length;)s=o[c],0===c?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y),c++;t.closePath(),t.fill(),t.stroke(),t.restore()},i}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(8),n(2)],void 0===(i=function(t,e,n){"use strict";var r=function(){e.call(this),this._startX=0,this._startY=0,this._endX=0,this._endY=0,this._width=0};return t(r.prototype=Object.create(e.prototype),{startX:{get:function(){return this._startX},set:function(t){this._startX=t}},startY:{get:function(){return this._startY},set:function(t){this._startY=t}},endX:{get:function(){return this._endX},set:function(t){this._endX=t}},endY:{get:function(){return this._endY},set:function(t){this._endY=t}},width:{get:function(){return this._width},set:function(t){this._width=t}}}),r.prototype.serialization=function(t){this.serializationHeader(t),this.startX=t.getFloat64(this.position,!0),this.updatePosition(8),this.startY=t.getFloat64(this.position,!0),this.updatePosition(8),this.endX=t.getFloat64(this.position,!0),this.updatePosition(8),this.endY=t.getFloat64(this.position,!0),this.updatePosition(8),this.width=t.getFloat64(this.position,!0),this.updatePosition(8)},r.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this.width,n)},r.prototype.draw=function(t,e){var r,i;r=e.toScreenPoint(new n(this.startX,this.startY)),i=e.toScreenPoint(new n(this.endX,this.endY)),t.save(),t.beginPath(),t.moveTo(r.x,r.y),t.lineTo(i.x,i.y),this.lineStyle.useExtend||(t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,t.lineCap=this.lineStyle.getCap(256)),t.stroke(),t.restore()},r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(3),n(2)],void 0===(i=function(t,e,n){"use strict";var r=function(){e.call(this),this._width=0,this._pointCount=0,this._points=[]};return t(r.prototype=Object.create(e.prototype),{width:{get:function(){return this._width},set:function(t){this._width=t}},pointCount:{get:function(){return this._pointCount},set:function(t){this._pointCount=t}},points:{get:function(){return this._points}}}),r.prototype.serialization=function(t){this.serializationHeader2(t),this._width=t.getFloat64(this.position,!0),this.updatePosition(8),this.pointCount=t.getUint32(this.position,!0),this.updatePosition(4);for(var e,r,i,o=0;o<this.pointCount;)e=t.getFloat64(this.position,!0),this.updatePosition(8),r=t.getFloat64(this.position,!0),this.updatePosition(8),i=new n(e,r),this.points.push(i),o++},r.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this.width,n)},r.prototype.prepareBrush=function(t){this.prepareBrushHeader(t)},r.prototype.draw=function(t,e){var n=this;t.save(),t.beginPath(),this.lineStyle.useExtend||(t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,this.cellFillStyle(t,(function(r){n.drawExe(t,e)})))},r.prototype.drawExe=function(t,e){for(var n,r=0;r<this.pointCount;)n=e.toScreenPoint(this.points[r]),0===r?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y),r++;t.closePath(),t.fill(),t.stroke(),t.restore()},r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(8),n(2)],void 0===(i=function(t,e,n){"use strict";var r=function(){e.call(this),this._width=0,this._pointCount=0,this._points=[]};return t(r.prototype=Object.create(e.prototype),{width:{get:function(){return this._width},set:function(t){this._width=t}},pointCount:{get:function(){return this._pointCount},set:function(t){this._pointCount=t}},points:{get:function(){return this._points}}}),r.prototype.serialization=function(t){this.serializationHeader(t),this._width=t.getFloat64(this.position,!0),this.updatePosition(8),this.pointCount=t.getUint32(this.position,!0),this.updatePosition(4);for(var e,r,i,o=0;o<this.pointCount;)e=t.getFloat64(this.position,!0),this.updatePosition(8),r=t.getFloat64(this.position,!0),this.updatePosition(8),i=new n(e,r),this.points.push(i),o++},r.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this._width,n)},r.prototype.draw=function(t,e){t.save(),t.beginPath();for(var n,r=0;r<this.pointCount;)n=e.toScreenPoint(this.points[r]),0===r?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y),r++;this.lineStyle.useExtend||(t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width),t.stroke(),t.restore()},r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(3),n(2)],void 0===(i=function(t,e,n){"use strict";var r=function(){e.call(this),this._width=0,this._pointCount=0,this._points=[]};return t(r.prototype=Object.create(e.prototype),{width:{get:function(){return this._width},set:function(t){this._width=t}},pointCount:{get:function(){return this._pointCount},set:function(t){this._pointCount=t}},points:{get:function(){return this._points}}}),e.prototype.serialization=function(t){this.serializationHeader2(t),this.width=t.getFloat64(this.position,!0),this.updatePosition(8),this.pointCount=t.getUint32(this.position,!0),this.updatePosition(4);for(var e,r,i,o=0;o<this.pointCount;)e=t.getFloat64(this.position,!0),this.updatePosition(8),r=t.getFloat64(this.position,!0),this.updatePosition(8),i=new n(e,r),this.points.push(i),o++},r.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,this.width,n)},r.prototype.prepareBrush=function(t){this.prepareBrushHeader(t)},r.prototype.draw=function(t,e){var n=this;t.save(),t.beginPath(),this.lineStyle.useExtend||(t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,t.lineCap=this.lineStyle.getCap(256),t.lineJoin=this.lineStyle.getJoin(8192),this.cellFillStyle(t,(function(r){n.drawExe(t,e)})))},r.prototype.drawExe=function(t,e){for(var n,r=0;r<this.pointCount;)n=e.toScreenPoint(this.points[r]),0===r?t.moveTo(n.x,n.y):t.lineTo(n.x,n.y),r++;t.closePath(),t.fill(),t.stroke(),t.restore()},r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(3),n(2)],void 0===(i=function(t,e,n){"use strict";var r=function(){e.call(this),this._offsetX=0,this._offsetY=0,this._size=0};return t(r.prototype=Object.create(e.prototype),{offsetX:{get:function(){return this._offsetX},set:function(t){this._offsetX=t}},offsetY:{get:function(){return this._offsetY},set:function(t){this._offsetY=t}},size:{get:function(){return this._size},set:function(t){this._size=t}}}),r.prototype.serialization=function(t){this.serialization2(t),this.offsetX=t.getFloat64(this.position,!0),this.updatePosition(8),this.offsetY=t.getFloat64(this.position,!0),this.updatePosition(8),this.size=t.getFloat64(this.position,!0),this.updatePosition(8)},r.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,0,n)},r.prototype.prepareBrush=function(t){this.prepareBrushHeader(this.color)},r.prototype.draw=function(t,e){var r=e.toScreenWidth(this.size),i=e.toScreenPoint(new n(this.offsetX,this.offsetY));t.save(),t.beginPath(),t.arc(i.x,i.y,r,0,2*Math.PI),t.strokeStyle=this.lineStyle.colorRGBA,t.fill(),t.restore()},r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(3),n(58),n(59),n(2),n(10)],void 0===(i=function(t,e,n,r,i,o){"use strict";var s=function(){e.call(this),this._textParam=new r,this._fontParam=new n};return t(s.prototype=Object.create(e.prototype),{textParam:{get:function(){return this._textParam}},fontParam:{get:function(){return this._fontParam}}}),s.prototype.serialization=function(t){if(this.serializationHeader2(t),this.textParam.longAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.textParam.centerX=t.getFloat64(this.position,!0),this.updatePosition(8),this.textParam.centerY=t.getFloat64(this.position,!0),this.updatePosition(8),this.textParam.shortAxis=t.getFloat64(this.position,!0),this.updatePosition(8),this.textParam.width=t.getFloat64(this.position,!0),this.updatePosition(8),this.textParam.textLength=t.getInt32(this.position,!0),this.updatePosition(4),this.textParam.textLength>0){var e=t.buffer.slice(this.position,this.textParam.textLength+this.position);this.textParam.text=o.ab2str(e,"gbk")}if(this.updatePosition(this.textParam.textLength),this.textParam.angle=t.getFloat64(this.position,!0),this.updatePosition(8),this.fontParam.height=.75*t.getFloat32(this.position,!0),this.updatePosition(4),this.fontParam.width=t.getFloat32(this.position,!0),this.updatePosition(4),this.fontParam.escapement=t.getInt32(this.position,!0),this.updatePosition(4),this.fontParam.orientation=t.getInt32(this.position,!0),this.updatePosition(4),this.fontParam.weight=t.getInt32(this.position,!0),this.updatePosition(4),this.fontParam.italic=1===t.getUint8(this.position),this.updatePosition(1),this.fontParam.underline=1===t.getUint8(this.position),this.updatePosition(1),this.fontParam.strikeOut=1===t.getUint8(this.position),this.updatePosition(1),this.fontParam.charSet=t.getInt32(this.position,!0),this.updatePosition(4),this.fontParam.outPrecision=t.getUint8(this.position),this.updatePosition(1),this.fontParam.clipPrecision=t.getUint8(this.position),this.updatePosition(1),this.fontParam.quality=t.getUint8(this.position),this.updatePosition(1),this.fontParam.pitchAndFamily=t.getUint8(this.position),this.updatePosition(1),this.fontParam.faceNameLength=t.getInt32(this.position,!0),this.updatePosition(4),this.fontParam.faceNameLength>0){var n=t.buffer.slice(this.position,this.fontParam.faceNameLength+this.position);this.fontParam.faceName=o.ab2str(n,"gbk")}this.updatePosition(this.fontParam.faceNameLength)},s.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,e,n)},s.prototype.prepareBrush=function(t){this.prepareBrushHeader(t)},s.prototype.draw=function(t,e){var n=e.toScreenWidth(this.fontParam.width/100),r=e.toScreenWidth(this.fontParam.height/100),o=(e.toScreenWidth(this.textParam.longAxis),e.toScreenWidth(this.textParam.shortAxis));if(!(Math.abs(n)<1&&Math.abs(r)<1)){var s,a=e.toScreenPoint(new i(this.textParam.centerX,this.textParam.centerY)),u=(180*e.angle/Math.PI+(360-this.textParam.angle))*Math.PI/180;Math.abs(u)>0&&(this.fontParam.escapement=10*u),t.save(),t.font=(this.fontParam.weight>=700?"bold ":"normal ")+(this.fontParam.italic?"italic ":"")+Math.abs(r)+"px "+this.fontParam.faceName,t.fillStyle=this.lineStyle.colorRGBA,t.fillStyle=this.lineStyle.colorHex,s=t.measureText(this.textParam.text).width,o<=0&&(o=s),0!==this.textParam.angle||0!==e.angle?(t.translate(a.x,a.y),t.rotate(u),t.fillText(this.textParam.text,.5*-s,.5*o)):t.fillText(this.textParam.text,a.x-.5*s,a.y+.5*o),t.restore()}},s}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(6)],void 0===(i=function(t){"use strict";return t({SimplePoint:1,LinePoint:2,PolylinePoint:3,PolygonPoint:4,CurvelinePoint:5,CurvegonPoint:6,ArcPoint:7,EllipsePoint:8,RectanglePoint:9,PiePoint:10,ChordPoint:11,AsteriskPoint:12,TextPoint:13,PicturePoint:14,MultiPoint:15})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(0),n(4)],void 0===(i=function(t,e,n){"use strict";var r=function(e,n,r,i,o){this.color=t(e)?e:-1,this._angle=t(n)?n:0,this._scale=t(r)?r:1,this.outlineColor=t(i)?i:-1,this._opacity=t(o)?o:1};return e(r.prototype,{color:{get:function(){return this._color},set:function(t){t=n.fixColorToRGBA(t),this._color=t}},angle:{get:function(){return this._angle},set:function(t){this._angle=t}},scale:{get:function(){return this._scale},set:function(t){this._scale=t}},outlineColor:{get:function(){return this._outlineColor},set:function(t){t=n.fixColorToRGBA(t),this._outlineColor=t}},opacity:{get:function(){return this._opacity},set:function(t){this._opacity=t}}}),r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(0),n(4)],void 0===(i=function(t,e,n){"use strict";var r=function(e){this._text=t(e)?e:void 0,this._fontFamily="",this._color=0,this._height=14,this._position=7,this._direction=0,this._rowCharNums=0,this._offsetX=0,this._offsetY=0,this._mouseEnabled=!1,this._bold=!1};return e(r.prototype,{text:{get:function(){return this._text},set:function(t){this._text=t}},fontFamily:{get:function(){return this._fontFamily},set:function(t){this._fontFamily=t}},color:{get:function(){return this._color},set:function(t){t=n.fixColorToRGBA(t),this._color=t}},height:{get:function(){return this._height},set:function(t){this._height=t}},position:{get:function(){return this._position},set:function(t){this._position=t}},direction:{get:function(){return this._direction},set:function(t){this._direction=t}},rowCharNums:{get:function(){return this._rowCharNums},set:function(t){this._rowCharNums=t}},offsetX:{get:function(){return this._offsetX},set:function(t){this._offsetX=t}},offsetY:{get:function(){return this._offsetY},set:function(t){this._offsetY=t}},mouseEnabled:{get:function(){return this._mouseEnabled},set:function(t){this._mouseEnabled=t}},bold:{get:function(){return this._bold},set:function(t){this._bold=t}}}),r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(0),n(15),n(37),n(4)],void 0===(i=function(t,e,n,r,i){"use strict";var o=function(){n.call(this),this._cellType=void 0,this._width=1,this._color=-1,this._lineStyle=new r};return e(o.prototype=Object.create(n.prototype),{cellType:{get:function(){return this._cellType},set:function(t){this._cellType=t}},width:{get:function(){return this._width},set:function(t){this._width=t}},color:{get:function(){return this._color},set:function(t){this._color=t}},lineStyle:{get:function(){return this._lineStyle}}}),o.prototype.serializationHeader=function(t){this.cellType=t.getUint32(this.position,!0),this.updatePosition(4),this.width=t.getFloat64(this.position,!0),this.updatePosition(8),this.color=t.getUint32(this.position,!0),this.updatePosition(4)},o.prototype.preparePenHeader=function(e,n,r){if(!t(e))throw new DeveloperError("transform is required.");n=!isNaN(n)&&n>0?n:this.width;var o=e.toScreenWidth(n);this.lineStyle.width=o<1?1:o,r=i.fixColorToRGBA(r),window.EleSymbol&&window.EleSymbol.config.forceUnlockColor&&(this.colorLocked=!1),r<0||this.colorLocked?this.lineStyle.color=i.fixColorToRGBA(this.color):this.lineStyle.color=i.fixColorToRGBA(r)},o}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(34)],void 0===(i=function(t,e){"use strict";var n=function(){this._interval=0,this._patternSize=0,this._patternElements=[],this._position=0};return t(n.prototype,{interval:{get:function(){return this._interval},set:function(t){this._interval=t}},patternSize:{get:function(){return this._patternSize},set:function(t){this._patternSize=t}},patternElements:{get:function(){return this._patternElements}},position:{get:function(){return this._position},set:function(t){this._position=t}}}),n.prototype.serialization=function(t){this.interval=t.getFloat64(this.position,!0),this.updatePosition(8),this.patternSize=t.getUint32(this.position,!0),this.updatePosition(4);for(var n=0,r=0,i=0;n<this.patternSize;)r=t.getUint32(this.position,!0),this.updatePosition(4),i=t.getUint32(this.position,!0),this.updatePosition(4),this.patternElements.push(new e(r,i)),n++},n.prototype.updatePosition=function(t){this.position+=t},n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(0)],void 0===(i=function(t,e){"use strict";var n=function(e,n){this._mark=t(e)?e:0,this._gap=t(n)?n:0};return e(n.prototype,{mark:{get:function(){return this._mark},set:function(t){this._mark=t}},gap:{get:function(){return this._gap},set:function(t){this._gap=t}}}),n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(2)],void 0===(i=function(t){"use strict";return{intersectLineLine:function(e,n,r,i){var o,s=(i.x-r.x)*(e.y-r.y)-(i.y-r.y)*(e.x-r.x),a=(n.x-e.x)*(e.y-r.y)-(n.y-e.y)*(e.x-r.x),u=(i.y-r.y)*(n.x-e.x)-(i.x-r.x)*(n.y-e.y);if(0!==u){var l=s/u,c=a/u;if(!(0<=l&&l<=1&&0<=c&&c<=1))return null;o=new t(e.x+l*(n.x-e.x),e.y+l*(n.y-e.y))}return o},addLen:function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=Math.sqrt(r*r+i*i);return r=r/o*n,i=i/o*n,e.x+=r,e.y+=i,e},drawStyledLine:function(t,e,n){var r,i,o,s,a,u,l,c,h,f,p,d=1,y=e[0];for(t.moveTo(y.x,y.y);d<e.length;){if(r=e[d],y.x!==r.x||y.y!==r.y)for(i=r.x-y.x,a=(o=r.y-y.y)/(s=Math.sqrt(i*i+o*o)),u=i/s,l=s,c=0,h=0;c<l;)(c+=n[h])>=l&&(c=l),f=y.x+c*u,p=y.y+c*a,h%2==0?t.lineTo(f,p):t.moveTo(f,p),h=(h+1)%n.length;y=r,d++}},drawLineCellStyleLine:function(t,e,n,r,i,o,s){if(0!=r.scale){var a,u,l,c,h,f,p,d,y,g,m,v=1,_=n[0],b=0;for(s.forEach((function(t){b+=t}));v<n.length;){if(a=n[v],_.x!==a.x||_.y!==a.y){u=a.x-_.x,h=(l=a.y-_.y)/(c=Math.sqrt(u*u+l*l)),f=u/c;var x=(p=c)/b;if(x>=300)for(var w=0;w<s.length;w++)s[w]*=x/300;for(d=0,y=0;d<p&&!((d+=s[y])>=p);)g=_.x+d*f,m=_.y+d*h,y%2==0&&(r.centerX=g,r.centerY=m,r.angle=f<0?-Math.asin(h):Math.asin(h),e.preparePen(r,i,o),e.prepareBrush(o),e.draw(t,r)),y=(y+1)%s.length}_=a,v++}}}}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){return{getBrowserInfo:function(){var t=navigator.appName,e=navigator.appVersion.split(";"),n="";return e[1]&&(n=e[1].replace(/[ ]/g,"")),{browser:t,trimVersion:n}},isIe9:function(){var t=this.getBrowserInfo();return"Microsoft Internet Explorer"==t.browser&&"MSIE9.0"==t.trimVersion}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(1),n(0),n(16),n(9),n(4)],void 0===(i=function(t,e,n,r,i){"use strict";var o=function(e,o,s,a,u,l,c,h,f,p,d){this._color=t(e)?i.fixColorToRGBA(e):-1,this._width=t(o)?o:1,this._normalStyle=t(s)?s:n.SIMPLE_STYLE_SOLID,this._useExtend=!!t(a)&&a,this._extendPenStyle=t(u)?u:n.EXT_PEN_COSMETIC,this._brushStyle=t(l)?l:r.STYLE_SOLID,this._hatched=t(c)?c:r.HATCHED_HORIZONTAL,this._dashCount=t(h)?h:0,this._dashStyle=t(f)?f:0,this._lineCap=t(p)?p:"butt",this._lineJoin=t(d)?d:"round",this._pattern=void 0};return e(o.prototype,{color:{get:function(){return this._color},set:function(t){t=i.fixColorToRGBA(t),this._color=t}},colorRGBA:{get:function(){return i.fixColorToRGBA(this._color)}},width:{get:function(){return this._width},set:function(t){this._width=t}},normalStyle:{get:function(){return this._normalStyle},set:function(t){this._normalStyle=t}},useExtend:{get:function(){return this._useExtend},set:function(t){this._useExtend=t}},extendPenStyle:{get:function(){return this._extendPenStyle},set:function(t){this._extendPenStyle=t}},brushStyle:{get:function(){return this._brushStyle},set:function(t){this._brushStyle=t}},hatched:{get:function(){return this._hatched},set:function(t){this._hatched=t}},dashCount:{get:function(){return this._dashCount},set:function(t){this._dashCount=t}},dashStyle:{get:function(){return this._dashStyle},set:function(t){this._dashStyle=t}},lineCap:{get:function(){return this._lineCap},set:function(t){this._lineCap=t}},lineJoin:{get:function(){return this._lineJoin},set:function(t){this._lineJoin=t}},pattern:{get:function(){switch(this._normalStyle){case n.SIMPLE_STYLE_DASH:this._pattern=[6,6];break;case n.SIMPLE_STYLE_DOT:this._pattern=[1,6];break;case n.SIMPLE_STYLE_DASHDOT:this._pattern=[6,4,1];break;case n.SIMPLE_STYLE_DASHDOTDOT:this._pattern=[6,4,1,4,1];break;default:this._pattern=[1,0]}return this._pattern}}}),o.prototype.getCap=function(t){switch(t){case 0:this._lineCap="round";break;case 256:this._lineCap="square";break;case 512:this._lineCap="butt";break;default:this._lineCap="butt"}return this.lineCap},o.prototype.getJoin=function(t){switch(t){case 0:this._lineJoin="round";break;case 4096:this._lineJoin="bevel";break;case 8192:this._lineJoin="miter";break;default:this._lineJoin="round"}return this.lineJoin},o}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";return{FILL_HS_HORIZONTAL:0,FILL_HS_VERTICAL:1,FILL_HS_FDIAGONAL:2,FILL_HS_BDIAGONAL:3,FILL_HS_CROSS:4,FILL_HS_DIAGCROSS:5,FILL_EMPTY:6,FILL_SOLID:7}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(0),n(40),n(2),n(9),n(16),n(34),n(33),n(35)],void 0===(i=function(t,e,n,r,i,o,s,a){"use strict";var u=function(){e.call(this),this._cap=0,this._join=0};return t(u.prototype=Object.create(e.prototype),{cap:{get:function(){return this._cap},set:function(t){this._cap=t}},join:{get:function(){return this._join},set:function(t){this._join=t}}}),u.prototype.serialization=function(t){this.serializationHeader2(t),this.cap=t.getUint32(this.position,!0),this.updatePosition(4),this.join=t.getUint32(this.position,!0),this.updatePosition(4)},u.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,e,n),this.lineStyle.normalStyle=i.SIMPLE_STYLE_SOLID,this.lineStyle.useExtend=!0,this.lineStyle.brushStyle=r.STYLE_SOLID,this.lineStyle.hatched=r.HATCHED_HORIZONTAL,this.lineStyle.extendPenStyle=i.EXT_PEN_COSMETIC,this.lineStyle.lineCap=this.lineStyle.getCap(this.cap),this.lineStyle.lineJoin=this.lineStyle.getJoin(this.join)},u.prototype.draw=function(t,e,r){var i,o=0,s=r.path,u=s.length,l=s;if(0!==this.offset){l=[];var c,h,f,p,d,y,g,m,v=e.toScreenWidth(this.offset);for(o=0;o<u-1;o++)if(c=s[o],d=(h=s[o+1]).x-c.x,y=h.y-c.y,g=d/(m=Math.sqrt(d*d+y*y)),d=y/m*v,y=g*v,f=new n(c.x+d,c.y-y),p=new n(h.x+d,h.y-y),0===l.length)l.push(f,p);else if(l[o-1]&&l[o]&&p&&f){var _=a.intersectLineLine(l[o-1],l[o],p,f);_&&(l[o]=_),l[o+1]=p}}if(t.save(),t.beginPath(),1!==this.hasTemplate||0===this.symbolTemplate.patternSize)for(o=0;o<l.length;o++)i=l[o],0===o?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y);else{var b=[],x=this;this.symbolTemplate.patternElements.forEach((function(t,n){b.push(5*e.toScreenWidth(t.mark*x.symbolTemplate.interval),5*e.toScreenWidth(t.gap*x.symbolTemplate.interval))})),a.drawStyledLine(t,l,b)}t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,t.lineCap=this.lineStyle.lineCap,t.lineJoin=this.lineStyle.lineJoin,t.stroke(),t.restore()},u}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(32),n(33)],void 0===(i=function(t,e,n){"use strict";var r=function(){e.call(this),this._offset=0,this._hasTemplate=-1,this._symbolTemplate=void 0};return t(r.prototype=Object.create(e.prototype),{offset:{get:function(){return this._offset},set:function(t){this._offset=t}},hasTemplate:{get:function(){return this._hasTemplate},set:function(t){this._hasTemplate=t}},symbolTemplate:{get:function(){return this._symbolTemplate},set:function(t){this._symbolTemplate=t}}}),r.prototype.serializationHeader2=function(t){this.serializationHeader(t),this.offset=t.getFloat64(this.position,!0),this.updatePosition(8),this.hasTemplate=t.getInt32(this.position,!0),this.updatePosition(4),1===this.hasTemplate&&(this.symbolTemplate=new n,this.symbolTemplate.updatePosition(this.position),this.symbolTemplate.serialization(t),this.position=this.symbolTemplate.position)},r.prototype.serialization=function(t){},r}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(5),n(32),n(14),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(42),n(29)],void 0===(i=function(t,e,n,r,i,o,s,a,u,l,c,h,f,p,d,y,g,m){"use strict";var v=function(){n.call(this),this._endType=0,this._directionType=0,this._pointCellsCount=0,this._pointCells=[]};return t(v.prototype=Object.create(n.prototype),{endType:{get:function(){return this._endType},set:function(t){this._endType=t}},directionType:{get:function(){return this._directionType},set:function(t){this._directionType=t}},pointCellsCount:{get:function(){return this._pointCellsCount},set:function(t){this._pointCellsCount=t}},pointCells:{get:function(){return this._pointCells}}}),v.prototype.serialization=function(t){this.serializationHeader(t),this.endType=t.getUint32(this.position,!0),this.updatePosition(4),this.directionType=t.getUint32(this.position,!0),this.updatePosition(4),this.pointCellsCount=t.getUint32(this.position,!0),this.updatePosition(4);for(var n,r,i=0;i<this.pointCellsCount;)n=t.getUint32(this.position,!0),r=this.createCell(n),e(r)&&(r.updatePosition(this.position),r.serialization(t),this.position=r.position,this.pointCells.push(r)),i++},v.prototype.createCell=function(t){var e=void 0;switch(t){case m.LinePoint:e=new c;break;case m.RectanglePoint:e=new p;break;case m.TextPoint:e=new y;break;case m.PolylinePoint:e=new f;break;case m.PolygonPoint:e=new h;break;case m.CurvelinePoint:e=new a;break;case m.EllipsePoint:e=new u;break;case m.CurvegonPoint:e=new s;break;case m.ArcPoint:e=new r;break;case m.PiePoint:e=new l;break;case m.ChordPoint:e=new o;break;case m.AsteriskPoint:e=new i;break;case m.SimplePoint:e=new d}return e},v.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,e,n)},v.prototype.draw=function(t,e,n){var r=this,i=n.path;this.pointCells.forEach((function(o,s){switch(o.preparePen(e,r.width,r.lineStyle.color),r.endType){case g.LOCATE_BEGIN:r.directionType!==g.DIRECTION_LEFT&&r.drawPointCell(t,o,e,n,i[0],i[1]);break;case g.LOCATE_END:r.directionType!==g.DIRECTION_RIGHT&&r.drawPointCell(t,o,e,n,i[i.length-1],i[i.length-2]);break;case g.LOCAT_BOTH:r.directionType===g.DIRECTION_LEFT?r.drawPointCell(t,o,e,n,i[i.length-1],i[i.length-2]):r.directionType===g.DIRECTION_RIGHT?r.drawPointCell(t,o,e,n,i[0],i[1]):(r.drawPointCell(t,o,e,n,i[0],i[1]),r.drawPointCell(t,o,e,n,i[i.length-1],i[i.length-2]))}}))},v.prototype.calAngle=function(t,e){var n=Math.atan2(e.y-t.y,e.x-t.x);return this.directionType===g.DIRECTION_BISECTOR&&(n+=Math.PI/2),n},v.prototype.drawPointCell=function(t,e,n,r,i,o){n.centerX=i.x,n.centerY=i.y,n.angle=this.calAngle(i,o),e.draw(t,n,r)},v}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(6)],void 0===(i=function(t){"use strict";return t({LOCATE_NONE:0,LOCATE_BEGIN:1,LOCATE_END:2,LOCAT_BOTH:3,DIRECTION_NORTH:0,DIRECTION_LEFT:1,DIRECTION_RIGHT:2,DIRECTION_BIDIRECTIONAL:3,DIRECTION_BISECTOR:4})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(5),n(40),n(14),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(28),n(29),n(2),n(9),n(16),n(34),n(33),n(35)],void 0===(i=function(t,e,n,r,i,o,s,a,u,l,c,h,f,p,d,y,g,m,v,_,b,x,w){"use strict";var E=function(){n.call(this),this._pointCellsCount=0,this._pointCells=[]};return t(E.prototype=Object.create(n.prototype),{pointCellsCount:{get:function(){return this._pointCellsCount},set:function(t){this._pointCellsCount=t}},pointCells:{get:function(){return this._pointCells}}}),E.prototype.serialization=function(t){this.serializationHeader2(t),this.pointCellsCount=t.getUint32(this.position,!0),this.updatePosition(4);for(var n,r,i=0;i<this.pointCellsCount;)n=t.getUint32(this.position,!0),r=this.createCell(n),e(r)&&(r.updatePosition(this.position),r.serialization(t),this.position=r.position,this.pointCells.push(r)),i++},E.prototype.createCell=function(t){var e=void 0;switch(t){case g.LinePoint:e=new c;break;case g.RectanglePoint:e=new p;break;case g.TextPoint:e=new y;break;case g.PolylinePoint:e=new f;break;case g.PolygonPoint:e=new h;break;case g.CurvelinePoint:e=new a;break;case g.EllipsePoint:e=new u;break;case g.CurvegonPoint:e=new s;break;case g.ArcPoint:e=new r;break;case g.PiePoint:e=new l;break;case g.ChordPoint:e=new o;break;case g.AsteriskPoint:e=new i;break;case g.SimplePoint:e=new d}return e},E.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,e,n)},E.prototype.draw=function(t,e,n){var r=0,i=n.path,o=i.length,s=i;if(0!==this.offset){s=[];var a,u,l,c,h,f,p,d,y=e.toScreenWidth(this.offset);for(r=0;r<o-1;r++)if(a=i[r],h=(u=i[r+1]).x-a.x,f=u.y-a.y,p=h/(d=Math.sqrt(h*h+f*f)),h=f/d*y,f=p*y,l=new m(a.x+h,a.y-f),c=new m(u.x+h,u.y-f),0===s.length)s.push(l,c);else if(s[j-1]&&s[j]&&c&&l){var g=w.intersectLineLine(s[j-1],s[j],c,l);g&&(s[r]=g),s[j+1]=c}}var v=[],_=this;this.symbolTemplate.patternElements.forEach((function(t,n){v.push(e.toScreenWidth(t.mark*_.symbolTemplate.interval),e.toScreenWidth(t.gap*_.symbolTemplate.interval))})),this.pointCells.forEach((function(n,r){w.drawLineCellStyleLine(t,n,s,e,_.width,_.lineStyle.color,v)}))},E}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(32),n(42),n(35)],void 0===(i=function(t,e,n,r){"use strict";var i=function(){e.call(this),this._simpleLineStyle=0};return t(i.prototype=Object.create(e.prototype),{simpleLineStyle:{get:function(){return this._simpleLineStyle},set:function(t){this._simpleLineStyle=t}}}),i.prototype.serialization=function(t){this.serializationHeader(t),this.simpleLineStyle=t.getUint32(this.position,!0),this.updatePosition(4)},i.prototype.preparePen=function(t,e,n){this.preparePenHeader(t,e,n)},i.prototype.draw=function(t,e,i){t.save(),t.beginPath();var o,s,a=i.path,u=a.length;if(this.simpleLineStyle===n.SIMPLE_STYLE_SOLID)for(o=0;o<u;o++)s=a[0],0===o?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y);else this.lineStyle.normalStyle=this.simpleLineStyle,r.drawStyledLine(t,a,this.lineStyle.pattern);t.strokeStyle=this.lineStyle.colorRGBA,t.lineWidth=this.lineStyle.width,t.stroke(),t.restore()},i}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(6)],void 0===(i=function(t){"use strict";return t({SimpleLine:0,HashLine:1,CartographicLine:2,PointLine:3,LocalPointLine:4})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(6)],void 0===(i=function(t){"use strict";var e=function(t,e){return void 0!==t?t:e};return e.EMPTY_OBJECT=t({}),e}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(48)],void 0===(i=function(t){"use strict";return function(e,n){return t({url:e,responseType:"arraybuffer",headers:n})}}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(49),n(46),n(1),n(7),n(50),n(36),n(52),n(10)],void 0===(i=function(t,e,n,r,i,o,s,a){"use strict";var u=function i(o){if(o=e(o,e.EMPTY_OBJECT),!n(o.url))throw new r("options.url is required.");var s=o.responseType,a=e(o.method,"GET"),u=o.data,l=o.headers,c=o.overrideMimeType;return t(o.url,(function(e){var n=t.defer();return i.load(e,s,a,u,l,n,c),n.promise}))},l=/^data:(.*?)(;base64)?,(.*)$/;function c(t,e){var n=decodeURIComponent(e);return t?atob(n):n}function h(t,e){for(var n=c(t,e),r=new ArrayBuffer(n.length),i=new Uint8Array(r),o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return r}function f(t,e){var n=p();n.open("GET",t,!0),n.setRequestHeader("Accept-Charset","x-user-defined"),n.onreadystatechange=function(t){if(4==n.readyState&&200==n.status){console.log("convertResponseBodyToText before");var r=function(t){for(var e={},n=0;n<256;n++)for(var r=0;r<256;r++)e[String.fromCharCode(n+256*r)]=String.fromCharCode(n)+String.fromCharCode(r);var i=IEBinaryToArray_ByteStr(t),o=IEBinaryToArray_ByteStr_Last(t);return i.replace(/[\s\S]/g,(function(t){return e[t]}))+o}(n.responseBody);console.log("convertResponseBodyToText after");var i=r.length;i<0&&throwException(_exception.FileLoadFailed);var o=i%4;if(o)for(var s=4-o,u=0;u<s;u++)r+=" ";if("function"==typeof e){console.log("fileContentAB before");var l=a.str2ab(r);console.log("fileContentAB after"),l.isIEPolyfill=!0,e(l)}}},n.send()}function p(){if(window.XMLHttpRequest)return new window.XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP")}catch(t){return null}}return u.defaultLoad=u.load=function(t,a,u,d,y,g,m){if(o.isIe9())f(t,(function(t){g.resolve(t)}));else{var v=l.exec(t);if(null!==v)return void g.resolve(function(t,n){n=e(n,"");var i=t[1],o=!!t[2],s=t[3];switch(n){case"":case"text":return c(o,s);case"arraybuffer":return h(o,s);case"blob":var a=h(o,s);return new Blob([a],{type:i});case"document":return(new DOMParser).parseFromString(c(o,s),i);case"json":return JSON.parse(c(o,s));default:throw new r("Unhandled responseType: "+n)}}(v,a));var _=p();if(n(m)&&n(_.overrideMimeType)&&_.overrideMimeType(m),_.open(u,t,!0),n(y))for(var b in y)y.hasOwnProperty(b)&&_.setRequestHeader(b,y[b]);n(a)&&(_.responseType=a),_.onload=function(t){200===_.status&&4===_.readyState||0===_.status?n(_.response)?g.resolve(_.response):n(_.responseXML)&&_.responseXML.hasChildNodes()?g.resolve(_.responseXML):n(_.responseText)?g.resolve(_.responseText):g.reject(new s("unknown XMLHttpRequest response type.")):g.reject(new i(_.status,_.response,_.getAllResponseHeaders()))},_.onerror=function(t){g.reject(new i)},_.send(d)}},u}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;!function(i){"use strict";void 0===(r=function(){var t,e;function n(t,e,n,i){return r(t).then(e,n,i)}function r(t){var e,n,u;return t instanceof i?e=t:a(t)?(n=s(),t.then((function(t){n.resolve(t)}),(function(t){n.reject(t)}),(function(t){n.progress(t)})),e=n.promise):(u=t,e=new i((function(t){try{return r(t?t(u):u)}catch(t){return o(t)}}))),e}function i(t){this.then=t}function o(t){return new i((function(e,n){try{return n?r(n(t)):o(t)}catch(t){return o(t)}}))}function s(){var t,e,n,a,u,l;return t=new i(c),e=[],n=[],a=function(t,r,i){var o,a;return o=s(),a="function"==typeof i?function(t){try{o.progress(i(t))}catch(t){o.progress(t)}}:function(t){o.progress(t)},e.push((function(e){e.then(t,r).then(o.resolve,o.reject,a)})),n.push(a),o.promise},u=function(t){return h(n,t),t},l=function(t){return t=r(t),a=t.then,l=r,u=p,h(e,t),n=e=void 0,t},{then:c,resolve:f,reject:d,progress:y,promise:t,resolver:{resolve:f,reject:d,progress:y}};function c(t,e,n){return a(t,e,n)}function f(t){return l(t)}function d(t){return l(o(t))}function y(t){return u(t)}}function a(t){return t&&"function"==typeof t.then}function u(t,e,r,i,o){return f(2,arguments),n(t,(function(t){var a,u,l,c,h,f,d,y,g,m;if(g=t.length>>>0,a=Math.max(0,Math.min(e,g)),l=[],u=g-a+1,c=[],h=s(),a)for(y=h.progress,d=function(t){c.push(t),--u||(f=d=p,h.reject(c))},f=function(t){l.push(t),--a||(f=d=p,h.resolve(l))},m=0;m<g;++m)m in t&&n(t[m],_,v,y);else h.resolve(l);return h.then(r,i,o);function v(t){d(t)}function _(t){f(t)}}))}function l(t,e,n,r){return f(1,arguments),c(t,d).then(e,n,r)}function c(t,e){return n(t,(function(t){var r,i,o,a,u,l;if(o=i=t.length>>>0,r=[],l=s(),o)for(a=function(t,i){n(t,e).then((function(t){r[i]=t,--o||l.resolve(r)}),l.reject)},u=0;u<i;u++)u in t?a(t[u],u):--o;else l.resolve(r);return l.promise}))}function h(t,e){for(var n,r=0;n=t[r++];)n(e)}function f(t,e){for(var n,r=e.length;r>t;)if(null!=(n=e[--r])&&"function"!=typeof n)throw new Error("arg "+r+" must be a function")}function p(){}function d(t){return t}return n.defer=s,n.resolve=r,n.reject=function(t){return n(t,o)},n.join=function(){return c(arguments,d)},n.all=l,n.map=c,n.reduce=function(r,i){var o=e.call(arguments,1);return n(r,(function(e){var r;return r=e.length,o[0]=function(t,e,o){return n(t,(function(t){return n(e,(function(e){return i(t,e,o,r)}))}))},t.apply(e,o)}))},n.any=function(t,e,n,r){return u(t,1,(function(t){return e?e(t[0]):t[0]}),n,r)},n.some=u,n.chain=function(t,e,r){var i=arguments.length>2;return n(t,(function(t){return t=i?r:t,e.resolve(t),t}),(function(t){return e.reject(t),o(t)}),e.progress)},n.isPromise=a,i.prototype={always:function(t,e){return this.then(t,t,e)},otherwise:function(t){return this.then(void 0,t)},yield:function(t){return this.then((function(){return t}))},spread:function(t){return this.then((function(e){return l(e,(function(e){return t.apply(void 0,e)}))}))}},e=[].slice,t=[].reduce||function(t){var e,n,r,i,o;if(o=0,i=(e=Object(this)).length>>>0,(n=arguments).length<=1)for(;;){if(o in e){r=e[o++];break}if(++o>=i)throw new TypeError}else r=n[1];for(;o<i;++o)o in e&&(r=t(r,e[o],o,e));return r},n}.call(e,n,e,t))||(t.exports=r)}(n(70))},function(t,e,n){var r,i;r=[n(1),n(51)],void 0===(i=function(t,e){"use strict";var n=function(t,n,r){this.statusCode=t,this.response=n,this.responseHeaders=r,"string"==typeof this.responseHeaders&&(this.responseHeaders=e(this.responseHeaders))};return n.prototype.toString=function(){var e="Request has failed.";return t(this.statusCode)&&(e+=" Status Code: "+this.statusCode),e},n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";return function(t){var e={};if(!t)return e;for(var n=t.split("\r\n"),r=0;r<n.length;++r){var i=n[r],o=i.indexOf(": ");if(o>0){var s=i.substring(0,o),a=i.substring(o+2);e[s]=a}}return e}}.apply(e,[]))||(t.exports=r)},function(t,e,n){var r,i;r=[n(1)],void 0===(i=function(t){"use strict";var e=function(t){var e;this.name="RuntimeError",this.message=t;try{throw new Error}catch(t){e=t.stack}this.stack=e};return e.prototype.toString=function(){var e=this.name+": "+this.message;return t(this.stack)&&(e+="\n"+this.stack.toString()),e},e}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(6)],void 0===(i=function(t){"use strict";return t({PointSymbol:1,LineSymbol:2,FillSymbol:3,TextSymbol:4})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(0),n(7),n(12),n(2),n(56),n(13),n(14),n(17),n(18),n(19),n(20),n(21),n(22),n(23),n(24),n(25),n(26),n(27),n(3),n(28),n(29),n(30),n(31)],void 0===(i=function(t,e,n,r,i,o,s,a,u,l,c,h,f,p,d,y,g,m,v,_,b,x,w,E){"use strict";var S=function(){s.call(this),this._cellsCount=0,this._cellsBound=new o,this._pointCells=[]};return e(S.prototype=Object.create(s.prototype),{cellsCount:{get:function(){return this._cellsCount},set:function(t){this._cellsCount=t}},cellsBound:{get:function(){return this._cellsBound}},pointCells:{get:function(){return this._pointCells}}}),S.prototype.serialization=function(e){this.serializationHeader(e),this.cellsCount=e.getUint32(this.position,!0),this.updatePosition(4),this.cellsBound.left=e.getFloat64(this.position,!0),this.updatePosition(8),this.cellsBound.right=e.getFloat64(this.position,!0),this.updatePosition(8),this.cellsBound.bottom=e.getFloat64(this.position,!0),this.updatePosition(8),this.cellsBound.top=e.getFloat64(this.position,!0),this.updatePosition(8);for(var n,r,i=0;i<this.cellsCount;)n=e.getUint32(this.position,!0),r=this.createCell(n),t(r)&&(r.updatePosition(this.position),r.serialization(e),this.position=r.position,this.pointCells.push(r)),i++},S.prototype.createCell=function(t){var e=void 0;switch(t){case x.LinePoint:e=new d;break;case x.RectanglePoint:e=new m;break;case x.TextPoint:e=new b;break;case x.PolylinePoint:e=new g;break;case x.PolygonPoint:e=new y;break;case x.CurvelinePoint:e=new h;break;case x.EllipsePoint:e=new f;break;case x.CurvegonPoint:e=new c;break;case x.ArcPoint:e=new a;break;case x.PiePoint:e=new p;break;case x.ChordPoint:e=new l;break;case x.AsteriskPoint:e=new u;break;case x.SimplePoint:e=new v}return e},S.prototype.draw=function(e,o,s,a){if(!o instanceof i)throw new n("geometry is not GeoPoint.");var u,l=-1,c=0,h=1;t(s)&&(l=s.color,c=s.angle*Math.PI/180,h=s.scale/Math.max(this._cellsBound.width(),this._cellsBound.height()),s.opacity),u=new r(o.x,o.y,h,c),this.pointCells.forEach((function(t,n){t.preparePen(u,1,l),t instanceof _&&t.prepareBrush(l),e.globalAlpha=s.opacity,t.draw(e,u)}))},S}.apply(e,r))||(t.exports=i)},function(t,e,n){var r;void 0===(r=function(){"use strict";return{DPI:96,MMPERINCH:25.4,DEGTORAD:.0174532925199433,RADTODEG:57.29577951308232,mmToPixel:function(t){return t/this.MMPERINCH*this.DPI},pixelToMm:function(t){return t/this.DPI*this.MMPERINCH}}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r,i;r=[n(1),n(0)],void 0===(i=function(t,e){var n=function(e,n,r,i){this._left=t(e)?e:0,this._right=t(n)?e:0,this._top=t(r)?e:0,this._bottom=t(i)?e:0};return e(n.prototype,{left:{get:function(){return this._left},set:function(e){t(e)?this._left=e:this._left=0}},right:{get:function(){return this._right},set:function(e){t(e)?this._right=e:this._right=0}},top:{get:function(){return this._top},set:function(e){t(e)?this._top=e:this._top=0}},bottom:{get:function(){return this._bottom},set:function(e){t(e)?this._bottom=e:this._bottom=0}}}),n.prototype.width=function(){return this.right-this.left>0?this.right-this.left:this.left-this.right},n.prototype.height=function(){return this.bottom-this.top>0?this.bottom-this.top:this.top-this.bottom},n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(0),n(9),n(4)],void 0===(i=function(t,e,n,r){"use strict";var i=function(e,i,o){this._color=t(e)?r.fixColorToRGBA(e):-1,this._style=t(i)?i:n.STYLE_SOLID,this._hatched=t(o)?o:n.HATCHED_HORIZONTAL};return e(i.prototype,{color:{get:function(){return this._color},set:function(t){t=r.fixColorToRGBA(t),this._color=t}},colorRGBA:{get:function(){return r.fixColorToRGBA(this._color)}},style:{get:function(){return this._style},set:function(t){this._style=t}},hatched:{get:function(){return this._hatched},set:function(t){this._hatched=t}}}),i}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0)],void 0===(i=function(t){"use strict";var e=function(){this._height=0,this._width=0,this._escapement=0,this._orientation=0,this._weight=0,this._italic=!1,this._underline=!1,this._strikeOut=!1,this._charSet=0,this._outPrecision=0,this._clipPrecision=0,this._quality=0,this._pitchAndFamily=0,this._faceNameLength=0,this._faceName=void 0};return t(e.prototype,{height:{get:function(){return this._height},set:function(t){this._height=t}},width:{get:function(){return this._width},set:function(t){this._width=t}},escapement:{get:function(){return this._escapement},set:function(t){this._escapement=t}},orientation:{get:function(){return this._orientation},set:function(t){this._orientation=t}},weight:{get:function(){return this._weight},set:function(t){this._weight=t}},italic:{get:function(){return this._italic},set:function(t){this._italic=t}},underline:{get:function(){return this._underline},set:function(t){this._underline=t}},strikeOut:{get:function(){return this._strikeOut},set:function(t){this._strikeOut=t}},charSet:{get:function(){return this._charSet},set:function(t){this._charSet=t}},outPrecision:{get:function(){return this._outPrecision},set:function(t){this._outPrecision=t}},clipPrecision:{get:function(){return this._clipPrecision},set:function(t){this._clipPrecision=t}},quality:{get:function(){return this._quality},set:function(t){this._quality=t}},pitchAndFamily:{get:function(){return this._pitchAndFamily},set:function(t){this._pitchAndFamily=t}},faceNameLength:{get:function(){return this._faceNameLength},set:function(t){this._faceNameLength=t}},faceName:{get:function(){return this._faceName},set:function(t){this._faceName=t}}}),e}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0)],void 0===(i=function(t){"use strict";var e=function(){this._longAxis=0,this._centerX=0,this._centerY=0,this._shortAxis=0,this._width=0,this._textLength=0,this._text=void 0,this._angle=0,this._horizontal=0,this._vertical=0};return t(e.prototype,{longAxis:{get:function(){return this._longAxis},set:function(t){this._longAxis=t}},centerX:{get:function(){return this._centerX},set:function(t){this._centerX=t}},centerY:{get:function(){return this._centerY},set:function(t){this._centerY=t}},shortAxis:{get:function(){return this._shortAxis},set:function(t){this._shortAxis=t}},width:{get:function(){return this._width},set:function(t){this._width=t}},textLength:{get:function(){return this._textLength},set:function(t){this._textLength=t}},text:{get:function(){return this._text},set:function(t){this._text=t}},angle:{get:function(){return this._angle},set:function(t){this._angle=t}},horizontal:{get:function(){return this._horizontal},set:function(t){this._horizontal=t}},vertical:{get:function(){return this._vertical},set:function(t){this._vertical=t}}}),e}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(0),n(7),n(12),n(61),n(13),n(39),n(41),n(43),n(44),n(45),n(30),n(31)],void 0===(i=function(t,e,n,r,i,o,s,a,u,l,c,h,f){"use strict";var p=function(){o.call(this),this._cellsCount=0,this._width=0,this._lineCells=[]};return e(p.prototype=Object.create(o.prototype),{cellsCount:{get:function(){return this._cellsCount},set:function(t){this._cellsCount=t}},width:{get:function(){return this._width},set:function(t){this._width=t}},lineCells:{get:function(){return this._lineCells}}}),p.prototype.serialization=function(e){this.serializationHeader(e),this.cellsCount=e.getUint32(this.position,!0),this.updatePosition(4),this.width=e.getFloat64(this.position,!0),this.updatePosition(8);for(var n,r,i=0;i<this.cellsCount;)n=e.getUint32(this.position,!0),r=this.createCell(n),t(r)&&(r.updatePosition(this.position),r.serialization(e),this.position=r.position,this.lineCells.push(r)),i++},p.prototype.createCell=function(t){var e=void 0;switch(t){case c.SimpleLine:e=new l;break;case c.HashLine:break;case c.CartographicLine:e=new s;break;case c.PointLine:e=new u;break;case c.LocalPointLine:e=new a}return e},p.prototype.draw=function(e,o,s,a){if(!o instanceof i)throw new n("geometry is not GeoPolyline.");if(o.count<2)throw new n("geometry less than 2 point.");var u,l=-1,c=0,h=1,f=1;t(s)&&(l=s.color,c=s.angle*Math.PI/180,h=s.scale,f=s.opacity),u=new r(0,0,h,c),this.lineCells.forEach((function(t,n){t.preparePen(u,-1,l),e.globalAlpha=f,t.draw(e,u,o)}))},p}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(0)],void 0===(i=function(t,e){"use strict";var n=function(e){this._path=t(e)?e:[]};return e(n.prototype,{path:{get:function(){return this._path},set:function(t){this._path=t}},count:{get:function(){return this._path.length}}}),n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(0),n(7),n(12),n(63),n(13),n(64),n(66)],void 0===(i=function(t,e,n,r,i,o,s,a){"use strict";var u=function(){o.call(this),this._fillCells=[]};return e(u.prototype=Object.create(o.prototype),{fillCells:{get:function(){return this._fillCells}}}),u.prototype.serialization=function(e){this.serializationHeader(e);var n=e.getUint32(this.position,!0),r=this.createCell(n);t(r)&&(r.updatePosition(this.position),r.serialization(e),this.position=r.position,this.fillCells.push(r))},u.prototype.createCell=function(t){var e=void 0;switch(t){case a.SimpleFill:e=new s}return e},u.prototype.draw=function(e,o,s,a){if(!o instanceof i)throw new n("geometry is not GeoPolygon.");if(o.count<3)throw new n("geometry less than 3 point.");var u,l=-1,c=0,h=1,f=1,p=-1;t(s)&&(l=s.color,c=s.angle*Math.PI/180,h=s.scale,f=s.opacity,p=s.outlineColor),u=new r(0,0,h,c),this.fillCells.forEach((function(t,n){try{t._lineCells[0]&&(l=-1==l?t._lineCells[0].color:l,p=-1==(p=-1==p?t._lineCells[0]._lineStyle._color:p)?"#ffffff00":p,e.lineCap=t._lineCells[0]._lineStyle._lineCap,e.lineJoin=t._lineCells[0]._lineStyle._lineJoin)}catch(t){console.warn(".")}t.preparePen(u,-1,l,p),e.globalAlpha=f,t.draw(e,u,o)}))},u}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(1),n(0)],void 0===(i=function(t,e){"use strict";var n=function(e){this._ring=t(e)?e:[]};return e(n.prototype,{ring:{get:function(){return this._ring},set:function(t){this._ring=t}},count:{get:function(){return this._ring.length}}}),n}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(0),n(65),n(38),n(4)],void 0===(i=function(t,e,n,r){"use strict";var i=function(){e.call(this),this._simpleFillStyle=0};return t(i.prototype=Object.create(e.prototype),{simpleFillStyle:{get:function(){return this._simpleFillStyle},set:function(t){this._simpleFillStyle=t}}}),i.prototype.serialization=function(t){this.serializationHeader(t),this.simpleFillStyle=t.getUint32(this.position,!0),this.updatePosition(4)},i.prototype.preparePen=function(t,e,n,i){this.color=r.fixColorToRGBA(n),this.outlineColor=r.fixColorToRGBA(i)},i.prototype.draw=function(t,e,n){var r=this;t.save(),t.beginPath(),this.cellFillStyle(t,(function(i){r.drawExe(t,e,n)}))},i.prototype.drawExe=function(t,e,n){var r,i,o=n.ring,s=o.length;for(r=0;r<s;r++)i=o[r],0===r?t.moveTo(i.x,i.y):t.lineTo(i.x,i.y);t.closePath(),t.fill(),t.stroke(),t.restore()},i.prototype.cellFillStyle=function(t,e){if(this.simpleFillStyle===n.FILL_SOLID)-1===this.color?t.fillStyle="rgba(0,0,0,0)":(-1!=this.outlineColor&&(t.setLineDash&&t.setLineDash([]),t.strokeStyle=r.fixColorToRGBA(this.outlineColor)),t.fillStyle=r.fixColorToRGBA(this.color)),e();else if(this.simpleFillStyle===n.FILL_EMPTY)t.fillStyle="rgba(0,0,0,0)",-1!=this.outlineColor&&(t.setLineDash&&t.setLineDash([]),t.strokeStyle=r.fixColorToRGBA(this.outlineColor)),e();else{var i,o=new Image;switch(o.onload=function(){i=t.createPattern(o,"repeat"),t.fillStyle=i,e(i)},this.simpleFillStyle){case n.FILL_HS_VERTICAL:o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAEklEQVR42mNgIA78ZxhVSF+FADnECfcIwHeYAAAAAElFTkSuQmCC";break;case n.FILL_HS_HORIZONTAL:o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAEElEQVR42mNgGAV0B/+JwQC+3An3dc4tsQAAAABJRU5ErkJggg==";break;case n.FILL_HS_CROSS:o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAFUlEQVR42mNgIA78ZxhVSDWF/4nBAPYHEu7oyP2iAAAAAElFTkSuQmCC";break;case n.FILL_HS_BDIAGONAL:o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAEUlEQVR42mNgIA78H1VEZ0UA7RAJ9w0UEO0AAAAASUVORK5CYII=";break;case n.FILL_HS_FDIAGONAL:o.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAFElEQVR42mNgYGD4z0ACGFVMJ8UA7RAJ97b9jwIAAAAASUVORK5CYII="}}},i}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(5),n(0),n(15),n(4),n(39),n(41),n(43),n(44),n(45)],void 0===(i=function(t,e,n,r,i,o,s,a,u){"use strict";var l=function(){n.call(this),this._cellType=void 0,this._color=0,this._cellsCount=0,this._lineCells=[]};return e(l.prototype=Object.create(n.prototype),{cellType:{get:function(){return this._cellType},set:function(t){this._cellType=t}},color:{get:function(){return this._color},set:function(t){t=r.fixColorToRGBA(t),this._color=t}},cellsCount:{get:function(){return this._cellsCount},set:function(t){this._cellsCount=t}},lineCells:{get:function(){return this._lineCells}}}),l.prototype.serializationHeader=function(e){this.cellType=e.getUint32(this.position,!0),this.updatePosition(4),this.color=e.getUint32(this.position,!0),this.updatePosition(4),this.cellsCount=e.getUint32(this.position,!0),this.updatePosition(4);for(var n,r,i=0;i<this.cellsCount;)n=e.getUint32(this.position,!0),r=this.createCell(n),t(r)&&(r.updatePosition(this.position),r.serialization(e),this.position=r.position,this.lineCells.push(r)),i++},l.prototype.serialization=function(t){},l.prototype.createCell=function(t){var e=void 0;switch(t){case u.SimpleLine:e=new a;break;case u.HashLine:break;case u.CartographicLine:e=new i;break;case u.PointLine:e=new s;break;case u.LocalPointLine:e=new o}return e},l}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(6)],void 0===(i=function(t){"use strict";return t({SimpleFill:0})}.apply(e,r))||(t.exports=i)},function(t,e,n){var r=n(68);t.exports=r},function(t,e,n){var r,i;r=[n(69),n(46),n(1),n(5),n(0),n(7),n(6),n(47),n(71),n(48),n(51),n(50),n(52),n(12),n(65),n(64),n(39),n(32),n(40),n(41),n(43),n(44),n(14),n(17),n(18),n(19),n(20),n(21),n(23),n(22),n(8),n(24),n(25),n(26),n(27),n(3),n(28),n(66),n(58),n(45),n(34),n(42),n(29),n(33),n(59),n(15),n(56),n(2),n(63),n(61),n(53),n(54),n(60),n(62),n(13),n(57),n(9),n(38),n(31),n(37),n(16),n(30),n(10),n(4),n(36),n(11),n(35),n(55)],void 0===(i=function(t,e,n,r,i,o,s,a,u,l,c,h,f,p,d,y,g,m,v,_,b,x,w,E,S,P,C,I,M,O,T,L,N,A,R,D,k,F,B,j,z,G,q,U,V,X,Y,H,W,J,K,Z,Q,$,tt,et,nt,rt,it,ot,st,at,ut,lt,ct,ht,ft,pt){"use strict";t.init();var dt={VERSION:"1.0.0",config:{mode:"2d",forceUnlockColor:!1}};return dt.defaultValue=e,dt.defined=n,dt.definedNotNull=r,dt.defineProperties=i,dt.DeveloperError=o,dt.freezeObject=s,dt.loadArrayBuffer=a,dt.loadEleSymbol=u,dt.loadWithXhr=l,dt.parseResponseHeaders=c,dt.RequestErrorEvent=h,dt.RuntimeError=f,dt.Transform=p,dt.FillCell=d,dt.SimpleFillCell=y,dt.CartograhicLineCell=g,dt.LineCell=m,dt.LineCellProperties=v,dt.LocatePointLineCell=_,dt.PointLineCell=b,dt.SimpleLineCell=x,dt.ArcPointCell=w,dt.AsteriskPointCell=E,dt.ChordPointCell=S,dt.CurvegonPointCell=P,dt.CurvelinePointCell=C,dt.EllipsePointCell=I,dt.LinePointCell=M,dt.PiePointCell=O,dt.PointCell=T,dt.PolygonPointCell=L,dt.PolylinePointCell=N,dt.RectanglePointCell=A,dt.SimplePointCell=R,dt.SurfacePointCell=D,dt.TextPointCell=k,dt.FillCellType=F,dt.FontParam=B,dt.LineCellType=j,dt.LinePattern=z,dt.LocatePointLineCellType=G,dt.PointCellType=q,dt.SymbolTemplate=U,dt.TextParam=V,dt.Cell=X,dt.GeoEnvelope=Y,dt.GeoPoint=H,dt.GeoPolygon=W,dt.GeoPolyline=J,dt.ComplexSymbolType=K,dt.PointSymbol=Z,dt.LineSymbol=Q,dt.FillSymbol=$,dt.SymbolBase=tt,dt.BrushStyle=et,dt.BrushStyleType=nt,dt.FillStyleType=rt,dt.LabelStyle=it,dt.LineStyle=ot,dt.LineStyleType=st,dt.SymbolStyle=at,dt.ArrayBufferUtil=ut,dt.ColorUtil=lt,dt.BrowserUtil=ct,dt.GeomUtil=ht,dt.SymbolUtil=ft,dt.UnitUtil=pt,dt}.apply(e,r))||(t.exports=i)},function(t,e,n){var r,i;r=[n(36)],void 0===(i=function(t){"use strict";var e={init:function(){window.ArrayBuffer=window.ArrayBuffer||function(t){if((t=ToInt32(t))<0)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"_bytes",{value:Array(t)});for(var e=0;e<t;e+=1)this._bytes[e]=0},ArrayBuffer.prototype.slice||(ArrayBuffer.prototype.slice=function(t,e){if(this._bytes)(r=new ArrayBuffer(e-t))._bytes=this._bytes.slice(t,e);else{var n=new Uint8Array(this);null==e&&(e=n.length);for(var r=new ArrayBuffer(e-t),i=new Uint8Array(r),o=0,s=i.length;o<s;o++)i[o]=n[o+t]}return r}),ArrayBuffer.prototype.sliceTarget=function(t,e,n){null==n&&(n=t.length);for(var r=new ArrayBuffer(n-e),i=new Uint8Array(r),o=0,s=i.length;o<s;o++)i[o]=t[o+e];return r},function(){try{new Map}catch(e){(t=function(){this.array=[]}).prototype.put=t.prototype.set=function(t,e){var n=this.getIndex(t);n>-1?this.array[n]={key:t,value:e}:this.array.push({key:t,value:e})},t.prototype.get=function(t){var e=this.getIndex(t);return e>-1?this.array[e].value:void 0},t.prototype.getAtIndex=function(t){return this.array[t].value},t.prototype.getKeyAtIndex=function(t){return this.array[t].key},t.prototype.remove=function(t){var e=this.getIndexOfValue(t);this.removeByIndex(e)},t.prototype.removeByKey=function(t){var e=this.getIndex(t);this.removeByIndex(e)},t.prototype.removeByIndex=function(t){-1!=t&&this.array.splice(t,1)},t.prototype.clear=function(){this.array=new Array(0)},t.prototype.all=function(){return this.array},t.prototype.getAllValues=function(){for(var t=[],e=0;e<this.array.length;e++)t.push(this.array[e].value);return t},t.prototype.getIndex=function(t){for(var e=-1,n=0;n<this.array.length;n++)this.array[n].key==t&&(e=n);return e},t.prototype.getIndexOfValue=function(t){for(var e=-1,n=0;n<this.array.length;n++)this.array[n].value==t&&(e=n);return e},t.prototype.getKeyOfValue=function(t){for(var e=void 0,n=0;n<this.array.length;n++){var r=this.array[n];r.value==t&&(e=r.key)}return e},t.prototype.contains=function(t){return this.getIndexOfValue(t)>-1},t.prototype.containsKey=function(t){return this.getIndex(t)>-1},t.prototype.size=function(){return this.array.length},window.Map=t}var t}(),window.ToInt32=function(t){return t>>0},window.ToUint32=function(t){return t>>>0},function(){if(t.isIe9()){var e=document.createElement("script");e.type="text/vbscript",e.language="VBScript",e.innerHTML='\x3c!-- IEBinaryToArray_ByteStr --\x3e\r\nFunction IEBinaryToArray_ByteStr(Binary)\r\n   IEBinaryToArray_ByteStr = CStr(Binary)\r\nEnd Function\r\nFunction IEBinaryToArray_ByteStr_Last(Binary)\r\n   Dim lastIndex\r\n   lastIndex = LenB(Binary)\r\n   if lastIndex mod 2 Then\r\n       IEBinaryToArray_ByteStr_Last = Chr( AscB( MidB( Binary, lastIndex, 1 ) ) )\r\n   Else\r\n       IEBinaryToArray_ByteStr_Last = ""\r\n   End If\r\nEnd Function\r\n',document.body.appendChild(e)}}()}};return e}.apply(e,r))||(t.exports=i)},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){var r,i;r=[n(49),n(1),n(5),n(0),n(7),n(47),n(53),n(54),n(60),n(62),n(30),n(31),n(10)],void 0===(i=function(t,e,n,r,i,o,s,a,u,l,c,h,f){"use strict";var p=function(){this._url=void 0,this._version="EP Version 1.0",this._symbolMap={},this._symbolTypeMap={},this.supportMap=!1;var t=this;this._symbolMap.set=function(e,n){t._symbolMap[e]=n},this._symbolTypeMap.set=function(e,n){t._symbolTypeMap[e]=n},this._symbolMap.get=function(e){return t._symbolMap[e]},this._symbolTypeMap.get=function(e){return t._symbolTypeMap[e]}};return r(p.prototype,{url:{get:function(){return this._url},set:function(t){if(!e(t))throw new i("url is required.");t!==this._url&&(this._url=t)}},version:{get:function(){return this._version},set:function(t){t!==this._version&&e(t)&&(this._version=t)}},symbolMap:{get:function(){return this._symbolMap}},symbolTypeMap:{get:function(){return this._symbolTypeMap}}}),p.prototype.loadArrayBufferData=function(t){},p.prototype.load=function(e,n,r){this.url=e,this.version=n||this.version;var i=this,s=function(t){var e=i.version.length;if(t.isIEPolyfill){var n=new ArrayBuffer(t.length);n._bytes=t,t=n}var r=t.slice(0,e),o=f.ab2str(r);if(i.version===o){var s,a,u,l=t.byteLength||t.length,c=e+1,h=new DataView(t);for((new Date).getTime();c<l&&c+8<l;)u=(a=c+4)+h.getUint32(c,!0),s=t.slice(a,u),i.readSingleSymbolBytes(s),c=u;return!0}return!1};if("arrayBuffer"!=r){if("json"==r){var a=!1,u=e;try{for(var l in u)i.symbolMap.set(l,u[l]);a=!0}catch(t){a=!1,console.error("(json)")}var c=t.defer();return setTimeout((function(){c.resolve(a)}),5),c.promise}return o(e).then((function(t){return s(t)})).otherwise((function(t){return!1}))}try{return s(e),!0}catch(t){return!1}},p.prototype.readSingleSymbolBytes=function(t){var e=new DataView(t),r=e.getUint32(0,!0),i=e.getUint32(4,!0),o=this.createSymbol(r);n(o)&&(o.serialization(e),this.symbolMap.set(i,o))},p.prototype.createSymbol=function(t){var e=void 0;switch(t){case s.PointSymbol:e=new a;break;case s.LineSymbol:e=new u;break;case s.FillSymbol:e=new l;break;case s.TextSymbol:}return e},p.prototype.getSymbol=function(t){if(!e(t))throw new i("code is required.");return this.symbolMap.get(t)},p.prototype.getSymbolType=function(t){if(!e(t))throw new i("code is required.");return this.symbolTypeMap.get(t)},p.prototype.draw=function(t,r,o,s,a){if(!e(o))throw new i("geometry is required.");var u=this.getSymbol(r);n(u)&&u.draw(t,o,s,a)},p}.apply(e,r))||(t.exports=i)}])},"object"==a(e)&&"object"==a(t)?t.exports=s():(i=[],void 0===(o="function"==typeof(r=s)?r.apply(e,i):r)||(t.exports=o))},1924:(t,e,n)=>{"use strict";var r=n(210),i=n(5559),o=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&o(t,".prototype.")>-1?i(n):n}},5559:(t,e,n)=>{"use strict";var r=n(8612),i=n(210),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||r.call(s,o),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=a(r,s,arguments);if(u&&l){var n=u(e,"length");n.configurable&&l(e,"length",{value:1+c(0,t.length-(arguments.length-1))})}return e};var h=function(){return a(r,o,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h},2273:(t,e,n)=>{"use strict";var r=n(1662),i=n(3842),o=n(6960),s=n(8639).orient2d;function a(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;var i=function(t){for(var e=t[0],n=t[0],r=t[0],i=t[0],s=0;s<t.length;s++){var a=t[s];a[0]<e[0]&&(e=a),a[0]>r[0]&&(r=a),a[1]<n[1]&&(n=a),a[1]>i[1]&&(i=a)}var u=[e,n,r,i],l=u.slice();for(s=0;s<t.length;s++)o(t[s],u)||l.push(t[s]);return function(t){t.sort(_);for(var e=[],n=0;n<t.length;n++){for(;e.length>=2&&p(e[e.length-2],e[e.length-1],t[n])<=0;)e.pop();e.push(t[n])}for(var r=[],i=t.length-1;i>=0;i--){for(;r.length>=2&&p(r[r.length-2],r[r.length-1],t[i])<=0;)r.pop();r.push(t[i])}return r.pop(),e.pop(),e.concat(r)}(l)}(t),s=new r(16);s.toBBox=function(t){return{minX:t[0],minY:t[1],maxX:t[0],maxY:t[1]}},s.compareMinX=function(t,e){return t[0]-e[0]},s.compareMinY=function(t,e){return t[1]-e[1]},s.load(t);for(var a,l=[],c=0;c<i.length;c++){var h=i[c];s.remove(h),a=y(h,a),l.push(a)}var f=new r(16);for(c=0;c<l.length;c++)f.insert(d(l[c]));for(var m=e*e,v=n*n;l.length;){var b=l.shift(),x=b.p,w=b.next.p,E=g(x,w);if(!(E<v)){var S=E/m;(h=u(s,b.prev.p,x,w,b.next.next.p,S,f))&&Math.min(g(h,x),g(h,w))<=S&&(l.push(b),l.push(y(h,b)),s.remove(h),f.remove(b),f.insert(d(b)),f.insert(d(b.next)))}}b=a;var P=[];do{P.push(b.p),b=b.next}while(b!==a);return P.push(b.p),P}function u(t,e,n,r,o,s,a){for(var u=new i([],l),h=t.data;h;){for(var p=0;p<h.children.length;p++){var d=h.children[p],y=h.leaf?m(d,n,r):c(n,r,d);y>s||u.push({node:d,dist:y})}for(;u.length&&!u.peek().node.children;){var g=u.pop(),v=g.node,_=m(v,e,n),b=m(v,r,o);if(g.dist<_&&g.dist<b&&f(n,v,a)&&f(r,v,a))return v}(h=u.pop())&&(h=h.node)}return null}function l(t,e){return t.dist-e.dist}function c(t,e,n){if(h(t,n)||h(e,n))return 0;var r=v(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===r)return 0;var i=v(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===i)return 0;var o=v(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=v(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(r,i,o,s)}function h(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function f(t,e,n){for(var r,i,o,s,a=Math.min(t[0],e[0]),u=Math.min(t[1],e[1]),l=Math.max(t[0],e[0]),c=Math.max(t[1],e[1]),h=n.search({minX:a,minY:u,maxX:l,maxY:c}),f=0;f<h.length;f++)if(r=h[f].p,i=h[f].next.p,o=t,r!==(s=e)&&i!==o&&p(r,i,o)>0!=p(r,i,s)>0&&p(o,s,r)>0!=p(o,s,i)>0)return!1;return!0}function p(t,e,n){return s(t[0],t[1],e[0],e[1],n[0],n[1])}function d(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function y(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function g(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function m(t,e,n){var r=e[0],i=e[1],o=n[0]-r,s=n[1]-i;if(0!==o||0!==s){var a=((t[0]-r)*o+(t[1]-i)*s)/(o*o+s*s);a>1?(r=n[0],i=n[1]):a>0&&(r+=o*a,i+=s*a)}return(o=t[0]-r)*o+(s=t[1]-i)*s}function v(t,e,n,r,i,o,s,a){var u,l,c,h,f=n-t,p=r-e,d=s-i,y=a-o,g=t-i,m=e-o,v=f*f+p*p,_=f*d+p*y,b=d*d+y*y,x=f*g+p*m,w=d*g+y*m,E=v*b-_*_,S=E,P=E;0===E?(l=0,S=1,h=w,P=b):(h=v*w-_*x,(l=_*w-b*x)<0?(l=0,h=w,P=b):l>S&&(l=S,h=w+_,P=b)),h<0?(h=0,-x<0?l=0:-x>v?l=S:(l=-x,S=v)):h>P&&(h=P,-x+_<0?l=0:-x+_>v?l=S:(l=-x+_,S=v));var C=(1-(c=0===h?0:h/P))*i+c*s-((1-(u=0===l?0:l/S))*t+u*n),I=(1-c)*o+c*a-((1-u)*e+u*r);return C*C+I*I}function _(t,e){return t[0]===e[0]?t[1]-e[1]:t[0]-e[0]}i.default&&(i=i.default),t.exports=a,t.exports.default=a},1662:function(t){t.exports=function(){"use strict";function t(t,r,i,o,s){!function t(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,u=r-i+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(u-a/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-u*c/a+h)),Math.min(o,Math.floor(r+(a-u)*c/a+h)),s)}var f=n[r],p=i,d=o;for(e(n,i,r),s(n[o],f)>0&&e(n,i,o);p<d;){for(e(n,p,d),p++,d--;s(n[p],f)<0;)p++;for(;s(n[d],f)>0;)d--}0===s(n[i],f)?e(n,i,d):e(n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(t,r,i||0,o||t.length-1,s||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=d(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];a(i,t.leaf?r(s):s)}return i}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,n,r,i,o){for(var s=[n,r];s.length;)if(!((r=s.pop())-(n=s.pop())<=i)){var a=n+Math.ceil((r-n)/i/2)*i;t(e,a,n,r,o),s.push(n,a,a,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?r(s):s;p(t,a)&&(e.leaf?n.push(s):f(t,a)?this._all(s,n):i.push(s))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(p(t,o)){if(e.leaf||f(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf){var c=i(t,s.children,e);if(-1!==c)return s.children.splice(c,1),u.push(s),this._condense(u),this}o||s.leaf||!f(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,s=n-e+1,a=this._maxEntries;if(s<=a)return o(i=d(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(i=d([])).leaf=!1,i.height=r;var u=Math.ceil(s/a),l=u*Math.ceil(Math.sqrt(a));y(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var h=Math.min(c+l-1,n);y(t,c,h,u,this.compareMinY);for(var f=c;f<=h;f+=u){var p=Math.min(f+u-1,h);i.children.push(this._build(t,f,p,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var u=e.children[a],l=c(u),h=(f=t,p=u,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-l);h<o?(o=h,i=l<i?l:i,s=u):h===o&&l<i&&(i=l,s=u)}e=s||e.children[0]}var f,p;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),a(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var s=this._chooseSplitIndex(n,i,r),a=d(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,a,u,l,h,f=1/0,p=1/0,d=e;d<=n-e;d++){var y=s(t,0,d,this.toBBox),g=s(t,d,n,this.toBBox),m=(i=y,o=g,a=void 0,u=void 0,l=void 0,h=void 0,a=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),l=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,l-a)*Math.max(0,h-u)),v=c(y)+c(g);m<f?(f=m,r=d,p=v<p?v:p):m===f&&v<p&&(p=v,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=s(t,0,e,i),u=s(t,n-e,n,i),l=h(o)+h(u),c=e;c<n-e;c++){var f=t.children[c];a(o,t.leaf?i(f):f),l+=h(o)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];a(u,t.leaf?i(d):d),l+=h(u)}return l},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)a(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},1688:(t,e,n)=>{"use strict";function r(){return new i}function i(){this.reset()}n.r(e),n.d(e,{geoAlbers:()=>br,geoAlbersUsa:()=>xr,geoArea:()=>W,geoAzimuthalEqualArea:()=>Pr,geoAzimuthalEqualAreaRaw:()=>Sr,geoAzimuthalEquidistant:()=>Ir,geoAzimuthalEquidistantRaw:()=>Cr,geoBounds:()=>zt,geoCentroid:()=>Qt,geoCircle:()=>le,geoClipExtent:()=>Se,geoConicConformal:()=>Ar,geoConicConformalRaw:()=>Nr,geoConicEqualArea:()=>_r,geoConicEqualAreaRaw:()=>vr,geoConicEquidistant:()=>Fr,geoConicEquidistantRaw:()=>kr,geoContains:()=>He,geoDistance:()=>Be,geoEquirectangular:()=>Dr,geoEquirectangularRaw:()=>Rr,geoGnomonic:()=>jr,geoGnomonicRaw:()=>Br,geoGraticule:()=>Ke,geoGraticule10:()=>Ze,geoIdentity:()=>Gr,geoInterpolate:()=>Qe,geoLength:()=>De,geoMercator:()=>Or,geoMercatorRaw:()=>Mr,geoNaturalEarth1:()=>Ur,geoNaturalEarth1Raw:()=>qr,geoOrthographic:()=>Xr,geoOrthographicRaw:()=>Vr,geoPath:()=>er,geoProjection:()=>yr,geoProjectionMutator:()=>gr,geoRotation:()=>se,geoStereographic:()=>Hr,geoStereographicRaw:()=>Yr,geoStream:()=>D,geoTransform:()=>ar,geoTransverseMercator:()=>Jr,geoTransverseMercatorRaw:()=>Wr}),i.prototype={constructor:i,reset:function(){this.s=this.t=0},add:function(t){s(o,t,this.t),s(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new i;function s(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var a=1e-6,u=Math.PI,l=u/2,c=u/4,h=2*u,f=180/u,p=u/180,d=Math.abs,y=Math.atan,g=Math.atan2,m=Math.cos,v=Math.ceil,_=Math.exp,b=(Math.floor,Math.log),x=Math.pow,w=Math.sin,E=Math.sign||function(t){return t>0?1:t<0?-1:0},S=Math.sqrt,P=Math.tan;function C(t){return t>1?0:t<-1?u:Math.acos(t)}function I(t){return t>1?l:t<-1?-l:Math.asin(t)}function M(t){return(t=w(t/2))*t}function O(){}function T(t,e){t&&N.hasOwnProperty(t.type)&&N[t.type](t,e)}var L={Feature:function(t,e){T(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)T(n[r].geometry,e)}},N={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){A(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)A(n[r],e,0)},Polygon:function(t,e){R(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)R(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)T(n[r],e)}};function A(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function R(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)A(t[n],e,1);e.polygonEnd()}function D(t,e){t&&L.hasOwnProperty(t.type)?L[t.type](t,e):T(t,e)}var k,F,B,j,z,G=r(),q=r(),U={point:O,lineStart:O,lineEnd:O,polygonStart:function(){G.reset(),U.lineStart=V,U.lineEnd=X},polygonEnd:function(){var t=+G;q.add(t<0?h+t:t),this.lineStart=this.lineEnd=this.point=O},sphere:function(){q.add(h)}};function V(){U.point=Y}function X(){H(k,F)}function Y(t,e){U.point=H,k=t,F=e,B=t*=p,j=m(e=(e*=p)/2+c),z=w(e)}function H(t,e){var n=(t*=p)-B,r=n>=0?1:-1,i=r*n,o=m(e=(e*=p)/2+c),s=w(e),a=z*s,u=j*o+a*m(i),l=a*r*w(i);G.add(g(l,u)),B=t,j=o,z=s}function W(t){return q.reset(),D(t,U),2*q}function J(t){return[g(t[1],t[0]),I(t[2])]}function K(t){var e=t[0],n=t[1],r=m(n);return[r*m(e),r*w(e),w(n)]}function Z(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Q(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function $(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function tt(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function et(t){var e=S(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var nt,rt,it,ot,st,at,ut,lt,ct,ht,ft,pt,dt,yt,gt,mt,vt,_t,bt,xt,wt,Et,St,Pt,Ct,It,Mt=r(),Ot={point:Tt,lineStart:Nt,lineEnd:At,polygonStart:function(){Ot.point=Rt,Ot.lineStart=Dt,Ot.lineEnd=kt,Mt.reset(),U.polygonStart()},polygonEnd:function(){U.polygonEnd(),Ot.point=Tt,Ot.lineStart=Nt,Ot.lineEnd=At,G<0?(nt=-(it=180),rt=-(ot=90)):Mt>a?ot=90:Mt<-a&&(rt=-90),ht[0]=nt,ht[1]=it}};function Tt(t,e){ct.push(ht=[nt=t,it=t]),e<rt&&(rt=e),e>ot&&(ot=e)}function Lt(t,e){var n=K([t*p,e*p]);if(lt){var r=Q(lt,n),i=Q([r[1],-r[0],0],r);et(i),i=J(i);var o,s=t-st,a=s>0?1:-1,u=i[0]*f*a,l=d(s)>180;l^(a*st<u&&u<a*t)?(o=i[1]*f)>ot&&(ot=o):l^(a*st<(u=(u+360)%360-180)&&u<a*t)?(o=-i[1]*f)<rt&&(rt=o):(e<rt&&(rt=e),e>ot&&(ot=e)),l?t<st?Ft(nt,t)>Ft(nt,it)&&(it=t):Ft(t,it)>Ft(nt,it)&&(nt=t):it>=nt?(t<nt&&(nt=t),t>it&&(it=t)):t>st?Ft(nt,t)>Ft(nt,it)&&(it=t):Ft(t,it)>Ft(nt,it)&&(nt=t)}else ct.push(ht=[nt=t,it=t]);e<rt&&(rt=e),e>ot&&(ot=e),lt=n,st=t}function Nt(){Ot.point=Lt}function At(){ht[0]=nt,ht[1]=it,Ot.point=Tt,lt=null}function Rt(t,e){if(lt){var n=t-st;Mt.add(d(n)>180?n+(n>0?360:-360):n)}else at=t,ut=e;U.point(t,e),Lt(t,e)}function Dt(){U.lineStart()}function kt(){Rt(at,ut),U.lineEnd(),d(Mt)>a&&(nt=-(it=180)),ht[0]=nt,ht[1]=it,lt=null}function Ft(t,e){return(e-=t)<0?e+360:e}function Bt(t,e){return t[0]-e[0]}function jt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function zt(t){var e,n,r,i,o,s,a;if(ot=it=-(nt=rt=1/0),ct=[],D(t,Ot),n=ct.length){for(ct.sort(Bt),e=1,o=[r=ct[0]];e<n;++e)jt(r,(i=ct[e])[0])||jt(r,i[1])?(Ft(r[0],i[1])>Ft(r[0],r[1])&&(r[1]=i[1]),Ft(i[0],r[1])>Ft(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(s=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(a=Ft(r[1],i[0]))>s&&(s=a,nt=i[0],it=r[1])}return ct=ht=null,nt===1/0||rt===1/0?[[NaN,NaN],[NaN,NaN]]:[[nt,rt],[it,ot]]}var Gt={sphere:O,point:qt,lineStart:Vt,lineEnd:Ht,polygonStart:function(){Gt.lineStart=Wt,Gt.lineEnd=Jt},polygonEnd:function(){Gt.lineStart=Vt,Gt.lineEnd=Ht}};function qt(t,e){t*=p;var n=m(e*=p);Ut(n*m(t),n*w(t),w(e))}function Ut(t,e,n){++ft,dt+=(t-dt)/ft,yt+=(e-yt)/ft,gt+=(n-gt)/ft}function Vt(){Gt.point=Xt}function Xt(t,e){t*=p;var n=m(e*=p);Pt=n*m(t),Ct=n*w(t),It=w(e),Gt.point=Yt,Ut(Pt,Ct,It)}function Yt(t,e){t*=p;var n=m(e*=p),r=n*m(t),i=n*w(t),o=w(e),s=g(S((s=Ct*o-It*i)*s+(s=It*r-Pt*o)*s+(s=Pt*i-Ct*r)*s),Pt*r+Ct*i+It*o);pt+=s,mt+=s*(Pt+(Pt=r)),vt+=s*(Ct+(Ct=i)),_t+=s*(It+(It=o)),Ut(Pt,Ct,It)}function Ht(){Gt.point=qt}function Wt(){Gt.point=Kt}function Jt(){Zt(Et,St),Gt.point=qt}function Kt(t,e){Et=t,St=e,t*=p,e*=p,Gt.point=Zt;var n=m(e);Pt=n*m(t),Ct=n*w(t),It=w(e),Ut(Pt,Ct,It)}function Zt(t,e){t*=p;var n=m(e*=p),r=n*m(t),i=n*w(t),o=w(e),s=Ct*o-It*i,a=It*r-Pt*o,u=Pt*i-Ct*r,l=S(s*s+a*a+u*u),c=I(l),h=l&&-c/l;bt+=h*s,xt+=h*a,wt+=h*u,pt+=c,mt+=c*(Pt+(Pt=r)),vt+=c*(Ct+(Ct=i)),_t+=c*(It+(It=o)),Ut(Pt,Ct,It)}function Qt(t){ft=pt=dt=yt=gt=mt=vt=_t=bt=xt=wt=0,D(t,Gt);var e=bt,n=xt,r=wt,i=e*e+n*n+r*r;return i<1e-12&&(e=mt,n=vt,r=_t,pt<a&&(e=dt,n=yt,r=gt),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[g(n,e)*f,I(r/S(i))*f]}function $t(t){return function(){return t}}function te(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function ee(t,e){return[t>u?t-h:t<-u?t+h:t,e]}function ne(t,e,n){return(t%=h)?e||n?te(ie(t),oe(e,n)):ie(t):e||n?oe(e,n):ee}function re(t){return function(e,n){return[(e+=t)>u?e-h:e<-u?e+h:e,n]}}function ie(t){var e=re(t);return e.invert=re(-t),e}function oe(t,e){var n=m(t),r=w(t),i=m(e),o=w(e);function s(t,e){var s=m(e),a=m(t)*s,u=w(t)*s,l=w(e),c=l*n+a*r;return[g(u*i-c*o,a*n-l*r),I(c*i+u*o)]}return s.invert=function(t,e){var s=m(e),a=m(t)*s,u=w(t)*s,l=w(e),c=l*i-u*o;return[g(u*i+l*o,a*n+c*r),I(c*n-a*r)]},s}function se(t){function e(e){return(e=t(e[0]*p,e[1]*p))[0]*=f,e[1]*=f,e}return t=ne(t[0]*p,t[1]*p,t.length>2?t[2]*p:0),e.invert=function(e){return(e=t.invert(e[0]*p,e[1]*p))[0]*=f,e[1]*=f,e},e}function ae(t,e,n,r,i,o){if(n){var s=m(e),a=w(e),u=r*n;null==i?(i=e+r*h,o=e-u/2):(i=ue(s,i),o=ue(s,o),(r>0?i<o:i>o)&&(i+=r*h));for(var l,c=i;r>0?c>o:c<o;c-=u)l=J([s,-a*m(c),-a*w(c)]),t.point(l[0],l[1])}}function ue(t,e){(e=K(e))[0]-=t,et(e);var n=C(-e[1]);return((-e[2]<0?-n:n)+h-a)%h}function le(){var t,e,n=$t([0,0]),r=$t(90),i=$t(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=f,n[1]*=f}};function s(){var s=n.apply(this,arguments),a=r.apply(this,arguments)*p,u=i.apply(this,arguments)*p;return t=[],e=ne(-s[0]*p,-s[1]*p,0).invert,ae(o,a,u,1),s={type:"Polygon",coordinates:[t]},t=e=null,s}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:$t([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(r="function"==typeof t?t:$t(+t),s):r},s.precision=function(t){return arguments.length?(i="function"==typeof t?t:$t(+t),s):i},s}function ce(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:O,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function he(t,e){return d(t[0]-e[0])<a&&d(t[1]-e[1])<a}function fe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function pe(t,e,n,r,i){var o,s,a=[],u=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],s=t[e];if(he(r,s)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else a.push(n=new fe(r,t,null,!0)),u.push(n.o=new fe(r,null,n,!1)),a.push(n=new fe(s,t,null,!1)),u.push(n.o=new fe(s,null,n,!0))}})),a.length){for(u.sort(e),de(a),de(u),o=0,s=u.length;o<s;++o)u[o].e=n=!n;for(var l,c,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;l=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=l.length;o<s;++o)i.point((c=l[o])[0],c[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p)for(l=f.p.z,o=l.length-1;o>=0;--o)i.point((c=l[o])[0],c[1]);else r(f.x,f.p.x,-1,i);f=f.p}l=(f=f.o).z,p=!p}while(!f.v);i.lineEnd()}}}function de(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function ye(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}ee.invert=ee;var ge,me;1===(ge=ye).length&&(me=ge,ge=function(t,e){return ye(me(t),e)});var ve=Array.prototype;ve.slice,ve.map,Math.sqrt(50),Math.sqrt(10),Math.sqrt(2);function _e(t){for(var e,n,r,i=t.length,o=-1,s=0;++o<i;)s+=t[o].length;for(n=new Array(s);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--s]=r[e];return n}function be(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var xe=1e9,we=-xe;function Ee(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,a,u){var c=0,h=0;if(null==i||(c=s(i,a))!==(h=s(o,a))||l(i,o)<0^a>0)do{u.point(0===c||3===c?t:n,c>1?r:e)}while((c=(c+a+4)%4)!==h);else u.point(o[0],o[1])}function s(r,i){return d(r[0]-t)<a?i>0?0:3:d(r[0]-n)<a?i>0?2:1:d(r[1]-e)<a?i>0?1:0:i>0?3:2}function u(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),r=s(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var a,l,c,h,f,p,d,y,g,m,v,_=s,b=ce(),x={point:w,lineStart:function(){x.point=E,l&&l.push(c=[]);m=!0,g=!1,d=y=NaN},lineEnd:function(){a&&(E(h,f),p&&g&&b.rejoin(),a.push(b.result()));x.point=w,g&&_.lineEnd()},polygonStart:function(){_=b,a=[],l=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=l.length;n<i;++n)for(var o,s,a=l[n],u=1,c=a.length,h=a[0],f=h[0],p=h[1];u<c;++u)o=f,s=p,f=(h=a[u])[0],p=h[1],s<=r?p>r&&(f-o)*(r-s)>(p-s)*(t-o)&&++e:p<=r&&(f-o)*(r-s)<(p-s)*(t-o)&&--e;return e}(),n=v&&e,i=(a=_e(a)).length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),i&&pe(a,u,e,o,s),s.polygonEnd());_=s,a=l=c=null}};function w(t,e){i(t,e)&&_.point(t,e)}function E(o,s){var a=i(o,s);if(l&&c.push([o,s]),m)h=o,f=s,p=a,m=!1,a&&(_.lineStart(),_.point(o,s));else if(a&&g)_.point(o,s);else{var u=[d=Math.max(we,Math.min(xe,d)),y=Math.max(we,Math.min(xe,y))],b=[o=Math.max(we,Math.min(xe,o)),s=Math.max(we,Math.min(xe,s))];!function(t,e,n,r,i,o){var s,a=t[0],u=t[1],l=0,c=1,h=e[0]-a,f=e[1]-u;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<l)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>l&&(l=s)}if(s=i-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>l&&(l=s)}else if(h>0){if(s<l)return;s<c&&(c=s)}if(s=r-u,f||!(s>0)){if(s/=f,f<0){if(s<l)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>l&&(l=s)}if(s=o-u,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>l&&(l=s)}else if(f>0){if(s<l)return;s<c&&(c=s)}return l>0&&(t[0]=a+l*h,t[1]=u+l*f),c<1&&(e[0]=a+c*h,e[1]=u+c*f),!0}}}}}(u,b,t,e,n,r)?a&&(_.lineStart(),_.point(o,s),v=!1):(g||(_.lineStart(),_.point(u[0],u[1])),_.point(b[0],b[1]),a||_.lineEnd(),v=!1)}d=o,y=s,g=a}return x}}function Se(){var t,e,n,r=0,i=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=Ee(r,i,o,s)(e=n)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[r,i],[o,s]]}}}var Pe=r();function Ce(t,e){var n=e[0],r=e[1],i=[w(n),-m(n),0],o=0,s=0;Pe.reset();for(var l=0,f=t.length;l<f;++l)if(d=(p=t[l]).length)for(var p,d,y=p[d-1],v=y[0],_=y[1]/2+c,b=w(_),x=m(_),E=0;E<d;++E,v=P,b=M,x=O,y=S){var S=p[E],P=S[0],C=S[1]/2+c,M=w(C),O=m(C),T=P-v,L=T>=0?1:-1,N=L*T,A=N>u,R=b*M;if(Pe.add(g(R*L*w(N),x*O+R*m(N))),o+=A?T+L*h:T,A^v>=n^P>=n){var D=Q(K(y),K(S));et(D);var k=Q(i,D);et(k);var F=(A^T>=0?-1:1)*I(k[2]);(r>F||r===F&&(D[0]||D[1]))&&(s+=A^T>=0?1:-1)}}return(o<-a||o<a&&Pe<-a)^1&s}var Ie,Me,Oe,Te=r(),Le={sphere:O,point:O,lineStart:function(){Le.point=Ae,Le.lineEnd=Ne},lineEnd:O,polygonStart:O,polygonEnd:O};function Ne(){Le.point=Le.lineEnd=O}function Ae(t,e){Ie=t*=p,Me=w(e*=p),Oe=m(e),Le.point=Re}function Re(t,e){t*=p;var n=w(e*=p),r=m(e),i=d(t-Ie),o=m(i),s=r*w(i),a=Oe*n-Me*r*o,u=Me*n+Oe*r*o;Te.add(g(S(s*s+a*a),u)),Ie=t,Me=n,Oe=r}function De(t){return Te.reset(),D(t,Le),+Te}var ke=[null,null],Fe={type:"LineString",coordinates:ke};function Be(t,e){return ke[0]=t,ke[1]=e,De(Fe)}var je={Feature:function(t,e){return Ge(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Ge(n[r].geometry,e))return!0;return!1}},ze={Sphere:function(){return!0},Point:function(t,e){return qe(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(qe(n[r],e))return!0;return!1},LineString:function(t,e){return Ue(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ue(n[r],e))return!0;return!1},Polygon:function(t,e){return Ve(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ve(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Ge(n[r],e))return!0;return!1}};function Ge(t,e){return!(!t||!ze.hasOwnProperty(t.type))&&ze[t.type](t,e)}function qe(t,e){return 0===Be(t,e)}function Ue(t,e){var n=Be(t[0],t[1]);return Be(t[0],e)+Be(e,t[1])<=n+a}function Ve(t,e){return!!Ce(t.map(Xe),Ye(e))}function Xe(t){return(t=t.map(Ye)).pop(),t}function Ye(t){return[t[0]*p,t[1]*p]}function He(t,e){return(t&&je.hasOwnProperty(t.type)?je[t.type]:Ge)(t,e)}function We(t,e,n){var r=be(t,e-a,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function Je(t,e,n){var r=be(t,e-a,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function Ke(){var t,e,n,r,i,o,s,u,l,c,h,f,p=10,y=p,g=90,m=360,_=2.5;function b(){return{type:"MultiLineString",coordinates:x()}}function x(){return be(v(r/g)*g,n,g).map(h).concat(be(v(u/m)*m,s,m).map(f)).concat(be(v(e/p)*p,t,p).filter((function(t){return d(t%g)>a})).map(l)).concat(be(v(o/y)*y,i,y).filter((function(t){return d(t%m)>a})).map(c))}return b.lines=function(){return x().map((function(t){return{type:"LineString",coordinates:t}}))},b.outline=function(){return{type:"Polygon",coordinates:[h(r).concat(f(s).slice(1),h(n).reverse().slice(1),f(u).reverse().slice(1))]}},b.extent=function(t){return arguments.length?b.extentMajor(t).extentMinor(t):b.extentMinor()},b.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],u=+t[0][1],s=+t[1][1],r>n&&(t=r,r=n,n=t),u>s&&(t=u,u=s,s=t),b.precision(_)):[[r,u],[n,s]]},b.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),b.precision(_)):[[e,o],[t,i]]},b.step=function(t){return arguments.length?b.stepMajor(t).stepMinor(t):b.stepMinor()},b.stepMajor=function(t){return arguments.length?(g=+t[0],m=+t[1],b):[g,m]},b.stepMinor=function(t){return arguments.length?(p=+t[0],y=+t[1],b):[p,y]},b.precision=function(a){return arguments.length?(_=+a,l=We(o,i,90),c=Je(e,t,_),h=We(u,s,90),f=Je(r,n,_),b):_},b.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Ze(){return Ke()()}function Qe(t,e){var n=t[0]*p,r=t[1]*p,i=e[0]*p,o=e[1]*p,s=m(r),a=w(r),u=m(o),l=w(o),c=s*m(n),h=s*w(n),d=u*m(i),y=u*w(i),v=2*I(S(M(o-r)+s*u*M(i-n))),_=w(v),b=v?function(t){var e=w(t*=v)/_,n=w(v-t)/_,r=n*c+e*d,i=n*h+e*y,o=n*a+e*l;return[g(i,r)*f,g(o,S(r*r+i*i))*f]}:function(){return[n*f,r*f]};return b.distance=v,b}function $e(t){return t}var tn,en,nn,rn,on=r(),sn=r(),an={point:O,lineStart:O,lineEnd:O,polygonStart:function(){an.lineStart=un,an.lineEnd=hn},polygonEnd:function(){an.lineStart=an.lineEnd=an.point=O,on.add(d(sn)),sn.reset()},result:function(){var t=on/2;return on.reset(),t}};function un(){an.point=ln}function ln(t,e){an.point=cn,tn=nn=t,en=rn=e}function cn(t,e){sn.add(rn*t-nn*e),nn=t,rn=e}function hn(){cn(tn,en)}const fn=an;var pn=1/0,dn=pn,yn=-pn,gn=yn;const mn={point:function(t,e){t<pn&&(pn=t);t>yn&&(yn=t);e<dn&&(dn=e);e>gn&&(gn=e)},lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O,result:function(){var t=[[pn,dn],[yn,gn]];return yn=gn=-(dn=pn=1/0),t}};var vn,_n,bn,xn,wn=0,En=0,Sn=0,Pn=0,Cn=0,In=0,Mn=0,On=0,Tn=0,Ln={point:Nn,lineStart:An,lineEnd:kn,polygonStart:function(){Ln.lineStart=Fn,Ln.lineEnd=Bn},polygonEnd:function(){Ln.point=Nn,Ln.lineStart=An,Ln.lineEnd=kn},result:function(){var t=Tn?[Mn/Tn,On/Tn]:In?[Pn/In,Cn/In]:Sn?[wn/Sn,En/Sn]:[NaN,NaN];return wn=En=Sn=Pn=Cn=In=Mn=On=Tn=0,t}};function Nn(t,e){wn+=t,En+=e,++Sn}function An(){Ln.point=Rn}function Rn(t,e){Ln.point=Dn,Nn(bn=t,xn=e)}function Dn(t,e){var n=t-bn,r=e-xn,i=S(n*n+r*r);Pn+=i*(bn+t)/2,Cn+=i*(xn+e)/2,In+=i,Nn(bn=t,xn=e)}function kn(){Ln.point=Nn}function Fn(){Ln.point=jn}function Bn(){zn(vn,_n)}function jn(t,e){Ln.point=zn,Nn(vn=bn=t,_n=xn=e)}function zn(t,e){var n=t-bn,r=e-xn,i=S(n*n+r*r);Pn+=i*(bn+t)/2,Cn+=i*(xn+e)/2,In+=i,Mn+=(i=xn*t-bn*e)*(bn+t),On+=i*(xn+e),Tn+=3*i,Nn(bn=t,xn=e)}const Gn=Ln;function qn(t){this._context=t}qn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,h)}},result:O};var Un,Vn,Xn,Yn,Hn,Wn=r(),Jn={point:O,lineStart:function(){Jn.point=Kn},lineEnd:function(){Un&&Zn(Vn,Xn),Jn.point=O},polygonStart:function(){Un=!0},polygonEnd:function(){Un=null},result:function(){var t=+Wn;return Wn.reset(),t}};function Kn(t,e){Jn.point=Zn,Vn=Yn=t,Xn=Hn=e}function Zn(t,e){Yn-=t,Hn-=e,Wn.add(S(Yn*Yn+Hn*Hn)),Yn=t,Hn=e}const Qn=Jn;function $n(){this._string=[]}function tr(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function er(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),D(t,n(r))),r.result()}return o.area=function(t){return D(t,n(fn)),fn.result()},o.measure=function(t){return D(t,n(Qn)),Qn.result()},o.bounds=function(t){return D(t,n(mn)),mn.result()},o.centroid=function(t){return D(t,n(Gn)),Gn.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,$e):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new $n):new qn(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function nr(t,e,n,r){return function(i,o){var s,a,u,l=e(o),c=i.invert(r[0],r[1]),h=ce(),f=e(h),p=!1,d={point:y,lineStart:m,lineEnd:v,polygonStart:function(){d.point=_,d.lineStart=b,d.lineEnd=x,a=[],s=[]},polygonEnd:function(){d.point=y,d.lineStart=m,d.lineEnd=v,a=_e(a);var t=Ce(s,c);a.length?(p||(o.polygonStart(),p=!0),pe(a,ir,t,n,o)):t&&(p||(o.polygonStart(),p=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),p&&(o.polygonEnd(),p=!1),a=s=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function y(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function g(t,e){var n=i(t,e);l.point(n[0],n[1])}function m(){d.point=g,l.lineStart()}function v(){d.point=y,l.lineEnd()}function _(t,e){u.push([t,e]);var n=i(t,e);f.point(n[0],n[1])}function b(){f.lineStart(),u=[]}function x(){_(u[0][0],u[0][1]),f.lineEnd();var t,e,n,r,i=f.clean(),l=h.result(),c=l.length;if(u.pop(),s.push(u),u=null,c)if(1&i){if((e=(n=l[0]).length-1)>0){for(p||(o.polygonStart(),p=!0),o.lineStart(),t=0;t<e;++t)o.point((r=n[t])[0],r[1]);o.lineEnd()}}else c>1&&2&i&&l.push(l.pop().concat(l.shift())),a.push(l.filter(rr))}return d}}function rr(t){return t.length>1}function ir(t,e){return((t=t.x)[0]<0?t[1]-l-a:l-t[1])-((e=e.x)[0]<0?e[1]-l-a:l-e[1])}$n.prototype={_radius:4.5,_circle:tr(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=tr(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};const or=nr((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var c=o>0?u:-u,h=d(o-n);d(h-u)<a?(t.point(n,r=(r+s)/2>0?l:-l),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),t.point(o,r),e=0):i!==c&&h>=u&&(d(n-i)<a&&(n-=i*a),d(o-c)<a&&(o-=c*a),r=function(t,e,n,r){var i,o,s=w(t-n);return d(s)>a?y((w(e)*(o=m(r))*w(n)-w(r)*(i=m(e))*w(t))/(i*o*s)):(e+r)/2}(n,r,o,s),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(c,r),e=0),t.point(n=o,r=s),i=c},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*l,r.point(-u,i),r.point(0,i),r.point(u,i),r.point(u,0),r.point(u,-i),r.point(0,-i),r.point(-u,-i),r.point(-u,0),r.point(-u,i);else if(d(t[0]-e[0])>a){var o=t[0]<e[0]?u:-u;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-u,-l]);function sr(t,e){var n=m(t),r=n>0,i=d(n)>a;function o(t,e){return m(t)*m(e)>n}function s(t,e,r){var i=[1,0,0],o=Q(K(t),K(e)),s=Z(o,o),l=o[0],c=s-l*l;if(!c)return!r&&t;var h=n*s/c,f=-n*l/c,p=Q(i,o),y=tt(i,h);$(y,tt(o,f));var g=p,m=Z(y,g),v=Z(g,g),_=m*m-v*(Z(y,y)-1);if(!(_<0)){var b=S(_),x=tt(g,(-m-b)/v);if($(x,y),x=J(x),!r)return x;var w,E=t[0],P=e[0],C=t[1],I=e[1];P<E&&(w=E,E=P,P=w);var M=P-E,O=d(M-u)<a;if(!O&&I<C&&(w=C,C=I,I=w),O||M<a?O?C+I>0^x[1]<(d(x[0]-E)<a?C:I):C<=x[1]&&x[1]<=I:M>u^(E<=x[0]&&x[0]<=P)){var T=tt(g,(-m+b)/v);return $(T,y),[x,J(T)]}}}function l(e,n){var i=r?t:u-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return nr(o,(function(t){var e,n,c,h,f;return{lineStart:function(){h=c=!1,f=1},point:function(p,d){var y,g=[p,d],m=o(p,d),v=r?m?0:l(p,d):m?l(p+(p<0?u:-u),d):0;if(!e&&(h=c=m)&&t.lineStart(),m!==c&&(!(y=s(e,g))||he(e,y)||he(g,y))&&(g[0]+=a,g[1]+=a,m=o(g[0],g[1])),m!==c)f=0,m?(t.lineStart(),y=s(g,e),t.point(y[0],y[1])):(y=s(e,g),t.point(y[0],y[1]),t.lineEnd()),e=y;else if(i&&e&&r^m){var _;v&n||!(_=s(g,e,!0))||(f=0,r?(t.lineStart(),t.point(_[0][0],_[0][1]),t.point(_[1][0],_[1][1]),t.lineEnd()):(t.point(_[1][0],_[1][1]),t.lineEnd(),t.lineStart(),t.point(_[0][0],_[0][1])))}!m||e&&he(e,g)||t.point(g[0],g[1]),e=g,c=m,n=v},lineEnd:function(){c&&t.lineEnd(),e=null},clean:function(){return f|(h&&c)<<1}}}),(function(n,r,i,o){ae(o,t,e,i,n,r)}),r?[0,-t]:[-u,t-u])}function ar(t){return{stream:ur(t)}}function ur(t){return function(e){var n=new lr;for(var r in t)n[r]=t[r];return n.stream=e,n}}function lr(){}function cr(t,e,n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),D(n,t.stream(mn));var s=mn.result(),a=Math.min(r/(s[1][0]-s[0][0]),i/(s[1][1]-s[0][1])),u=+e[0][0]+(r-a*(s[1][0]+s[0][0]))/2,l=+e[0][1]+(i-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([u,l])}function hr(t,e,n){return cr(t,[[0,0],e],n)}lr.prototype={constructor:lr,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var fr=m(30*p);function pr(t,e){return+e?function(t,e){function n(r,i,o,s,u,l,c,h,f,p,y,m,v,_){var b=c-r,x=h-i,w=b*b+x*x;if(w>4*e&&v--){var E=s+p,P=u+y,C=l+m,M=S(E*E+P*P+C*C),O=I(C/=M),T=d(d(C)-1)<a||d(o-f)<a?(o+f)/2:g(P,E),L=t(T,O),N=L[0],A=L[1],R=N-r,D=A-i,k=x*R-b*D;(k*k/w>e||d((b*R+x*D)/w-.5)>.3||s*p+u*y+l*m<fr)&&(n(r,i,o,s,u,l,N,A,T,E/=M,P/=M,C,v,_),_.point(N,A),n(N,A,T,E,P,C,c,h,f,p,y,m,v,_))}}return function(e){var r,i,o,s,a,u,l,c,h,f,p,d,y={point:g,lineStart:m,lineEnd:_,polygonStart:function(){e.polygonStart(),y.lineStart=b},polygonEnd:function(){e.polygonEnd(),y.lineStart=m}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function m(){c=NaN,y.point=v,e.lineStart()}function v(r,i){var o=K([r,i]),s=t(r,i);n(c,h,l,f,p,d,c=s[0],h=s[1],l=r,f=o[0],p=o[1],d=o[2],16,e),e.point(c,h)}function _(){y.point=g,e.lineEnd()}function b(){m(),y.point=x,y.lineEnd=w}function x(t,e){v(r=t,e),i=c,o=h,s=f,a=p,u=d,y.point=v}function w(){n(c,h,l,f,p,d,i,o,r,s,a,u,16,e),y.lineEnd=_,_()}return y}}(t,e):function(t){return ur({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var dr=ur({point:function(t,e){this.stream.point(t*p,e*p)}});function yr(t){return gr((function(){return t}))()}function gr(t){var e,n,r,i,o,s,a,u,l,c,h=150,d=480,y=250,g=0,m=0,v=0,_=0,b=0,x=null,w=or,E=null,P=$e,C=.5,I=pr(T,C);function M(t){return[(t=o(t[0]*p,t[1]*p))[0]*h+n,r-t[1]*h]}function O(t){return(t=o.invert((t[0]-n)/h,(r-t[1])/h))&&[t[0]*f,t[1]*f]}function T(t,i){return[(t=e(t,i))[0]*h+n,r-t[1]*h]}function L(){o=te(i=ne(v,_,b),e);var t=e(g,m);return n=d-t[0]*h,r=y+t[1]*h,N()}function N(){return l=c=null,M}return M.stream=function(t){return l&&c===t?l:l=dr(w(i,I(P(c=t))))},M.clipAngle=function(t){return arguments.length?(w=+t?sr(x=t*p,6*p):(x=null,or),N()):x*f},M.clipExtent=function(t){return arguments.length?(P=null==t?(E=s=a=u=null,$e):Ee(E=+t[0][0],s=+t[0][1],a=+t[1][0],u=+t[1][1]),N()):null==E?null:[[E,s],[a,u]]},M.scale=function(t){return arguments.length?(h=+t,L()):h},M.translate=function(t){return arguments.length?(d=+t[0],y=+t[1],L()):[d,y]},M.center=function(t){return arguments.length?(g=t[0]%360*p,m=t[1]%360*p,L()):[g*f,m*f]},M.rotate=function(t){return arguments.length?(v=t[0]%360*p,_=t[1]%360*p,b=t.length>2?t[2]%360*p:0,L()):[v*f,_*f,b*f]},M.precision=function(t){return arguments.length?(I=pr(T,C=t*t),N()):S(C)},M.fitExtent=function(t,e){return cr(M,t,e)},M.fitSize=function(t,e){return hr(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&O,L()}}function mr(t){var e=0,n=u/3,r=gr(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*p,n=t[1]*p):[e*f,n*f]},i}function vr(t,e){var n=w(t),r=(n+w(e))/2;if(d(r)<a)return function(t){var e=m(t);function n(t,n){return[t*e,w(n)/e]}return n.invert=function(t,n){return[t/e,I(n*e)]},n}(t);var i=1+n*(2*r-n),o=S(i)/r;function s(t,e){var n=S(i-2*r*w(e))/r;return[n*w(t*=r),o-n*m(t)]}return s.invert=function(t,e){var n=o-e;return[g(t,d(n))/r*E(n),I((i-(t*t+n*n)*r*r)/(2*r))]},s}function _r(){return mr(vr).scale(155.424).center([0,33.6442])}function br(){return _r().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function xr(){var t,e,n,r,i,o,s=br(),u=_r().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=_r().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function h(t){var e=t[0],s=t[1];return o=null,n.point(e,s),o||(r.point(e,s),o)||(i.point(e,s),o)}function f(){return t=e=null,h}return h.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:s).invert(t)},h.stream=function(n){return t&&e===n?t:(r=[s.stream(e=n),u.stream(n),l.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},h.precision=function(t){return arguments.length?(s.precision(t),u.precision(t),l.precision(t),f()):s.precision()},h.scale=function(t){return arguments.length?(s.scale(t),u.scale(.35*t),l.scale(t),h.translate(s.translate())):s.scale()},h.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),o=+t[0],h=+t[1];return n=s.translate(t).clipExtent([[o-.455*e,h-.238*e],[o+.455*e,h+.238*e]]).stream(c),r=u.translate([o-.307*e,h+.201*e]).clipExtent([[o-.425*e+a,h+.12*e+a],[o-.214*e-a,h+.234*e-a]]).stream(c),i=l.translate([o-.205*e,h+.212*e]).clipExtent([[o-.214*e+a,h+.166*e+a],[o-.115*e-a,h+.234*e-a]]).stream(c),f()},h.fitExtent=function(t,e){return cr(h,t,e)},h.fitSize=function(t,e){return hr(h,t,e)},h.scale(1070)}function wr(t){return function(e,n){var r=m(e),i=m(n),o=t(r*i);return[o*i*w(e),o*w(n)]}}function Er(t){return function(e,n){var r=S(e*e+n*n),i=t(r),o=w(i),s=m(i);return[g(e*o,r*s),I(r&&n*o/r)]}}var Sr=wr((function(t){return S(2/(1+t))}));function Pr(){return yr(Sr).scale(124.75).clipAngle(179.999)}Sr.invert=Er((function(t){return 2*I(t/2)}));var Cr=wr((function(t){return(t=C(t))&&t/w(t)}));function Ir(){return yr(Cr).scale(79.4188).clipAngle(179.999)}function Mr(t,e){return[t,b(P((l+e)/2))]}function Or(){return Tr(Mr).scale(961/h)}function Tr(t){var e,n,r,i=yr(t),o=i.center,s=i.scale,a=i.translate,l=i.clipExtent,c=null;function h(){var o=u*s(),a=i(se(i.rotate()).invert([0,0]));return l(null==c?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===Mr?[[Math.max(a[0]-o,c),e],[Math.min(a[0]+o,n),r]]:[[c,Math.max(a[1]-o,e)],[n,Math.min(a[1]+o,r)]])}return i.scale=function(t){return arguments.length?(s(t),h()):s()},i.translate=function(t){return arguments.length?(a(t),h()):a()},i.center=function(t){return arguments.length?(o(t),h()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),h()):null==c?null:[[c,e],[n,r]]},h()}function Lr(t){return P((l+t)/2)}function Nr(t,e){var n=m(t),r=t===e?w(t):b(n/m(e))/b(Lr(e)/Lr(t)),i=n*x(Lr(t),r)/r;if(!r)return Mr;function o(t,e){i>0?e<-l+a&&(e=-l+a):e>l-a&&(e=l-a);var n=i/x(Lr(e),r);return[n*w(r*t),i-n*m(r*t)]}return o.invert=function(t,e){var n=i-e,o=E(r)*S(t*t+n*n);return[g(t,d(n))/r*E(n),2*y(x(i/o,1/r))-l]},o}function Ar(){return mr(Nr).scale(109.5).parallels([30,30])}function Rr(t,e){return[t,e]}function Dr(){return yr(Rr).scale(152.63)}function kr(t,e){var n=m(t),r=t===e?w(t):(n-m(e))/(e-t),i=n/r+t;if(d(r)<a)return Rr;function o(t,e){var n=i-e,o=r*t;return[n*w(o),i-n*m(o)]}return o.invert=function(t,e){var n=i-e;return[g(t,d(n))/r*E(n),i-E(r)*S(t*t+n*n)]},o}function Fr(){return mr(kr).scale(131.154).center([0,13.9389])}function Br(t,e){var n=m(e),r=m(t)*n;return[n*w(t)/r,w(e)/r]}function jr(){return yr(Br).scale(144.049).clipAngle(60)}function zr(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?$e:ur({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}function Gr(){var t,e,n,r,i,o,s=1,a=0,u=0,l=1,c=1,h=$e,f=null,p=$e;function d(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=h(p(i=t))},clipExtent:function(r){return arguments.length?(p=null==r?(f=t=e=n=null,$e):Ee(f=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),d()):null==f?null:[[f,t],[e,n]]},scale:function(t){return arguments.length?(h=zr((s=+t)*l,s*c,a,u),d()):s},translate:function(t){return arguments.length?(h=zr(s*l,s*c,a=+t[0],u=+t[1]),d()):[a,u]},reflectX:function(t){return arguments.length?(h=zr(s*(l=t?-1:1),s*c,a,u),d()):l<0},reflectY:function(t){return arguments.length?(h=zr(s*l,s*(c=t?-1:1),a,u),d()):c<0},fitExtent:function(t,e){return cr(o,t,e)},fitSize:function(t,e){return hr(o,t,e)}}}function qr(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function Ur(){return yr(qr).scale(175.295)}function Vr(t,e){return[m(e)*w(t),w(e)]}function Xr(){return yr(Vr).scale(249.5).clipAngle(90.000001)}function Yr(t,e){var n=m(e),r=1+m(t)*n;return[n*w(t)/r,w(e)/r]}function Hr(){return yr(Yr).scale(250).clipAngle(142)}function Wr(t,e){return[b(P((l+e)/2)),-t]}function Jr(){var t=Tr(Wr),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}Cr.invert=Er((function(t){return t})),Mr.invert=function(t,e){return[t,2*y(_(e))-l]},Rr.invert=Rr,Br.invert=Er(y),qr.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,s=o*o;r-=n=(r*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(d(n)>a&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},Vr.invert=Er(I),Yr.invert=Er((function(t){return 2*y(t)})),Wr.invert=function(t,e){return[-e,2*y(_(t))-l]}},1704:(t,e,n)=>{"use strict";function r(t){return function(){return t}}function i(t){return t[0]}function o(t){return t[1]}function s(){this._=null}function a(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function u(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function l(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function c(t){for(;t.L;)t=t.L;return t}n.r(e),n.d(e,{voronoi:()=>G}),s.prototype={constructor:s,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=c(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(u(this,n),n=(t=n).U),n.C=!1,r.C=!0,l(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(l(this,n),n=(t=n).U),n.C=!1,r.C=!0,u(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,s=t.R;if(n=o?s?c(s):o:s,i?i.L===t?i.L=n:i.R=n:this._=n,o&&s?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=s,s.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,u(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,l(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,u(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,l(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,u(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,l(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};const h=s;function f(t,e,n,r){var i=[null,null],o=k.push(i)-1;return i.left=t,i.right=e,n&&d(i,t,e,n),r&&d(i,e,t,r),R[t.index].halfedges.push(o),R[e.index].halfedges.push(o),i}function p(t,e,n){var r=[e,n];return r.left=t,r}function d(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function y(t,e,n,r,i){var o,s=t[0],a=t[1],u=s[0],l=s[1],c=0,h=1,f=a[0]-u,p=a[1]-l;if(o=e-u,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-l,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[u+c*f,l+c*p]),h<1&&(t[1]=[u+h*f,l+h*p]),!0)}}}}}function g(t,e,n,r,i){var o=t[1];if(o)return!0;var s,a,u=t[0],l=t.left,c=t.right,h=l[0],f=l[1],p=c[0],d=c[1],y=(h+p)/2,g=(f+d)/2;if(d===f){if(y<e||y>=r)return;if(h>p){if(u){if(u[1]>=i)return}else u=[y,n];o=[y,i]}else{if(u){if(u[1]<n)return}else u=[y,i];o=[y,n]}}else if(a=g-(s=(h-p)/(d-f))*y,s<-1||s>1)if(h>p){if(u){if(u[1]>=i)return}else u=[(n-a)/s,n];o=[(i-a)/s,i]}else{if(u){if(u[1]<n)return}else u=[(i-a)/s,i];o=[(n-a)/s,n]}else if(f<d){if(u){if(u[0]>=r)return}else u=[e,s*e+a];o=[r,s*r+a]}else{if(u){if(u[0]<e)return}else u=[r,s*r+a];o=[e,s*e+a]}return t[0]=u,t[1]=o,!0}function m(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function v(t,e){return e[+(e.left!==t.site)]}function _(t,e){return e[+(e.left===t.site)]}var b,x=[];function w(){a(this),this.x=this.y=this.arc=this.site=this.cy=null}function E(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var s=i[0],a=i[1],u=r[0]-s,l=r[1]-a,c=o[0]-s,h=o[1]-a,f=2*(u*h-l*c);if(!(f>=-B)){var p=u*u+l*l,d=c*c+h*h,y=(h*p-l*d)/f,g=(u*d-c*p)/f,m=x.pop()||new w;m.arc=t,m.site=i,m.x=y+s,m.y=(m.cy=g+a)+Math.sqrt(y*y+g*g),t.circle=m;for(var v=null,_=D._;_;)if(m.y<_.y||m.y===_.y&&m.x<=_.x){if(!_.L){v=_.P;break}_=_.L}else{if(!_.R){v=_;break}_=_.R}D.insert(v,m),v||(b=m)}}}}function S(t){var e=t.circle;e&&(e.P||(b=e.N),D.remove(e),x.push(e),a(e),t.circle=null)}var P=[];function C(){a(this),this.edge=this.site=this.circle=null}function I(t){var e=P.pop()||new C;return e.site=t,e}function M(t){S(t),A.remove(t),P.push(t),a(t)}function O(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,s=t.N,a=[t];M(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<F&&Math.abs(r-u.circle.cy)<F;)o=u.P,a.unshift(u),M(u),u=o;a.unshift(u),S(u);for(var l=s;l.circle&&Math.abs(n-l.circle.x)<F&&Math.abs(r-l.circle.cy)<F;)s=l.N,a.push(l),M(l),l=s;a.push(l),S(l);var c,h=a.length;for(c=1;c<h;++c)l=a[c],u=a[c-1],d(l.edge,u.site,l.site,i);u=a[0],(l=a[h-1]).edge=f(u.site,l.site,null,i),E(u),E(l)}function T(t){for(var e,n,r,i,o=t[0],s=t[1],a=A._;a;)if((r=L(a,s)-o)>F)a=a.L;else{if(!((i=o-N(a,s))>F)){r>-F?(e=a.P,n=a):i>-F?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){R[t.index]={site:t,halfedges:[]}}(t);var u=I(t);if(A.insert(e,u),e||n){if(e===n)return S(e),n=I(e.site),A.insert(u,n),u.edge=n.edge=f(e.site,u.site),E(e),void E(n);if(n){S(e),S(n);var l=e.site,c=l[0],h=l[1],p=t[0]-c,y=t[1]-h,g=n.site,m=g[0]-c,v=g[1]-h,_=2*(p*v-y*m),b=p*p+y*y,x=m*m+v*v,w=[(v*b-y*x)/_+c,(p*x-m*b)/_+h];d(n.edge,l,g,w),u.edge=f(l,t,null,w),n.edge=f(t,g,null,w),E(e),E(n)}else u.edge=f(e.site,u.site)}}function L(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],u=n[1],l=u-e;if(!l)return a;var c=a-r,h=1/o-1/l,f=c/l;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*l)-u+l/2+i-o/2)))/h+r:(r+a)/2}function N(t,e){var n=t.N;if(n)return L(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var A,R,D,k,F=1e-6,B=1e-12;function j(t,e){return e[1]-t[1]||e[0]-t[0]}function z(t,e){var n,r,i,o=t.sort(j).pop();for(k=[],R=new Array(t.length),A=new h,D=new h;;)if(i=b,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(T(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;O(i.arc)}if(function(){for(var t,e,n,r,i=0,o=R.length;i<o;++i)if((t=R[i])&&(r=(e=t.halfedges).length)){var s=new Array(r),a=new Array(r);for(n=0;n<r;++n)s[n]=n,a[n]=m(t,k[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<r;++n)a[n]=e[s[n]];for(n=0;n<r;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=k.length;o--;)g(i=k[o],t,e,n,r)&&y(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>F||Math.abs(i[0][1]-i[1][1])>F)||delete k[o]}(s,a,u,l),function(t,e,n,r){var i,o,s,a,u,l,c,h,f,d,y,g,m=R.length,b=!0;for(i=0;i<m;++i)if(o=R[i]){for(s=o.site,a=(u=o.halfedges).length;a--;)k[u[a]]||u.splice(a,1);for(a=0,l=u.length;a<l;)y=(d=_(o,k[u[a]]))[0],g=d[1],h=(c=v(o,k[u[++a%l]]))[0],f=c[1],(Math.abs(y-h)>F||Math.abs(g-f)>F)&&(u.splice(a,0,k.push(p(s,d,Math.abs(y-t)<F&&r-g>F?[t,Math.abs(h-t)<F?f:r]:Math.abs(g-r)<F&&n-y>F?[Math.abs(f-r)<F?h:n,r]:Math.abs(y-n)<F&&g-e>F?[n,Math.abs(h-n)<F?f:e]:Math.abs(g-e)<F&&y-t>F?[Math.abs(f-e)<F?h:t,e]:null))-1),++l);l&&(b=!1)}if(b){var x,w,E,S=1/0;for(i=0,b=null;i<m;++i)(o=R[i])&&(E=(x=(s=o.site)[0]-t)*x+(w=s[1]-e)*w)<S&&(S=E,b=o);if(b){var P=[t,e],C=[t,r],I=[n,r],M=[n,e];b.halfedges.push(k.push(p(s=b.site,P,C))-1,k.push(p(s,C,I))-1,k.push(p(s,I,M))-1,k.push(p(s,M,P))-1)}}for(i=0;i<m;++i)(o=R[i])&&(o.halfedges.length||delete R[i])}(s,a,u,l)}this.edges=k,this.cells=R,A=D=k=R=null}function G(){var t=i,e=o,n=null;function s(r){return new z(r.map((function(n,i){var o=[Math.round(t(n,i,r)/F)*F,Math.round(e(n,i,r)/F)*F];return o.index=i,o.data=n,o})),n)}return s.polygons=function(t){return s(t).polygons()},s.links=function(t){return s(t).links()},s.triangles=function(t){return s(t).triangles()},s.x=function(e){return arguments.length?(t="function"==typeof e?e:r(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:r(+t),s):e},s.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],s):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},s.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],s):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},s}z.prototype={constructor:z,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return v(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,s,a,u,l,c=n.site,h=-1,f=e[i[o-1]],p=f.left===c?f.right:f.left;++h<o;)s=p,p=(f=e[i[h]]).left===c?f.right:f.left,s&&p&&r<s.index&&r<p.index&&(u=s,l=p,((a=c)[0]-l[0])*(u[1]-a[1])-(a[0]-u[0])*(l[1]-a[1])<0)&&t.push([c.data,s.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,s=o._found||0,a=o.cells.length;!(i=o.cells[s]);)if(++s>=a)return null;var u=t-i.site[0],l=e-i.site[1],c=u*u+l*l;do{i=o.cells[r=s],s=null,i.halfedges.forEach((function(n){var r=o.edges[n],a=r.left;if(a!==i.site&&a||(a=r.right)){var u=t-a[0],l=e-a[1],h=u*u+l*l;h<c&&(c=h,s=a.index)}}))}while(null!==s);return o._found=r,null==n||c<=n*n?i.site:null}}},251:(t,e,n)=>{var r=n(2215),i=n(2584),o=n(609),s=n(8420),a=n(2847),u=n(8923),l=Date.prototype.getTime;function c(t,e,n){var p=n||{};return!!(p.strict?o(t,e):t===e)||(!t||!e||"object"!=typeof t&&"object"!=typeof e?p.strict?o(t,e):t==e:function(t,e,n){var o,p;if(typeof t!=typeof e)return!1;if(h(t)||h(e))return!1;if(t.prototype!==e.prototype)return!1;if(i(t)!==i(e))return!1;var d=s(t),y=s(e);if(d!==y)return!1;if(d||y)return t.source===e.source&&a(t)===a(e);if(u(t)&&u(e))return l.call(t)===l.call(e);var g=f(t),m=f(e);if(g!==m)return!1;if(g||m){if(t.length!==e.length)return!1;for(o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}if(typeof t!=typeof e)return!1;try{var v=r(t),_=r(e)}catch(t){return!1}if(v.length!==_.length)return!1;for(v.sort(),_.sort(),o=v.length-1;o>=0;o--)if(v[o]!=_[o])return!1;for(o=v.length-1;o>=0;o--)if(!c(t[p=v[o]],e[p],n))return!1;return!0}(t,e,p))}function h(t){return null==t}function f(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length)&&("function"==typeof t.copy&&"function"==typeof t.slice&&!(t.length>0&&"number"!=typeof t[0]))}t.exports=c},4289:(t,e,n)=>{"use strict";var r=n(2215),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,u=a&&function(){var t={};try{for(var e in a(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),l=function(t,e,n,r){var i;(!(e in t)||"function"==typeof(i=r)&&"[object Function]"===o.call(i)&&r())&&(u?a(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},c=function(t,e){var n=arguments.length>2?arguments[2]:{},o=r(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)l(t,o[a],e[o[a]],n[o[a]])};c.supportsDescriptors=!!u,t.exports=c},8317:t=>{function e(t,e,n,r){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,r)}e.prototype.run=function(t,e,n,r){this._init(t,e,n,r);for(var i=0;i<this._datasetLength;i++)if(1!==this._visited[i]){this._visited[i]=1;var o=this._regionQuery(i);if(o.length<this.minPts)this.noise.push(i);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(i,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var r=e[n];if(1!==this._visited[r]){this._visited[r]=1;var i=this._regionQuery(r);i.length>=this.minPts&&(e=this._mergeArrays(e,i))}1!==this._assigned[r]&&this._addToCluster(r,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++){this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n)}return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r];t.indexOf(i)<0&&t.push(i)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=e)},3781:t=>{function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,r=0;r<this.k;r++)this.centroids[r]=this.randomCentroid();for(var i=!0;i;){i=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(c),a=0,u=0;u<c;u++)s[u]=0;for(var l=0;l<n;l++){var c=this.dataset[l].length;if(o===this.assignments[l]){for(u=0;u<c;u++)s[u]+=this.dataset[l][u];a++}}if(a>0){for(u=0;u<c;u++)s[u]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),i=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,r=0;r<n;r++)(t=this.argmin(this.dataset[r],this.centroids,this.distance))!=this.assignments[r]&&(this.assignments[r]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var r,i=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(r=n(t,e[a]))<i&&(i=r,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;){var i=t[r]-e[r];n+=i*i}return Math.sqrt(n)},t.exports&&(t.exports=e)},3763:(t,e,n)=>{if(t.exports)var r=n(7985);function i(t,e,n,r){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,r)}i.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var u=new r(null,null,"asc"),l=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,l,u),this._expandCluster(a,u))}return this.clusters},i.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var r=this._orderedList[e],i=this._reachability[r];t.push([r,i])}return t},i.prototype._init=function(t,e,n,r){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),r&&(this.distance=r)},i.prototype._updateQueue=function(t,e,n){var r=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===r._processed[e]){var i=r.distance(r.dataset[t],r.dataset[e]),o=Math.max(r._coreDistance,i);void 0===r._reachability[e]?(r._reachability[e]=o,n.insert(e,o)):o<r._reachability[e]&&(r._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},i.prototype._expandCluster=function(t,e){for(var n=e.getElements(),r=0,i=n.length;r<i;r++){var o=n[r];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},i.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++){if(this._regionQuery(t,n).length>=this.minPts)return n}},i.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],r=0,i=this.dataset.length;r<i;r++)this.distance(this.dataset[t],this.dataset[r])<e&&n.push(r);return n},i.prototype._euclideanDistance=function(t,e){for(var n=0,r=Math.min(t.length,e.length);r--;)n+=(t[r]-e[r])*(t[r]-e[r]);return Math.sqrt(n)},t.exports&&(t.exports=i)},7985:t=>{function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,r=n;r--;){var i=this._priorities[r];"desc"===this._sorting?e>i&&(n=r):e<i&&(n=r)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;){if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var r=0;r<t.length;r++)this.insert(t[r],e[r])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)},2606:(t,e,n)=>{t.exports&&(t.exports={DBSCAN:n(8317),KMEANS:n(3781),OPTICS:n(3763),PriorityQueue:n(7985)})},9187:t=>{"use strict";function e(t,e,o){o=o||2;var s,a,u,h,f,d,y,g=e&&e.length,m=g?e[0]*o:t.length,v=n(t,0,m,o,!0),_=[];if(!v||v.next===v.prev)return _;if(g&&(v=function(t,e,i,o){var s,a,u,h=[];for(s=0,a=e.length;s<a;s++)(u=n(t,e[s]*o,s<a-1?e[s+1]*o:t.length,o,!1))===u.next&&(u.steiner=!0),h.push(p(u));for(h.sort(l),s=0;s<h.length;s++)i=r(i=c(h[s],i),i.next);return i}(t,e,v,o)),t.length>80*o){s=u=t[0],a=h=t[1];for(var b=o;b<m;b+=o)(f=t[b])<s&&(s=f),(d=t[b+1])<a&&(a=d),f>u&&(u=f),d>h&&(h=d);y=0!==(y=Math.max(u-s,h-a))?1/y:0}return i(v,_,o,s,a,y),_}function n(t,e,n,r,i){var o,s;if(i===C(t,e,n,r)>0)for(o=e;o<n;o+=r)s=E(o,t[o],t[o+1],s);else for(o=n-r;o>=e;o-=r)s=E(o,t[o],t[o+1],s);return s&&m(s,s.next)&&(S(s),s=s.next),s}function r(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!m(r,r.next)&&0!==g(r.prev,r,r.next))r=r.next;else{if(S(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function i(t,e,n,l,c,h,p){if(t){!p&&h&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=f(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,r=n,a=0,e=0;e<l&&(a++,r=r.nextZ);e++);for(u=l;a>0||u>0&&r;)0!==a&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,l*=2}while(s>1)}(i)}(t,l,c,h);for(var d,y,g=t;t.prev!==t.next;)if(d=t.prev,y=t.next,h?s(t,l,c,h):o(t))e.push(d.i/n),e.push(t.i/n),e.push(y.i/n),S(t),t=y.next,g=y.next;else if((t=y)===g){p?1===p?i(t=a(r(t),e,n),e,n,l,c,h,2):2===p&&u(t,e,n,l,c,h):i(r(t),e,n,l,c,h,1);break}}}function o(t){var e=t.prev,n=t,r=t.next;if(g(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(d(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&g(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function s(t,e,n,r){var i=t.prev,o=t,s=t.next;if(g(i,o,s)>=0)return!1;for(var a=i.x<o.x?i.x<s.x?i.x:s.x:o.x<s.x?o.x:s.x,u=i.y<o.y?i.y<s.y?i.y:s.y:o.y<s.y?o.y:s.y,l=i.x>o.x?i.x>s.x?i.x:s.x:o.x>s.x?o.x:s.x,c=i.y>o.y?i.y>s.y?i.y:s.y:o.y>s.y?o.y:s.y,h=f(a,u,e,n,r),p=f(l,c,e,n,r),y=t.prevZ,m=t.nextZ;y&&y.z>=h&&m&&m.z<=p;){if(y!==t.prev&&y!==t.next&&d(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;if(y=y.prevZ,m!==t.prev&&m!==t.next&&d(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;y&&y.z>=h;){if(y!==t.prev&&y!==t.next&&d(i.x,i.y,o.x,o.y,s.x,s.y,y.x,y.y)&&g(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;m&&m.z<=p;){if(m!==t.prev&&m!==t.next&&d(i.x,i.y,o.x,o.y,s.x,s.y,m.x,m.y)&&g(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function a(t,e,n){var i=t;do{var o=i.prev,s=i.next.next;!m(o,s)&&v(o,i,i.next,s)&&x(o,s)&&x(s,o)&&(e.push(o.i/n),e.push(i.i/n),e.push(s.i/n),S(i),S(i.next),i=t=s),i=i.next}while(i!==t);return r(i)}function u(t,e,n,o,s,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&y(u,l)){var c=w(u,l);return u=r(u,u.next),c=r(c,c.next),i(u,e,n,o,s,a),void i(c,e,n,o,s,a)}l=l.next}u=u.next}while(u!==t)}function l(t,e){return t.x-e.x}function c(t,e){var n=function(t,e){var n,r=e,i=t.x,o=t.y,s=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var a=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s){if(s=a,a===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n;var u,l=n,c=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&d(o<f?i:s,o,c,f,o<f?s:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),x(r,t)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&h(n,r)))&&(n=r,p=u)),r=r.next}while(r!==l);return n}(t,e);if(!n)return e;var i=w(n,t),o=r(n,n.next);return r(i,i.next),e===n?o:e}function h(t,e){return g(t.prev,t,e.prev)<0&&g(e.next,t,t.next)<0}function f(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function p(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function d(t,e,n,r,i,o,s,a){return(i-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(i-s)*(r-a)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&v(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(x(t,e)&&x(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(g(t.prev,t,e.prev)||g(t,e.prev,e))||m(t,e)&&g(t.prev,t,t.next)>0&&g(e.prev,e,e.next)>0)}function g(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function m(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,n,r){var i=b(g(t,e,n)),o=b(g(t,e,r)),s=b(g(n,r,t)),a=b(g(n,r,e));return i!==o&&s!==a||(!(0!==i||!_(t,n,e))||(!(0!==o||!_(t,r,e))||(!(0!==s||!_(n,t,r))||!(0!==a||!_(n,e,r)))))}function _(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function b(t){return t>0?1:t<0?-1:0}function x(t,e){return g(t.prev,t,t.next)<0?g(t,e,t.next)>=0&&g(t,t.prev,e)>=0:g(t,e,t.prev)<0||g(t,t.next,e)<0}function w(t,e){var n=new P(t.i,t.x,t.y),r=new P(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function E(t,e,n,r){var i=new P(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function S(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function P(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function C(t,e,n,r){for(var i=0,o=e,s=n-r;o<n;o+=r)i+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return i}t.exports=e,t.exports.default=e,e.deviation=function(t,e,n,r){var i=e&&e.length,o=i?e[0]*n:t.length,s=Math.abs(C(t,0,o,n));if(i)for(var a=0,u=e.length;a<u;a++){var l=e[a]*n,c=a<u-1?e[a+1]*n:t.length;s-=Math.abs(C(t,l,c,n))}var h=0;for(a=0;a<r.length;a+=3){var f=r[a]*n,p=r[a+1]*n,d=r[a+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},e.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var o=0;o<t[i].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[i][o][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},7648:t=>{"use strict";var e="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,r=Object.prototype.toString,i="[object Function]";t.exports=function(t){var o=this;if("function"!=typeof o||r.call(o)!==i)throw new TypeError(e+o);for(var s,a=n.call(arguments,1),u=function(){if(this instanceof s){var e=o.apply(this,a.concat(n.call(arguments)));return Object(e)===e?e:this}return o.apply(t,a.concat(n.call(arguments)))},l=Math.max(0,o.length-a.length),c=[],h=0;h<l;h++)c.push("$"+h);if(s=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(u),o.prototype){var f=function(){};f.prototype=o.prototype,s.prototype=new f,f.prototype=null}return s}},8612:(t,e,n)=>{"use strict";var r=n(7648);t.exports=Function.prototype.bind||r},9657:(t,e,n)=>{var r=n(251),i=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:a};function o(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function s(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function a(t,e){return r(t,e,{strict:!0})}i.prototype.compare=function(t,e){if(t.type!==e.type||!s(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,r=o(t),i=o(e);return r.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),i)}}return!1},i.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},i.prototype.compareLine=function(t,e,n,r){if(!s(t,e))return!1;var i=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!r||this.compareCoord(i[0],o[0])||(o=this.fixStartIndex(o,i))){var a=this.compareCoord(i[n],o[n]);return this.direction||a?this.comparePath(i,o):!!this.compareCoord(i[n],o[o.length-(1+n)])&&this.comparePath(i.slice().reverse(),o)}},i.prototype.fixStartIndex=function(t,e){for(var n,r=-1,i=0;i<t.length;i++)if(this.compareCoord(t[i],e[0])){r=i;break}return r>=0&&(n=[].concat(t.slice(r,t.length),t.slice(1,r+1))),n},i.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},i.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),r=e.coordinates.slice(1,e.coordinates.length),i=this;return n.every((function(t){return this.some((function(e){return i.compareLine(t,e,1,!0)}))}),r)}return!1},i.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},i.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},i.prototype.removePseudo=function(t){return t},t.exports=i},1787:(t,e,n)=>{var r=n(4056),i=n(4102),o=n(1540),s=n(9705).default,a=o.featureEach,u=(o.coordEach,i.polygon,i.featureCollection);function l(t){var e=new r(t);return e.insert=function(t){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),r.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})):a(t,(function(t){if("Feature"!==t.type)throw new Error("invalid features");t.bbox=t.bbox?t.bbox:s(t),e.push(t)})),r.prototype.load.call(this,e)},e.remove=function(t,e){if("Feature"!==t.type)throw new Error("invalid feature");return t.bbox=t.bbox?t.bbox:s(t),r.prototype.remove.call(this,t,e)},e.clear=function(){return r.prototype.clear.call(this)},e.search=function(t){var e=r.prototype.search.call(this,this.toBBox(t));return u(e)},e.collides=function(t){return r.prototype.collides.call(this,this.toBBox(t))},e.all=function(){var t=r.prototype.all.call(this);return u(t)},e.toJSON=function(){return r.prototype.toJSON.call(this)},e.fromJSON=function(t){return r.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;if(t.bbox)e=t.bbox;else if(Array.isArray(t)&&4===t.length)e=t;else if(Array.isArray(t)&&6===t.length)e=[t[0],t[1],t[3],t[4]];else if("Feature"===t.type)e=s(t);else{if("FeatureCollection"!==t.type)throw new Error("invalid geojson");e=s(t)}return{minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}t.exports=l,t.exports.default=l},4056:function(t){t.exports=function(){"use strict";function t(t,r,i,o,s){!function t(n,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,u=r-i+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(u-a/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-u*c/a+h)),Math.min(o,Math.floor(r+(a-u)*c/a+h)),s)}var f=n[r],p=i,d=o;for(e(n,i,r),s(n[o],f)>0&&e(n,i,o);p<d;){for(e(n,p,d),p++,d--;s(n[p],f)<0;)p++;for(;s(n[d],f)>0;)d--}0===s(n[i],f)?e(n,i,d):e(n,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}(t,r,i||0,o||t.length-1,s||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function o(t,e){s(t,0,t.children.length,e,t)}function s(t,e,n,r,i){i||(i=d(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=e;o<n;o++){var s=t.children[o];a(i,t.leaf?r(s):s)}return i}function a(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function f(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function p(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function y(e,n,r,i,o){for(var s=[n,r];s.length;)if(!((r=s.pop())-(n=s.pop())<=i)){var a=n+Math.ceil((r-n)/i/2)*i;t(e,a,n,r,o),s.push(n,a,a,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!p(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var o=0;o<e.children.length;o++){var s=e.children[o],a=e.leaf?r(s):s;p(t,a)&&(e.leaf?n.push(s):f(t,a)?this._all(s,n):i.push(s))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!p(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],o=e.leaf?this.toBBox(i):i;if(p(t,o)){if(e.leaf||f(t,o))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],n=l.pop(),o=!0),s.leaf){var c=i(t,s.children,e);if(-1!==c)return s.children.splice(c,1),u.push(s),this._condense(u),this}o||s.leaf||!f(s,a)?r?(n++,s=r.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,r=s,s=s.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,s=n-e+1,a=this._maxEntries;if(s<=a)return o(i=d(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(i=d([])).leaf=!1,i.height=r;var u=Math.ceil(s/a),l=u*Math.ceil(Math.sqrt(a));y(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var h=Math.min(c+l-1,n);y(t,c,h,u,this.compareMinY);for(var f=c;f<=h;f+=u){var p=Math.min(f+u-1,h);i.children.push(this._build(t,f,p,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,s=void 0,a=0;a<e.children.length;a++){var u=e.children[a],l=c(u),h=(f=t,p=u,(Math.max(p.maxX,f.maxX)-Math.min(p.minX,f.minX))*(Math.max(p.maxY,f.maxY)-Math.min(p.minY,f.minY))-l);h<o?(o=h,i=l<i?l:i,s=u):h===o&&l<i&&(i=l,s=u)}e=s||e.children[0]}var f,p;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],o=this._chooseSubtree(r,this.data,e,i);for(o.children.push(t),a(o,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var s=this._chooseSplitIndex(n,i,r),a=d(n.children.splice(s,n.children.length-s));a.height=n.height,a.leaf=n.leaf,o(n,this.toBBox),o(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,o,a,u,l,h,f=1/0,p=1/0,d=e;d<=n-e;d++){var y=s(t,0,d,this.toBBox),g=s(t,d,n,this.toBBox),m=(i=y,o=g,a=void 0,u=void 0,l=void 0,h=void 0,a=Math.max(i.minX,o.minX),u=Math.max(i.minY,o.minY),l=Math.min(i.maxX,o.maxX),h=Math.min(i.maxY,o.maxY),Math.max(0,l-a)*Math.max(0,h-u)),v=c(y)+c(g);m<f?(f=m,r=d,p=v<p?v:p):m===f&&v<p&&(p=v,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,o=s(t,0,e,i),u=s(t,n-e,n,i),l=h(o)+h(u),c=e;c<n-e;c++){var f=t.children[c];a(o,t.leaf?i(f):f),l+=h(o)}for(var p=n-e-1;p>=e;p--){var d=t.children[p];a(u,t.leaf?i(d):d),l+=h(u)}return l},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)a(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():o(t[e],this.toBBox)},r}()},210:(t,e,n)=>{"use strict";var r,i=SyntaxError,o=Function,s=TypeError,a=function(t){try{return o('"use strict"; return ('+t+").constructor;")()}catch(t){}},u=Object.getOwnPropertyDescriptor;if(u)try{u({},"")}catch(t){u=null}var l=function(){throw new s},c=u?function(){try{return l}catch(t){try{return u(arguments,"callee").get}catch(t){return l}}}():l,h=n(1405)(),f=Object.getPrototypeOf||function(t){return t.__proto__},p={},d="undefined"==typeof Uint8Array?r:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":h?f([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":h?f(f([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&h?f((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&h?f((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":h?f(""[Symbol.iterator]()):r,"%Symbol%":h?Symbol:r,"%SyntaxError%":i,"%ThrowTypeError%":c,"%TypedArray%":d,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},g=function t(e){var n;if("%AsyncFunction%"===e)n=a("async function () {}");else if("%GeneratorFunction%"===e)n=a("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=a("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(n=f(i.prototype))}return y[e]=n,n},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(8612),_=n(7642),b=v.call(Function.call,Array.prototype.concat),x=v.call(Function.apply,Array.prototype.splice),w=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,C=function(t){var e=E(t,0,1),n=E(t,-1);if("%"===e&&"%"!==n)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new i("invalid intrinsic syntax, expected opening `%`");var r=[];return w(t,S,(function(t,e,n,i){r[r.length]=n?w(i,P,"$1"):e||t})),r},I=function(t,e){var n,r=t;if(_(m,r)&&(r="%"+(n=m[r])[0]+"%"),_(y,r)){var o=y[r];if(o===p&&(o=g(r)),void 0===o&&!e)throw new s("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new i("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new s('"allowMissing" argument must be a boolean');var n=C(t),r=n.length>0?n[0]:"",o=I("%"+r+"%",e),a=o.name,l=o.value,c=!1,h=o.alias;h&&(r=h[0],x(n,b([0,1],h)));for(var f=1,p=!0;f<n.length;f+=1){var d=n[f],g=E(d,0,1),m=E(d,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new i("property names with quotes must have matching quotes");if("constructor"!==d&&p||(c=!0),_(y,a="%"+(r+="."+d)+"%"))l=y[a];else if(null!=l){if(!(d in l)){if(!e)throw new s("base intrinsic for "+t+" exists, but the property is not available.");return}if(u&&f+1>=n.length){var v=u(l,d);l=(p=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:l[d]}else p=_(l,d),l=l[d];p&&!c&&(y[a]=l)}}return l}},1405:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(5419);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},5419:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},6410:(t,e,n)=>{"use strict";var r=n(5419);t.exports=function(){return r()&&!!Symbol.toStringTag}},7642:(t,e,n)=>{"use strict";var r=n(8612);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},645:(t,e)=>{
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?i-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=r;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,h=c>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),(e+=s+h>=1?f/u:f*Math.pow(2,1-h))*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[n+p]=255&s,p+=d,s/=256,l-=8);t[n+p-d]|=128*y}},2584:(t,e,n)=>{"use strict";var r=n(6410)(),i=n(1924)("Object.prototype.toString"),o=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},s=function(t){return!!o(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},8923:(t,e,n)=>{"use strict";var r=Date.prototype.getDay,i=Object.prototype.toString,o=n(6410)();t.exports=function(t){return"object"==typeof t&&null!==t&&(o?function(t){try{return r.call(t),!0}catch(t){return!1}}(t):"[object Date]"===i.call(t))}},8420:(t,e,n)=>{"use strict";var r,i,o,s,a=n(1924),u=n(6410)();if(u){r=a("Object.prototype.hasOwnProperty"),i=a("RegExp.prototype.exec"),o={};var l=function(){throw o};s={toString:l,valueOf:l},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=l)}var c=a("Object.prototype.toString"),h=Object.getOwnPropertyDescriptor;t.exports=u?function(t){if(!t||"object"!=typeof t)return!1;var e=h(t,"lastIndex");if(!(e&&r(e,"value")))return!1;try{i(t,s)}catch(t){return t===o}}:function(t){return!(!t||"object"!=typeof t&&"function"!=typeof t)&&"[object RegExp]"===c(t)}},7418:t=>{"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,o){for(var s,a,u=i(t),l=1;l<arguments.length;l++){for(var c in s=Object(arguments[l]))n.call(s,c)&&(u[c]=s[c]);if(e){a=e(s);for(var h=0;h<a.length;h++)r.call(s,a[h])&&(u[a[h]]=s[a[h]])}}return u}},4244:t=>{"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},609:(t,e,n)=>{"use strict";var r=n(4289),i=n(5559),o=n(4244),s=n(5624),a=n(2281),u=i(s(),Object);r(u,{getPolyfill:s,implementation:o,shim:a}),t.exports=u},5624:(t,e,n)=>{"use strict";var r=n(4244);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},2281:(t,e,n)=>{"use strict";var r=n(5624),i=n(4289);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},8987:(t,e,n)=>{"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=n(1414),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),l=a.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(t){var e=t.constructor;return e&&e.prototype===t},f={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!f["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{h(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===o.call(t),r=s(t),a=e&&"[object String]"===o.call(t),f=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var d=l&&n;if(a&&t.length>0&&!i.call(t,0))for(var y=0;y<t.length;++y)f.push(String(y));if(r&&t.length>0)for(var g=0;g<t.length;++g)f.push(String(g));else for(var m in t)d&&"prototype"===m||!i.call(t,m)||f.push(String(m));if(u)for(var v=function(t){if("undefined"==typeof window||!p)return h(t);try{return h(t)}catch(t){return!1}}(t),_=0;_<c.length;++_)v&&"constructor"===c[_]||!i.call(t,c[_])||f.push(c[_]);return f}}t.exports=r},2215:(t,e,n)=>{"use strict";var r=Array.prototype.slice,i=n(1414),o=Object.keys,s=o?function(t){return o(t)}:n(8987),a=Object.keys;s.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return i(t)?a(r.call(t)):a(t)}):Object.keys=s;return Object.keys||s},t.exports=s},1414:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},3614:(t,e,n)=>{"use strict";t.exports=i;var r=n(645);function i(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var o=4294967296,s=1/o,a="undefined"==typeof TextDecoder?null:new TextDecoder("utf8");function u(t){return t.type===i.Bytes?t.readVarint()+t.pos:t.pos+1}function l(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function c(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=t;i--)n.buf[i+r]=n.buf[i]}function h(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function y(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function _(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function b(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function x(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function w(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,t(i,e,this),this.pos===o&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=b(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=w(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=b(this.buf,this.pos)+b(this.buf,this.pos+4)*o;return this.pos+=8,t},readSFixed64:function(){var t=b(this.buf,this.pos)+w(this.buf,this.pos+4)*o;return this.pos+=8,t},readFloat:function(){var t=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return e=127&(n=r[this.pos++]),n<128?e:(e|=(127&(n=r[this.pos++]))<<7,n<128?e:(e|=(127&(n=r[this.pos++]))<<14,n<128?e:(e|=(127&(n=r[this.pos++]))<<21,n<128?e:function(t,e,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return l(t,r,e);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return l(t,r,e);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return l(t,r,e);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return l(t,r,e);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return l(t,r,e);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return l(t,r,e);throw new Error("Expected varint not more than 10 bytes")}(e|=(15&(n=r[this.pos]))<<28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=12&&a?function(t,e,n){return a.decode(t.subarray(e,n))}(this.buf,e,t):function(t,e,n){var r="",i=e;for(;i<n;){var o,s,a,u=t[i],l=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c>n)break;1===c?u<128&&(l=u):2===c?128==(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)<=127&&(l=null):3===c?(o=t[i+1],s=t[i+2],128==(192&o)&&128==(192&s)&&((l=(15&u)<<12|(63&o)<<6|63&s)<=2047||l>=55296&&l<=57343)&&(l=null)):4===c&&(o=t[i+1],s=t[i+2],a=t[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&((l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)<=65535||l>=1114112)&&(l=null)),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==i.Bytes)return t.push(this.readVarint(e));var n=u(this);for(t=t||[];this.pos<n;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==i.Bytes)return t.push(this.readSVarint());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==i.Bytes)return t.push(this.readBoolean());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==i.Bytes)return t.push(this.readFloat());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==i.Bytes)return t.push(this.readDouble());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed32());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed32());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readFixed64());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==i.Bytes)return t.push(this.readSFixed64());var e=u(this);for(t=t||[];this.pos<e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),x(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*s),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),x(this.buf,-1&t,this.pos),x(this.buf,Math.floor(t*s),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)>268435455||t<0?function(t,e){var n,r;t>=0?(n=t%4294967296|0,r=t/4294967296|0):(r=~(-t/4294967296),4294967295^(n=~(-t%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),function(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}(n,0,e),function(t,e){var n=(7&t)<<4;if(e.buf[e.pos++]|=n|((t>>>=3)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;if(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),!t)return;e.buf[e.pos++]=127&t}(r,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,n){for(var r,i,o=0;o<e.length;o++){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):i=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(t[n++]=239,t[n++]=191,t[n++]=189,i=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}(this.buf,t,this.pos);var n=this.pos-e;n>=128&&c(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),r.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),r.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&c(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,h,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,f,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,p,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,d,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,g,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,_,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},3110:t=>{"use strict";function e(t,e){this.x=t,this.y=e}t.exports=e,e.prototype={clone:function(){return new e(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),r=e*this.x-n*this.y,i=n*this.x+e*this.y;return this.x=r,this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(t){return t instanceof e?t:Array.isArray(t)?new e(t[0],t[1]):t}},1895:t=>{t.exports=function(t,e,n,r){var i=t[0],o=t[1],s=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var a=(r-n)/2,u=0,l=a-1;u<a;l=u++){var c=e[n+2*u+0],h=e[n+2*u+1],f=e[n+2*l+0],p=e[n+2*l+1];h>o!=p>o&&i<(f-c)*(o-h)/(p-h)+c&&(s=!s)}return s}},6960:(t,e,n)=>{var r=n(1895),i=n(8139);t.exports=function(t,e,n,o){return e.length>0&&Array.isArray(e[0])?i(t,e,n,o):r(t,e,n,o)},t.exports.nested=i,t.exports.flat=r},8139:t=>{t.exports=function(t,e,n,r){var i=t[0],o=t[1],s=!1;void 0===n&&(n=0),void 0===r&&(r=e.length);for(var a=r-n,u=0,l=a-1;u<a;l=u++){var c=e[u+n][0],h=e[u+n][1],f=e[l+n][0],p=e[l+n][1];h>o!=p>o&&i<(f-c)*(o-h)/(p-h)+c&&(s=!s)}return s}},2676:function(t){t.exports=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}
/**
   * splaytree v3.1.0
   * Fast Splay tree for Node and browser
   *
   * @author Alexander Milevski <info@w8r.name>
   * @license MIT
   * @preserve
   */var r=function(){function t(t,e){this.next=null,this.key=t,this.data=e,this.left=null,this.right=null}return t}();function i(t,e){return t>e?1:t<e?-1:0}function o(t,e,n){for(var i=new r(null,null),o=i,s=i;;){var a=n(t,e.key);if(a<0){if(null===e.left)break;if(n(t,e.left.key)<0){var u=e.left;if(e.left=u.right,u.right=e,null===(e=u).left)break}s.left=e,s=e,e=e.left}else{if(!(a>0))break;if(null===e.right)break;if(n(t,e.right.key)>0&&(u=e.right,e.right=u.left,u.left=e,null===(e=u).right))break;o.right=e,o=e,e=e.right}}return o.right=e.left,s.left=e.right,e.left=i.right,e.right=i.left,e}function s(t,e,n,i){var s=new r(t,e);if(null===n)return s.left=s.right=null,s;var a=i(t,(n=o(t,n,i)).key);return a<0?(s.left=n.left,s.right=n,n.left=null):a>=0&&(s.right=n.right,s.left=n,n.right=null),s}function a(t,e,n){var r=null,i=null;if(e){var s=n((e=o(t,e,n)).key,t);0===s?(r=e.left,i=e.right):s<0?(i=e.right,e.right=null,r=e):(r=e.left,e.left=null,i=e)}return{left:r,right:i}}function u(t,e,n){return null===e?t:(null===t||((e=o(t.key,e,n)).left=t),e)}function l(t,e,n,r,i){if(t){r(e+(n?" ":" ")+i(t)+"\n");var o=e+(n?"    ":"   ");t.left&&l(t.left,o,!1,r,i),t.right&&l(t.right,o,!0,r,i)}}var c=function(){function t(t){void 0===t&&(t=i),this._root=null,this._size=0,this._comparator=t}return t.prototype.insert=function(t,e){return this._size++,this._root=s(t,e,this._root,this._comparator)},t.prototype.add=function(t,e){var n=new r(t,e);null===this._root&&(n.left=n.right=null,this._size++,this._root=n);var i=this._comparator,s=o(t,this._root,i),a=i(t,s.key);return 0===a?this._root=s:(a<0?(n.left=s.left,n.right=s,s.left=null):a>0&&(n.right=s.right,n.left=s,s.right=null),this._size++,this._root=n),this._root},t.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},t.prototype._remove=function(t,e,n){var r;return null===e?null:0===n(t,(e=o(t,e,n)).key)?(null===e.left?r=e.right:(r=o(t,e.left,n)).right=e.right,this._size--,r):e},t.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=o(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},t.prototype.findStatic=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return e;e=r<0?e.left:e.right}return null},t.prototype.find=function(t){return this._root&&(this._root=o(t,this._root,this._comparator),0!==this._comparator(t,this._root.key))?null:this._root},t.prototype.contains=function(t){for(var e=this._root,n=this._comparator;e;){var r=n(t,e.key);if(0===r)return!0;e=r<0?e.left:e.right}return!1},t.prototype.forEach=function(t,e){for(var n=this._root,r=[],i=!1;!i;)null!==n?(r.push(n),n=n.left):0!==r.length?(n=r.pop(),t.call(e,n),n=n.right):i=!0;return this},t.prototype.range=function(t,e,n,r){for(var i=[],o=this._comparator,s=this._root;0!==i.length||s;)if(s)i.push(s),s=s.left;else{if(o((s=i.pop()).key,e)>0)break;if(o(s.key,t)>=0&&n.call(r,s))return this;s=s.right}return this},t.prototype.keys=function(){var t=[];return this.forEach((function(e){var n=e.key;return t.push(n)})),t},t.prototype.values=function(){var t=[];return this.forEach((function(e){var n=e.data;return t.push(n)})),t},t.prototype.min=function(){return this._root?this.minNode(this._root).key:null},t.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},t.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},t.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},t.prototype.at=function(t){for(var e=this._root,n=!1,r=0,i=[];!n;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),r===t)return e;r++,e=e.right}else n=!0;return null},t.prototype.next=function(t){var e=this._root,n=null;if(t.right){for(n=t.right;n.left;)n=n.left;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?(n=e,e=e.left):e=e.right}return n},t.prototype.prev=function(t){var e=this._root,n=null;if(null!==t.left){for(n=t.left;n.right;)n=n.right;return n}for(var r=this._comparator;e;){var i=r(t.key,e.key);if(0===i)break;i<0?e=e.left:(n=e,e=e.right)}return n},t.prototype.clear=function(){return this._root=null,this._size=0,this},t.prototype.toList=function(){return p(this._root)},t.prototype.load=function(t,e,n){void 0===e&&(e=[]),void 0===n&&(n=!1);var r=t.length,i=this._comparator;if(n&&g(t,e,0,r-1,i),null===this._root)this._root=h(t,e,0,r),this._size=r;else{var o=y(this.toList(),f(t,e),i);r=this._size+r,this._root=d({head:o},0,r)}return this},t.prototype.isEmpty=function(){return null===this._root},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),t.prototype.toString=function(t){void 0===t&&(t=function(t){return String(t.key)});var e=[];return l(this._root,"",!0,(function(t){return e.push(t)}),t),e.join("")},t.prototype.update=function(t,e,n){var r=this._comparator,i=a(t,this._root,r),o=i.left,l=i.right;r(t,e)<0?l=s(e,n,l,r):o=s(e,n,o,r),this._root=u(o,l,r)},t.prototype.split=function(t){return a(t,this._root,this._comparator)},t}();function h(t,e,n,i){var o=i-n;if(o>0){var s=n+Math.floor(o/2),a=t[s],u=e[s],l=new r(a,u);return l.left=h(t,e,n,s),l.right=h(t,e,s+1,i),l}return null}function f(t,e){for(var n=new r(null,null),i=n,o=0;o<t.length;o++)i=i.next=new r(t[o],e[o]);return i.next=null,n.next}function p(t){for(var e=t,n=[],i=!1,o=new r(null,null),s=o;!i;)e?(n.push(e),e=e.left):n.length>0?e=(e=s=s.next=n.pop()).right:i=!0;return s.next=null,o.next}function d(t,e,n){var r=n-e;if(r>0){var i=e+Math.floor(r/2),o=d(t,e,i),s=t.head;return s.left=o,t.head=t.head.next,s.right=d(t,i+1,n),s}return null}function y(t,e,n){for(var i=new r(null,null),o=i,s=t,a=e;null!==s&&null!==a;)n(s.key,a.key)<0?(o.next=s,s=s.next):(o.next=a,a=a.next),o=o.next;return null!==s?o.next=s:null!==a&&(o.next=a),i.next}function g(t,e,n,r,i){if(!(n>=r)){for(var o=t[n+r>>1],s=n-1,a=r+1;;){do{s++}while(i(t[s],o)<0);do{a--}while(i(t[a],o)>0);if(s>=a)break;var u=t[s];t[s]=t[a],t[a]=u,u=e[s],e[s]=e[a],e[a]=u}g(t,e,n,a,i),g(t,e,a+1,r,i)}}var m=function(t,e){return t.ll.x<=e.x&&e.x<=t.ur.x&&t.ll.y<=e.y&&e.y<=t.ur.y},v=function(t,e){if(e.ur.x<t.ll.x||t.ur.x<e.ll.x||e.ur.y<t.ll.y||t.ur.y<e.ll.y)return null;var n=t.ll.x<e.ll.x?e.ll.x:t.ll.x,r=t.ur.x<e.ur.x?t.ur.x:e.ur.x;return{ll:{x:n,y:t.ll.y<e.ll.y?e.ll.y:t.ll.y},ur:{x:r,y:t.ur.y<e.ur.y?t.ur.y:e.ur.y}}},_=Number.EPSILON;void 0===_&&(_=Math.pow(2,-52));var b=_*_,x=function(t,e){if(-_<t&&t<_&&-_<e&&e<_)return 0;var n=t-e;return n*n<b*t*e?0:t<e?-1:1},w=function(){function e(){t(this,e),this.reset()}return n(e,[{key:"reset",value:function(){this.xRounder=new E,this.yRounder=new E}},{key:"round",value:function(t,e){return{x:this.xRounder.round(t),y:this.yRounder.round(e)}}}]),e}(),E=function(){function e(){t(this,e),this.tree=new c,this.round(0)}return n(e,[{key:"round",value:function(t){var e=this.tree.add(t),n=this.tree.prev(e);if(null!==n&&0===x(e.key,n.key))return this.tree.remove(t),n.key;var r=this.tree.next(e);return null!==r&&0===x(e.key,r.key)?(this.tree.remove(t),r.key):t}}]),e}(),S=new w,P=function(t,e){return t.x*e.y-t.y*e.x},C=function(t,e){return t.x*e.x+t.y*e.y},I=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y},o=P(r,i);return x(o,0)},M=function(t){return Math.sqrt(C(t,t))},O=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return P(i,r)/M(i)/M(r)},T=function(t,e,n){var r={x:e.x-t.x,y:e.y-t.y},i={x:n.x-t.x,y:n.y-t.y};return C(i,r)/M(i)/M(r)},L=function(t,e,n){return 0===e.y?null:{x:t.x+e.x/e.y*(n-t.y),y:n}},N=function(t,e,n){return 0===e.x?null:{x:n,y:t.y+e.y/e.x*(n-t.x)}},A=function(t,e,n,r){if(0===e.x)return N(n,r,t.x);if(0===r.x)return N(t,e,n.x);if(0===e.y)return L(n,r,t.y);if(0===r.y)return L(t,e,n.y);var i=P(e,r);if(0==i)return null;var o={x:n.x-t.x,y:n.y-t.y},s=P(o,e)/i,a=P(o,r)/i;return{x:(t.x+a*e.x+(n.x+s*r.x))/2,y:(t.y+a*e.y+(n.y+s*r.y))/2}},R=function(){function e(n,r){t(this,e),void 0===n.events?n.events=[this]:n.events.push(this),this.point=n,this.isLeft=r}return n(e,null,[{key:"compare",value:function(t,n){var r=e.comparePoints(t.point,n.point);return 0!==r?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:k.compare(t.segment,n.segment))}},{key:"comparePoints",value:function(t,e){return t.x<e.x?-1:t.x>e.x?1:t.y<e.y?-1:t.y>e.y?1:0}}]),n(e,[{key:"link",value:function(t){if(t.point===this.point)throw new Error("Tried to link already linked events");for(var e=t.point.events,n=0,r=e.length;n<r;n++){var i=e[n];this.point.events.push(i),i.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var t=this.point.events.length,e=0;e<t;e++){var n=this.point.events[e];if(void 0===n.segment.consumedBy)for(var r=e+1;r<t;r++){var i=this.point.events[r];void 0===i.consumedBy&&n.otherSE.point.events===i.otherSE.point.events&&n.segment.consume(i.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var t=[],e=0,n=this.point.events.length;e<n;e++){var r=this.point.events[e];r!==this&&!r.segment.ringOut&&r.segment.isInResult()&&t.push(r)}return t}},{key:"getLeftmostComparator",value:function(t){var e=this,n=new Map,r=function(r){var i=r.otherSE;n.set(r,{sine:O(e.point,t.point,i.point),cosine:T(e.point,t.point,i.point)})};return function(t,e){n.has(t)||r(t),n.has(e)||r(e);var i=n.get(t),o=i.sine,s=i.cosine,a=n.get(e),u=a.sine,l=a.cosine;return o>=0&&u>=0?s<l?1:s>l?-1:0:o<0&&u<0?s<l?-1:s>l?1:0:u<o?-1:u>o?1:0}}}]),e}(),D=0,k=function(){function e(n,r,i,o){t(this,e),this.id=++D,this.leftSE=n,n.segment=this,n.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=n,this.rings=i,this.windings=o}return n(e,null,[{key:"compare",value:function(t,e){var n=t.leftSE.point.x,r=e.leftSE.point.x,i=t.rightSE.point.x,o=e.rightSE.point.x;if(o<n)return 1;if(i<r)return-1;var s=t.leftSE.point.y,a=e.leftSE.point.y,u=t.rightSE.point.y,l=e.rightSE.point.y;if(n<r){if(a<s&&a<u)return 1;if(a>s&&a>u)return-1;var c=t.comparePoint(e.leftSE.point);if(c<0)return 1;if(c>0)return-1;var h=e.comparePoint(t.rightSE.point);return 0!==h?h:-1}if(n>r){if(s<a&&s<l)return-1;if(s>a&&s>l)return 1;var f=e.comparePoint(t.leftSE.point);if(0!==f)return f;var p=t.comparePoint(e.rightSE.point);return p<0?1:p>0?-1:1}if(s<a)return-1;if(s>a)return 1;if(i<o){var d=e.comparePoint(t.rightSE.point);if(0!==d)return d}if(i>o){var y=t.comparePoint(e.rightSE.point);if(y<0)return 1;if(y>0)return-1}if(i!==o){var g=u-s,m=i-n,v=l-a,_=o-r;if(g>m&&v<_)return 1;if(g<m&&v>_)return-1}return i>o?1:i<o||u<l?-1:u>l?1:t.id<e.id?-1:t.id>e.id?1:0}}]),n(e,[{key:"replaceRightSE",value:function(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var t=this.leftSE.point.y,e=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<e?t:e},ur:{x:this.rightSE.point.x,y:t>e?t:e}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(t){if(this.isAnEndpoint(t))return 0;var e=this.leftSE.point,n=this.rightSE.point,r=this.vector();if(e.x===n.x)return t.x===e.x?0:t.x<e.x?1:-1;var i=(t.y-e.y)/r.y,o=e.x+i*r.x;if(t.x===o)return 0;var s=(t.x-e.x)/r.x,a=e.y+s*r.y;return t.y===a?0:t.y<a?-1:1}},{key:"getIntersection",value:function(t){var e=this.bbox(),n=t.bbox(),r=v(e,n);if(null===r)return null;var i=this.leftSE.point,o=this.rightSE.point,s=t.leftSE.point,a=t.rightSE.point,u=m(e,s)&&0===this.comparePoint(s),l=m(n,i)&&0===t.comparePoint(i),c=m(e,a)&&0===this.comparePoint(a),h=m(n,o)&&0===t.comparePoint(o);if(l&&u)return h&&!c?o:!h&&c?a:null;if(l)return c&&i.x===a.x&&i.y===a.y?null:i;if(u)return h&&o.x===s.x&&o.y===s.y?null:s;if(h&&c)return null;if(h)return o;if(c)return a;var f=A(i,this.vector(),s,t.vector());return null===f?null:m(r,f)?S.round(f.x,f.y):null}},{key:"split",value:function(t){var n=[],r=void 0!==t.events,i=new R(t,!0),o=new R(t,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);var a=new e(i,s,this.rings.slice(),this.windings.slice());return R.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),R.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}},{key:"swapEvents",value:function(){var t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var e=0,n=this.windings.length;e<n;e++)this.windings[e]*=-1}},{key:"consume",value:function(t){for(var n=this,r=t;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;var i=e.compare(n,r);if(0!==i){if(i>0){var o=n;n=r,r=o}if(n.prev===r){var s=n;n=r,r=s}for(var a=0,u=r.rings.length;a<u;a++){var l=r.rings[a],c=r.windings[a],h=n.rings.indexOf(l);-1===h?(n.rings.push(l),n.windings.push(c)):n.windings[h]+=c}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}},{key:"prevInResult",value:function(){return void 0!==this._prevInResult||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(void 0!==this._beforeState)return this._beforeState;if(this.prev){var t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(void 0!==this._afterState)return this._afterState;var t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};for(var e=this._afterState.rings,n=this._afterState.windings,r=this._afterState.multiPolys,i=0,o=this.rings.length;i<o;i++){var s=this.rings[i],a=this.windings[i],u=e.indexOf(s);-1===u?(e.push(s),n.push(a)):n[u]+=a}for(var l=[],c=[],h=0,f=e.length;h<f;h++)if(0!==n[h]){var p=e[h],d=p.poly;if(-1===c.indexOf(d))if(p.isExterior)l.push(d);else{-1===c.indexOf(d)&&c.push(d);var y=l.indexOf(p.poly);-1!==y&&l.splice(y,1)}}for(var g=0,m=l.length;g<m;g++){var v=l[g].multiPoly;-1===r.indexOf(v)&&r.push(v)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(void 0!==this._isInResult)return this._isInResult;var t=this.beforeState().multiPolys,e=this.afterState().multiPolys;switch(Y.type){case"union":var n=0===t.length,r=0===e.length;this._isInResult=n!==r;break;case"intersection":var i,o;t.length<e.length?(i=t.length,o=e.length):(i=e.length,o=t.length),this._isInResult=o===Y.numMultiPolys&&i<o;break;case"xor":var s=Math.abs(t.length-e.length);this._isInResult=s%2==1;break;case"difference":var a=function(t){return 1===t.length&&t[0].isSubject};this._isInResult=a(t)!==a(e);break;default:throw new Error("Unrecognized operation type found ".concat(Y.type))}return this._isInResult}}],[{key:"fromRing",value:function(t,n,r){var i,o,s,a=R.comparePoints(t,n);if(a<0)i=t,o=n,s=1;else{if(!(a>0))throw new Error("Tried to create degenerate segment at [".concat(t.x,", ").concat(t.y,"]"));i=n,o=t,s=-1}return new e(new R(i,!0),new R(o,!1),[r],[s])}}]),e}(),F=function(){function e(n,r,i){if(t(this,e),!Array.isArray(n)||0===n.length)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=i,this.segments=[],"number"!=typeof n[0][0]||"number"!=typeof n[0][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var o=S.round(n[0][0],n[0][1]);this.bbox={ll:{x:o.x,y:o.y},ur:{x:o.x,y:o.y}};for(var s=o,a=1,u=n.length;a<u;a++){if("number"!=typeof n[a][0]||"number"!=typeof n[a][1])throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var l=S.round(n[a][0],n[a][1]);l.x===s.x&&l.y===s.y||(this.segments.push(k.fromRing(s,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),s=l)}o.x===s.x&&o.y===s.y||this.segments.push(k.fromRing(s,o,this))}return n(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.segments.length;e<n;e++){var r=this.segments[e];t.push(r.leftSE),t.push(r.rightSE)}return t}}]),e}(),B=function(){function e(n,r){if(t(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new F(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var i=1,o=n.length;i<o;i++){var s=new F(n[i],this,!1);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.interiorRings.push(s)}this.multiPoly=r}return n(e,[{key:"getSweepEvents",value:function(){for(var t=this.exteriorRing.getSweepEvents(),e=0,n=this.interiorRings.length;e<n;e++)for(var r=this.interiorRings[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),e}(),j=function(){function e(n,r){if(t(this,e),!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{"number"==typeof n[0][0][0]&&(n=[n])}catch(t){}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var i=0,o=n.length;i<o;i++){var s=new B(n[i],this);s.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=s.bbox.ll.x),s.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=s.bbox.ll.y),s.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=s.bbox.ur.x),s.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=s.bbox.ur.y),this.polys.push(s)}this.isSubject=r}return n(e,[{key:"getSweepEvents",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++)for(var r=this.polys[e].getSweepEvents(),i=0,o=r.length;i<o;i++)t.push(r[i]);return t}}]),e}(),z=function(){function e(n){t(this,e),this.events=n;for(var r=0,i=n.length;r<i;r++)n[r].segment.ringOut=this;this.poly=null}return n(e,null,[{key:"factory",value:function(t){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];if(o.isInResult()&&!o.ringOut){for(var s=null,a=o.leftSE,u=o.rightSE,l=[a],c=a.point,h=[];s=a,a=u,l.push(a),a.point!==c;)for(;;){var f=a.getAvailableLinkedEvents();if(0===f.length){var p=l[0].point,d=l[l.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(p.x,",")+" ".concat(p.y,"]. Last matching segment found ends at")+" [".concat(d.x,", ").concat(d.y,"]."))}if(1===f.length){u=f[0].otherSE;break}for(var y=null,g=0,m=h.length;g<m;g++)if(h[g].point===a.point){y=g;break}if(null===y){h.push({index:l.length,point:a.point});var v=a.getLeftmostComparator(s);u=f.sort(v)[0].otherSE;break}var _=h.splice(y)[0],b=l.splice(_.index);b.unshift(b[0].otherSE),n.push(new e(b.reverse()))}n.push(new e(l))}}return n}}]),n(e,[{key:"getGeom",value:function(){for(var t=this.events[0].point,e=[t],n=1,r=this.events.length-1;n<r;n++){var i=this.events[n].point,o=this.events[n+1].point;0!==I(i,t,o)&&(e.push(i),t=i)}if(1===e.length)return null;var s=e[0],a=e[1];0===I(s,t,a)&&e.shift(),e.push(e[0]);for(var u=this.isExteriorRing()?1:-1,l=this.isExteriorRing()?0:e.length-1,c=this.isExteriorRing()?e.length:-1,h=[],f=l;f!=c;f+=u)h.push([e[f].x,e[f].y]);return h}},{key:"isExteriorRing",value:function(){if(void 0===this._isExteriorRing){var t=this.enclosingRing();this._isExteriorRing=!t||!t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return void 0===this._enclosingRing&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var t=this.events[0],e=1,n=this.events.length;e<n;e++){var r=this.events[e];R.compare(t,r)>0&&(t=r)}for(var i=t.segment.prevInResult(),o=i?i.prevInResult():null;;){if(!i)return null;if(!o)return i.ringOut;if(o.ringOut!==i.ringOut)return o.ringOut.enclosingRing()!==i.ringOut?i.ringOut:i.ringOut.enclosingRing();i=o.prevInResult(),o=i?i.prevInResult():null}}}]),e}(),G=function(){function e(n){t(this,e),this.exteriorRing=n,n.poly=this,this.interiorRings=[]}return n(e,[{key:"addInterior",value:function(t){this.interiorRings.push(t),t.poly=this}},{key:"getGeom",value:function(){var t=[this.exteriorRing.getGeom()];if(null===t[0])return null;for(var e=0,n=this.interiorRings.length;e<n;e++){var r=this.interiorRings[e].getGeom();null!==r&&t.push(r)}return t}}]),e}(),q=function(){function e(n){t(this,e),this.rings=n,this.polys=this._composePolys(n)}return n(e,[{key:"getGeom",value:function(){for(var t=[],e=0,n=this.polys.length;e<n;e++){var r=this.polys[e].getGeom();null!==r&&t.push(r)}return t}},{key:"_composePolys",value:function(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(!i.poly)if(i.isExteriorRing())e.push(new G(i));else{var o=i.enclosingRing();o.poly||e.push(new G(o)),o.poly.addInterior(i)}}return e}}]),e}(),U=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:k.compare;t(this,e),this.queue=n,this.tree=new c(r),this.segments=[]}return n(e,[{key:"process",value:function(t){var e=t.segment,n=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(e),n;var r=t.isLeft?this.tree.insert(e):this.tree.find(e);if(!r)throw new Error("Unable to find segment #".concat(e.id," ")+"[".concat(e.leftSE.point.x,", ").concat(e.leftSE.point.y,"] -> ")+"[".concat(e.rightSE.point.x,", ").concat(e.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var i=r,o=r,s=void 0,a=void 0;void 0===s;)null===(i=this.tree.prev(i))?s=null:void 0===i.key.consumedBy&&(s=i.key);for(;void 0===a;)null===(o=this.tree.next(o))?a=null:void 0===o.key.consumedBy&&(a=o.key);if(t.isLeft){var u=null;if(s){var l=s.getIntersection(e);if(null!==l&&(e.isAnEndpoint(l)||(u=l),!s.isAnEndpoint(l)))for(var c=this._splitSafely(s,l),h=0,f=c.length;h<f;h++)n.push(c[h])}var p=null;if(a){var d=a.getIntersection(e);if(null!==d&&(e.isAnEndpoint(d)||(p=d),!a.isAnEndpoint(d)))for(var y=this._splitSafely(a,d),g=0,m=y.length;g<m;g++)n.push(y[g])}if(null!==u||null!==p){var v=null;v=null===u?p:null===p||R.comparePoints(u,p)<=0?u:p,this.queue.remove(e.rightSE),n.push(e.rightSE);for(var _=e.split(v),b=0,x=_.length;b<x;b++)n.push(_[b])}n.length>0?(this.tree.remove(e),n.push(t)):(this.segments.push(e),e.prev=s)}else{if(s&&a){var w=s.getIntersection(a);if(null!==w){if(!s.isAnEndpoint(w))for(var E=this._splitSafely(s,w),S=0,P=E.length;S<P;S++)n.push(E[S]);if(!a.isAnEndpoint(w))for(var C=this._splitSafely(a,w),I=0,M=C.length;I<M;I++)n.push(C[I])}}this.tree.remove(e)}return n}},{key:"_splitSafely",value:function(t,e){this.tree.remove(t);var n=t.rightSE;this.queue.remove(n);var r=t.split(e);return r.push(n),void 0===t.consumedBy&&this.tree.insert(t),r}}]),e}(),V="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,X="undefined"!=typeof process&&process.env.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,Y=new(function(){function e(){t(this,e)}return n(e,[{key:"run",value:function(t,e,n){Y.type=t,S.reset();for(var r=[new j(e,!0)],i=0,o=n.length;i<o;i++)r.push(new j(n[i],!1));if(Y.numMultiPolys=r.length,"difference"===Y.type)for(var s=r[0],a=1;a<r.length;)null!==v(r[a].bbox,s.bbox)?a++:r.splice(a,1);if("intersection"===Y.type)for(var u=0,l=r.length;u<l;u++)for(var h=r[u],f=u+1,p=r.length;f<p;f++)if(null===v(h.bbox,r[f].bbox))return[];for(var d=new c(R.compare),y=0,g=r.length;y<g;y++)for(var m=r[y].getSweepEvents(),_=0,b=m.length;_<b;_++)if(d.insert(m[_]),d.size>V)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var x=new U(d),w=d.size,E=d.pop();E;){var P=E.key;if(d.size===w){var C=P.segment;throw new Error("Unable to pop() ".concat(P.isLeft?"left":"right"," SweepEvent ")+"[".concat(P.point.x,", ").concat(P.point.y,"] from segment #").concat(C.id," ")+"[".concat(C.leftSE.point.x,", ").concat(C.leftSE.point.y,"] -> ")+"[".concat(C.rightSE.point.x,", ").concat(C.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(d.size>V)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(x.segments.length>X)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var I=x.process(P),M=0,O=I.length;M<O;M++){var T=I[M];void 0===T.consumedBy&&d.insert(T)}w=d.size,E=d.pop()}S.reset();var L=z.factory(x.segments);return new q(L).getGeom()}}]),e}());return{union:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Y.run("union",t,n)},intersection:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Y.run("intersection",t,n)},xor:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Y.run("xor",t,n)},difference:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Y.run("difference",t,n)}}}()},8166:function(t){t.exports=function(){"use strict";function t(t,n,i,o,s){e(t,n,i||0,o||t.length-1,s||r)}function e(t,r,i,o,s){for(;o>i;){if(o-i>600){var a=o-i+1,u=r-i+1,l=Math.log(a),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(a-c)/a)*(u-a/2<0?-1:1);e(t,r,Math.max(i,Math.floor(r-u*c/a+h)),Math.min(o,Math.floor(r+(a-u)*c/a+h)),s)}var f=t[r],p=i,d=o;for(n(t,i,r),s(t[o],f)>0&&n(t,i,o);p<d;){for(n(t,p,d),p++,d--;s(t[p],f)<0;)p++;for(;s(t[d],f)>0;)d--}0===s(t[i],f)?n(t,i,d):n(t,++d,o),d<=r&&(i=d+1),r<=d&&(o=d-1)}}function n(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function r(t,e){return t<e?-1:t>e?1:0}return t}()},5510:(t,e,n)=>{"use strict";t.exports=i,t.exports.default=i;var r=n(8166);function i(t,e){if(!(this instanceof i))return new i(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,i){i||(i=y(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],u(i,t.leaf?r(o):o);return i}function u(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function l(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function y(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,n,i,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=i||(s=e+Math.ceil((n-e)/i/2)*i,r(t,s,e,n,o),a.push(e,s,s,n))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],r=this.toBBox;if(!d(t,e))return n;for(var i,o,s,a,u=[];e;){for(i=0,o=e.children.length;i<o;i++)s=e.children[i],d(t,a=e.leaf?r(s):s)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var r,i,o,s,a=[];e;){for(r=0,i=e.children.length;r<i;r++)if(o=e.children[r],d(t,s=e.leaf?n(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=y([]),this},remove:function(t,e){if(!t)return this;for(var n,r,i,s,a=this.data,u=this.toBBox(t),l=[],c=[];a||l.length;){if(a||(a=l.pop(),r=l[l.length-1],n=c.pop(),s=!0),a.leaf&&-1!==(i=o(t,a.children,e)))return a.children.splice(i,1),l.push(a),this._condense(l),this;s||a.leaf||!p(a,u)?r?(n++,a=r.children[n],s=!1):a=null:(l.push(a),c.push(n),n=0,r=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:l,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,r){var i,o=n-e+1,a=this._maxEntries;if(o<=a)return s(i=y(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),(i=y([])).leaf=!1,i.height=r;var u,l,c,h,f=Math.ceil(o/a),p=f*Math.ceil(Math.sqrt(a));for(g(t,e,n,p,this.compareMinX),u=e;u<=n;u+=p)for(g(t,u,c=Math.min(u+p-1,n),f,this.compareMinY),l=u;l<=c;l+=f)h=Math.min(l+f-1,c),i.children.push(this._build(t,l,h,r-1));return s(i,this.toBBox),i},_chooseSubtree:function(t,e,n,r){for(var i,o,s,a,u,l,c,f,p,d;r.push(e),!e.leaf&&r.length-1!==n;){for(c=f=1/0,i=0,o=e.children.length;i<o;i++)u=h(s=e.children[i]),p=t,d=s,(l=(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-u)<f?(f=l,c=u<c?u:c,a=s):l===f&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var r=this.toBBox,i=n?t:r(t),o=[],s=this._chooseSubtree(i,this.data,e,o);for(s.children.push(t),u(s,i);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(i,o,e)},_split:function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),a=y(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=y([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var r,i,o,s,u,l,c,f,p,d,y,g,m,v;for(l=c=1/0,r=e;r<=n-e;r++)i=a(t,0,r,this.toBBox),o=a(t,r,n,this.toBBox),p=i,d=o,y=void 0,g=void 0,m=void 0,v=void 0,y=Math.max(p.minX,d.minX),g=Math.max(p.minY,d.minY),m=Math.min(p.maxX,d.maxX),v=Math.min(p.maxY,d.maxY),s=Math.max(0,m-y)*Math.max(0,v-g),u=h(i)+h(o),s<l?(l=s,f=r,c=u<c?u:c):s===l&&u<c&&(c=u,f=r);return f},_chooseSplitAxis:function(t,e,n){var r=t.leaf?this.compareMinX:l,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},_allDistMargin:function(t,e,n,r){t.children.sort(r);var i,o,s=this.toBBox,l=a(t,0,e,s),c=a(t,n-e,n,s),h=f(l)+f(c);for(i=e;i<n-e;i++)o=t.children[i],u(l,t.leaf?s(o):o),h+=f(l);for(i=n-e-1;i>=e;i--)o=t.children[i],u(c,t.leaf?s(o):o),h+=f(c);return h},_adjustParentBBoxes:function(t,e,n){for(var r=n;r>=0;r--)u(e[r],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},3697:t=>{"use strict";var e=Object,n=TypeError;t.exports=function(){if(null!=this&&this!==e(this))throw new n("RegExp.prototype.flags getter called on non-object");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.dotAll&&(t+="s"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t}},2847:(t,e,n)=>{"use strict";var r=n(4289),i=n(5559),o=n(3697),s=n(1721),a=n(2753),u=i(o);r(u,{getPolyfill:s,implementation:o,shim:a}),t.exports=u},1721:(t,e,n)=>{"use strict";var r=n(3697),i=n(4289).supportsDescriptors,o=Object.getOwnPropertyDescriptor,s=TypeError;t.exports=function(){if(!i)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var t=o(RegExp.prototype,"flags");if(t&&"function"==typeof t.get&&"boolean"==typeof/a/.dotAll)return t.get}return r}},2753:(t,e,n)=>{"use strict";var r=n(4289).supportsDescriptors,i=n(1721),o=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,u=Object.getPrototypeOf,l=/a/;t.exports=function(){if(!r||!u)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var t=i(),e=u(l),n=o(e,"flags");return n&&n.get===t||s(e,"flags",{configurable:!0,enumerable:!1,get:t}),t}},8639:function(t,e){!function(t){"use strict";const e=134217729,n=33306690738754706e-32;function r(t,e,n,r,i){let o,s,a,u,l=e[0],c=r[0],h=0,f=0;c>l==c>-l?(o=l,l=e[++h]):(o=c,c=r[++f]);let p=0;if(h<t&&f<n)for(c>l==c>-l?(a=o-((s=l+o)-l),l=e[++h]):(a=o-((s=c+o)-c),c=r[++f]),o=s,0!==a&&(i[p++]=a);h<t&&f<n;)c>l==c>-l?(a=o-((s=o+l)-(u=s-o))+(l-u),l=e[++h]):(a=o-((s=o+c)-(u=s-o))+(c-u),c=r[++f]),o=s,0!==a&&(i[p++]=a);for(;h<t;)a=o-((s=o+l)-(u=s-o))+(l-u),l=e[++h],o=s,0!==a&&(i[p++]=a);for(;f<n;)a=o-((s=o+c)-(u=s-o))+(c-u),c=r[++f],o=s,0!==a&&(i[p++]=a);return 0===o&&0!==p||(i[p++]=o),p}function i(t){return new Float64Array(t)}const o=33306690738754716e-32,s=22204460492503146e-32,a=11093356479670487e-47,u=i(4),l=i(8),c=i(12),h=i(16),f=i(4);t.orient2d=function(t,i,p,d,y,g){const m=(i-g)*(p-y),v=(t-y)*(d-g),_=m-v;if(0===m||0===v||m>0!=v>0)return _;const b=Math.abs(m+v);return Math.abs(_)>=o*b?_:-function(t,i,o,p,d,y,g){let m,v,_,b,x,w,E,S,P,C,I,M,O,T,L,N,A,R;const D=t-d,k=o-d,F=i-y,B=p-y;x=(L=(S=D-(E=(w=e*D)-(w-D)))*(C=B-(P=(w=e*B)-(w-B)))-((T=D*B)-E*P-S*P-E*C))-(I=L-(A=(S=F-(E=(w=e*F)-(w-F)))*(C=k-(P=(w=e*k)-(w-k)))-((N=F*k)-E*P-S*P-E*C))),u[0]=L-(I+x)+(x-A),x=(O=T-((M=T+I)-(x=M-T))+(I-x))-(I=O-N),u[1]=O-(I+x)+(x-N),x=(R=M+I)-M,u[2]=M-(R-x)+(I-x),u[3]=R;let j=function(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}(4,u),z=s*g;if(j>=z||-j>=z)return j;if(m=t-(D+(x=t-D))+(x-d),_=o-(k+(x=o-k))+(x-d),v=i-(F+(x=i-F))+(x-y),b=p-(B+(x=p-B))+(x-y),0===m&&0===v&&0===_&&0===b)return j;if(z=a*g+n*Math.abs(j),(j+=D*b+B*m-(F*_+k*v))>=z||-j>=z)return j;x=(L=(S=m-(E=(w=e*m)-(w-m)))*(C=B-(P=(w=e*B)-(w-B)))-((T=m*B)-E*P-S*P-E*C))-(I=L-(A=(S=v-(E=(w=e*v)-(w-v)))*(C=k-(P=(w=e*k)-(w-k)))-((N=v*k)-E*P-S*P-E*C))),f[0]=L-(I+x)+(x-A),x=(O=T-((M=T+I)-(x=M-T))+(I-x))-(I=O-N),f[1]=O-(I+x)+(x-N),x=(R=M+I)-M,f[2]=M-(R-x)+(I-x),f[3]=R;const G=r(4,u,4,f,l);x=(L=(S=D-(E=(w=e*D)-(w-D)))*(C=b-(P=(w=e*b)-(w-b)))-((T=D*b)-E*P-S*P-E*C))-(I=L-(A=(S=F-(E=(w=e*F)-(w-F)))*(C=_-(P=(w=e*_)-(w-_)))-((N=F*_)-E*P-S*P-E*C))),f[0]=L-(I+x)+(x-A),x=(O=T-((M=T+I)-(x=M-T))+(I-x))-(I=O-N),f[1]=O-(I+x)+(x-N),x=(R=M+I)-M,f[2]=M-(R-x)+(I-x),f[3]=R;const q=r(G,l,4,f,c);x=(L=(S=m-(E=(w=e*m)-(w-m)))*(C=b-(P=(w=e*b)-(w-b)))-((T=m*b)-E*P-S*P-E*C))-(I=L-(A=(S=v-(E=(w=e*v)-(w-v)))*(C=_-(P=(w=e*_)-(w-_)))-((N=v*_)-E*P-S*P-E*C))),f[0]=L-(I+x)+(x-A),x=(O=T-((M=T+I)-(x=M-T))+(I-x))-(I=O-N),f[1]=O-(I+x)+(x-N),x=(R=M+I)-M,f[2]=M-(R-x)+(I-x),f[3]=R;const U=r(q,c,4,f,h);return h[U-1]}(t,i,p,d,y,g,b)},t.orient2dfast=function(t,e,n,r,i,o){return(e-o)*(n-i)-(t-i)*(r-o)},Object.defineProperty(t,"__esModule",{value:!0})}(e)},5697:t=>{"use strict";t.exports={eudist:function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++){var s=(t[o]||0)-(e[o]||0);i+=s*s}return n?Math.sqrt(i):i},mandist:function(t,e,n){for(var r=t.length,i=0,o=0;o<r;o++)i+=Math.abs((t[o]||0)-(e[o]||0));return n?Math.sqrt(i):i},dist:function(t,e,n){var r=Math.abs(t-e);return n?r:r*r}}},7035:(t,e,n)=>{"use strict";var r=n(5697),i=r.eudist,o=r.dist;t.exports={kmrand:function(t,e){for(var n={},r=[],i=e<<2,o=t.length,s=t[0].length>0;r.length<e&&i-- >0;){var a=t[Math.floor(Math.random()*o)],u=s?a.join("_"):""+a;n[u]||(n[u]=!0,r.push(a))}if(r.length<e)throw new Error("Error initializating clusters");return r},kmpp:function(t,e){var n=t[0].length?i:o,r=[],s=t.length,a=t[0].length>0,u=t[Math.floor(Math.random()*s)];a&&u.join("_");for(r.push(u);r.length<e;){for(var l=[],c=r.length,h=0,f=[],p=0;p<s;p++){for(var d=1/0,y=0;y<c;y++){var g=n(t[p],r[y]);g<=d&&(d=g)}l[p]=d}for(var m=0;m<s;m++)h+=l[m];for(var v=0;v<s;v++)f[v]={i:v,v:t[v],pr:l[v]/h,cs:0};f.sort((function(t,e){return t.pr-e.pr})),f[0].cs=f[0].pr;for(var _=1;_<s;_++)f[_].cs=f[_-1].cs+f[_].pr;for(var b=Math.random(),x=0;x<s-1&&f[x++].cs<b;);r.push(f[x-1].v)}return r}}},1160:(t,e,n)=>{"use strict";var r=n(5697),i=n(7035),o=r.eudist,s=(r.mandist,r.dist,i.kmrand),a=i.kmpp;function u(t,e,n){n=n||[];for(var r=0;r<t;r++)n[r]=e;return n}t.exports=function(t,e,n,r){var i=[],l=[],c=[],h=[],f=!1,p=r||1e4,d=t.length,y=t[0].length,g=y>0,m=[];if(n)i="kmrand"==n?s(t,e):"kmpp"==n?a(t,e):n;else for(var v={};i.length<e;){var _=Math.floor(Math.random()*d);v[_]||(v[_]=!0,i.push(t[_]))}do{u(e,0,m);for(var b=0;b<d;b++){for(var x=1/0,w=0,E=0;E<e;E++){(h=g?o(t[b],i[E]):Math.abs(t[b]-i[E]))<=x&&(x=h,w=E)}c[b]=w,m[w]++}for(var S=[],P=(l=[],0);P<e;P++)S[P]=g?u(y,0,S[P]):0,l[P]=i[P];if(g){for(var C=0;C<e;C++)i[C]=[];for(var I=0;I<d;I++)for(var M=S[c[I]],O=t[I],T=0;T<y;T++)M[T]+=O[T];f=!0;for(var L=0;L<e;L++){for(var N=i[L],A=S[L],R=l[L],D=m[L],k=0;k<y;k++)N[k]=A[k]/D||0;if(f)for(var F=0;F<y;F++)if(R[F]!=N[F]){f=!1;break}}}else{for(var B=0;B<d;B++){S[c[B]]+=t[B]}for(var j=0;j<e;j++)i[j]=S[j]/m[j]||0;f=!0;for(var z=0;z<e;z++)if(l[z]!=i[z]){f=!1;break}}f=f||--p<=0}while(!f);return{it:1e4-p,k:e,idxs:c,centroids:i}}},3842:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});class r{constructor(t=[],e=i){if(this.data=t,this.length=this.data.length,this.compare=e,this.length>0)for(let t=(this.length>>1)-1;t>=0;t--)this._down(t)}push(t){this.data.push(t),this.length++,this._up(this.length-1)}pop(){if(0===this.length)return;const t=this.data[0],e=this.data.pop();return this.length--,this.length>0&&(this.data[0]=e,this._down(0)),t}peek(){return this.data[0]}_up(t){const{data:e,compare:n}=this,r=e[t];for(;t>0;){const i=t-1>>1,o=e[i];if(n(r,o)>=0)break;e[t]=o,t=i}e[t]=r}_down(t){const{data:e,compare:n}=this,r=this.length>>1,i=e[t];for(;t<r;){let r=1+(t<<1),o=e[r];const s=r+1;if(s<this.length&&n(e[s],o)<0&&(r=s,o=e[s]),n(o,i)>=0)break;e[t]=o,t=r}e[t]=i}}function i(t,e){return t<e?-1:t>e?1:0}},8146:(t,e,n)=>{"use strict";function r(t){return t}function i(t){if(null==t)return r;var e,n,i=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,r){r||(e=n=0);var u=2,l=t.length,c=new Array(l);for(c[0]=(e+=t[0])*i+s,c[1]=(n+=t[1])*o+a;u<l;)c[u]=t[u],++u;return c}}function o(t){var e,n=i(t.transform),r=1/0,o=r,s=-r,a=-r;function u(t){(t=n(t))[0]<r&&(r=t[0]),t[0]>s&&(s=t[0]),t[1]<o&&(o=t[1]),t[1]>a&&(a=t[1])}function l(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(l);break;case"Point":u(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(u)}}for(e in t.arcs.forEach((function(t){for(var e,i=-1,u=t.length;++i<u;)(e=n(t[i],i))[0]<r&&(r=e[0]),e[0]>s&&(s=e[0]),e[1]<o&&(o=e[1]),e[1]>a&&(a=e[1])})),t.objects)l(t.objects[e]);return[r,o,s,a]}function s(t,e){return"string"==typeof e&&(e=t.objects[e]),"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map((function(e){return a(t,e)}))}:a(t,e)}function a(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=u(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function u(t,e){var n=i(t.transform),r=t.arcs;function o(t,e){e.length&&e.pop();for(var i=r[t<0?~t:t],o=0,s=i.length;o<s;++o)e.push(n(i[o],o));t<0&&function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n}(e,s)}function s(t){return n(t)}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)o(t[n],e);return e.length<2&&e.push(e[0]),e}function u(t){for(var e=a(t);e.length<4;)e.push(e[0]);return e}function l(t){return t.map(u)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=s(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(s);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=l(e.arcs);break;case"MultiPolygon":n=e.arcs.map(l);break;default:return null}return{type:r,coordinates:n}}(e)}function l(t,e){var n={},r={},i={},o=[],s=-1;function a(t,e){for(var r in t){var i=t[r];delete e[i.start],delete i.start,delete i.end,i.forEach((function(t){n[t<0?~t:t]=1})),o.push(i)}}return e.forEach((function(n,r){var i,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(i=e[++s],e[s]=n,e[r]=i)})),e.forEach((function(e){var n,o,s=function(e){var n,r=t.arcs[e<0?~e:e],i=r[0];t.transform?(n=[0,0],r.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=r[r.length-1];return e<0?[n,i]:[i,n]}(e),a=s[0],u=s[1];if(n=i[a])if(delete i[n.end],n.push(e),n.end=u,o=r[u]){delete r[o.start];var l=o===n?n:n.concat(o);r[l.start=n.start]=i[l.end=o.end]=l}else r[n.start]=i[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=a,o=i[a]){delete i[o.end];var c=o===n?n:o.concat(n);r[c.start=o.start]=i[c.end=n.end]=c}else r[n.start]=i[n.end]=n;else r[(n=[e]).start=a]=i[n.end=u]=n})),a(i,r),a(r,i),e.forEach((function(t){n[t<0?~t:t]||o.push([t])})),o}function c(t){return u(t,h.apply(this,arguments))}function h(t,e,n){var r,i,o;if(arguments.length>1)r=f(t,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:l(t,r)}}function f(t,e,n){var r,i=[],o=[];function s(t){var e=t<0?~t:t;(o[e]||(o[e]=[])).push({i:t,g:r})}function a(t){t.forEach(s)}function u(t){t.forEach(a)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":a(e.arcs);break;case"MultiLineString":case"Polygon":u(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(u)}(e.arcs)}}(e),o.forEach(null==n?function(t){i.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&i.push(t[0].i)}),i}function p(t){return u(t,d.apply(this,arguments))}function d(t,e){var n={},r=[],i=[];function o(t){t.forEach((function(e){e.forEach((function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)}))})),r.push(t)}function s(e){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(u(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":o(e.arcs);break;case"MultiPolygon":e.arcs.forEach(o)}})),r.forEach((function(t){if(!t._){var e=[],r=[t];for(t._=1,i.push(e);t=r.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].forEach((function(t){t._||(t._=1,r.push(t))}))}))}))}})),r.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:i.map((function(e){var r,i=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){n[t<0?~t:t].length<2&&i.push(t)}))}))})),(r=(i=l(t,i)).length)>1)for(var o,a,u=1,c=s(i[0]);u<r;++u)(o=s(i[u]))>c&&(a=i[0],i[0]=i[u],i[u]=a,c=o);return i})).filter((function(t){return t.length>0}))}}function y(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n}function g(t){var e={},n=t.map((function(){return[]}));function r(t,n){t.forEach((function(t){t<0&&(t=~t);var r=e[t];r?r.push(n):e[t]=[n]}))}function i(t,e){t.forEach((function(t){r(t,e)}))}var o={LineString:r,MultiLineString:i,Polygon:i,MultiPolygon:function(t,e){t.forEach((function(t){i(t,e)}))}};for(var s in t.forEach((function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach((function(e){t(e,n)})):e.type in o&&o[e.type](e.arcs,n)})),e)for(var a=e[s],u=a.length,l=0;l<u;++l)for(var c=l+1;c<u;++c){var h,f=a[l],p=a[c];(h=n[f])[s=y(h,p)]!==p&&h.splice(s,0,p),(h=n[p])[s=y(h,f)]!==f&&h.splice(s,0,f)}return n}function m(t){if(null==t)return r;var e,n,i=t.scale[0],o=t.scale[1],s=t.translate[0],a=t.translate[1];return function(t,r){r||(e=n=0);var u=2,l=t.length,c=new Array(l),h=Math.round((t[0]-s)/i),f=Math.round((t[1]-a)/o);for(c[0]=h-e,e=h,c[1]=f-n,n=f;u<l;)c[u]=t[u],++u;return c}}function v(t,e){if(t.transform)throw new Error("already quantized");if(e&&e.scale)u=t.bbox;else{if(!((n=Math.floor(e))>=2))throw new Error("n must be 2");var n,r=(u=t.bbox||o(t))[0],i=u[1],s=u[2],a=u[3];e={scale:[s-r?(s-r)/(n-1):1,a-i?(a-i)/(n-1):1],translate:[r,i]}}var u,l,c=m(e),h=t.objects,f={};function p(t){return c(t)}function d(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(d)};break;case"Point":e={type:"Point",coordinates:p(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(p)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}for(l in h)f[l]=d(h[l]);return{type:"Topology",bbox:u,transform:e,objects:f,arcs:t.arcs.map((function(t){var e,n=0,r=1,i=t.length,o=new Array(i);for(o[0]=c(t[0],0);++n<i;)((e=c(t[n],n))[0]||e[1])&&(o[r++]=e);return 1===r&&(o[r++]=[0,0]),o.length=r,o}))}}n.r(e),n.d(e,{bbox:()=>o,feature:()=>s,merge:()=>p,mergeArcs:()=>d,mesh:()=>c,meshArcs:()=>h,neighbors:()=>g,quantize:()=>v,transform:()=>i,untransform:()=>m})},4255:(t,e,n)=>{"use strict";n.r(e),n.d(e,{topology:()=>m});var r=Object.prototype.hasOwnProperty;function i(t,e,n,r,i,o){3===arguments.length&&(r=o=Array,i=null);for(var s=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),u=t-1,l=0;l<t;++l)s[l]=i;function c(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l]=o;if(++h>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=r,a[l]=o,o}function h(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l];if(++h>=t)throw new Error("full hashmap");c=s[l=l+1&u]}return s[l]=r,a[l]=o,o}function f(r,o){for(var l=e(r)&u,c=s[l],h=0;c!=i;){if(n(c,r))return a[l];if(++h>=t)break;c=s[l=l+1&u]}return o}function p(){for(var t=[],e=0,n=s.length;e<n;++e){var r=s[e];r!=i&&t.push(r)}return t}return{set:c,maybeSet:h,get:f,keys:p}}function o(t,e){return t[0]===e[0]&&t[1]===e[1]}var s=new ArrayBuffer(16),a=new Float64Array(s),u=new Uint32Array(s);function l(t){a[0]=t[0],a[1]=t[1];var e=u[0]^u[1];return 2147483647&(e=e<<5^e>>7^u[2]^u[3])}function c(t){var e,n,r,s,a=t.coordinates,u=t.lines,c=t.rings,h=function(){for(var t=i(1.4*a.length,S,P,Int32Array,-1,Int32Array),e=new Int32Array(a.length),n=0,r=a.length;n<r;++n)e[n]=t.maybeSet(n,n);return e}(),f=new Int32Array(a.length),p=new Int32Array(a.length),d=new Int32Array(a.length),y=new Int8Array(a.length),g=0;for(e=0,n=a.length;e<n;++e)f[e]=p[e]=d[e]=-1;for(e=0,n=u.length;e<n;++e){var m=u[e],v=m[0],_=m[1];for(r=h[v],s=h[++v],++g,y[r]=1;++v<=_;)E(e,r,r=s,s=h[v]);++g,y[s]=1}for(e=0,n=a.length;e<n;++e)f[e]=-1;for(e=0,n=c.length;e<n;++e){var b=c[e],x=b[0]+1,w=b[1];for(E(e,h[w-1],r=h[x-1],s=h[x]);++x<=w;)E(e,r,r=s,s=h[x])}function E(t,e,n,r){if(f[n]!==t){f[n]=t;var i=p[n];if(i>=0){var o=d[n];i===e&&o===r||i===r&&o===e||(++g,y[n]=1)}else p[n]=e,d[n]=r}}function S(t){return l(a[t])}function P(t,e){return o(a[t],a[e])}f=p=d=null;var C,I=function(t,e,n,r,i){3===arguments.length&&(r=Array,i=null);for(var o=new r(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=i;function u(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)throw new Error("full hashset");u=o[a=a+1&s]}return o[a]=r,!0}function l(r){for(var a=e(r)&s,u=o[a],l=0;u!=i;){if(n(u,r))return!0;if(++l>=t)break;u=o[a=a+1&s]}return!1}function c(){for(var t=[],e=0,n=o.length;e<n;++e){var r=o[e];r!=i&&t.push(r)}return t}return{add:u,has:l,values:c}}(1.4*g,l,o);for(e=0,n=a.length;e<n;++e)y[C=h[e]]&&I.add(a[C]);return I}function h(t,e,n,r){f(t,e,n),f(t,e,e+r),f(t,e+r,n)}function f(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function p(t){var e,n,r={};for(e in t)r[e]=null==(n=t[e])?{type:null}:("FeatureCollection"===n.type?d:"Feature"===n.type?y:g)(n);return r}function d(t){var e={type:"GeometryCollection",geometries:t.features.map(y)};return null!=t.bbox&&(e.bbox=t.bbox),e}function y(t){var e,n=g(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function g(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(g)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function m(t,e){var n=function(t){var e=1/0,n=1/0,i=-1/0,o=-1/0;function s(t){null!=t&&r.call(a,t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(s)},Point:function(t){u(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(u)},LineString:function(t){l(t.arcs)},MultiLineString:function(t){t.arcs.forEach(l)},Polygon:function(t){t.arcs.forEach(l)},MultiPolygon:function(t){t.arcs.forEach(c)}};function u(t){var r=t[0],s=t[1];r<e&&(e=r),r>i&&(i=r),s<n&&(n=s),s>o&&(o=s)}function l(t){t.forEach(u)}function c(t){t.forEach(l)}for(var h in t)s(t[h]);return i>=e&&o>=n?[e,n,i,o]:void 0}(t=p(t)),s=e>0&&n&&function(t,e,n){var i=e[0],o=e[1],s=e[2],a=e[3],u=s-i?(n-1)/(s-i):1,l=a-o?(n-1)/(a-o):1;function c(t){return[Math.round((t[0]-i)*u),Math.round((t[1]-o)*l)]}function h(t,e){for(var n,r,s,a,c,h=-1,f=0,p=t.length,d=new Array(p);++h<p;)n=t[h],a=Math.round((n[0]-i)*u),c=Math.round((n[1]-o)*l),a===r&&c===s||(d[f++]=[r=a,s=c]);for(d.length=f;f<e;)f=d.push([d[0][0],d[0][1]]);return d}function f(t){return h(t,2)}function p(t){return h(t,4)}function d(t){return t.map(p)}function y(t){null!=t&&r.call(g,t.type)&&g[t.type](t)}var g={GeometryCollection:function(t){t.geometries.forEach(y)},Point:function(t){t.coordinates=c(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(c)},LineString:function(t){t.arcs=f(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(f)},Polygon:function(t){t.arcs=d(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(d)}};for(var m in t)y(t[m]);return{scale:[1/u,1/l],translate:[i,o]}}(t,n,e),a=function(t){var e,n,r,s,a=t.coordinates,u=t.lines,c=t.rings,h=u.length+c.length;for(delete t.lines,delete t.rings,r=0,s=u.length;r<s;++r)for(e=u[r];e=e.next;)++h;for(r=0,s=c.length;r<s;++r)for(n=c[r];n=n.next;)++h;var f=i(2*h*1.4,l,o),p=t.arcs=[];for(r=0,s=u.length;r<s;++r){e=u[r];do{d(e)}while(e=e.next)}for(r=0,s=c.length;r<s;++r)if((n=c[r]).next)do{d(n)}while(n=n.next);else y(n);function d(t){var e,n,r,i,o,s,u,l;if(r=f.get(e=a[t[0]]))for(u=0,l=r.length;u<l;++u)if(g(i=r[u],t))return t[0]=i[0],void(t[1]=i[1]);if(o=f.get(n=a[t[1]]))for(u=0,l=o.length;u<l;++u)if(m(s=o[u],t))return t[1]=s[0],void(t[0]=s[1]);r?r.push(t):f.set(e,[t]),o?o.push(t):f.set(n,[t]),p.push(t)}function y(t){var e,n,r,i,o;if(n=f.get(a[t[0]]))for(i=0,o=n.length;i<o;++i){if(v(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(_(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=f.get(e=a[t[0]+b(t)]))for(i=0,o=n.length;i<o;++i){if(v(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(_(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):f.set(e,[t]),p.push(t)}function g(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!o(a[n],a[r]))return!1;return!0}function m(t,e){var n=t[0],r=e[0],i=t[1],s=e[1];if(n-i!=r-s)return!1;for(;n<=i;++n,--s)if(!o(a[n],a[s]))return!1;return!0}function v(t,e){var n=t[0],r=e[0],i=t[1]-n;if(i!==e[1]-r)return!1;for(var s=b(t),u=b(e),l=0;l<i;++l)if(!o(a[n+(l+s)%i],a[r+(l+u)%i]))return!1;return!0}function _(t,e){var n=t[0],r=e[0],i=t[1],s=e[1],u=i-n;if(u!==s-r)return!1;for(var l=b(t),c=u-b(e),h=0;h<u;++h)if(!o(a[n+(h+l)%u],a[s-(h+c)%u]))return!1;return!0}function b(t){for(var e=t[0],n=t[1],r=e,i=r,o=a[r];++r<n;){var s=a[r];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(i=r,o=s)}return i-e}return t}(function(t){var e,n,r,i=c(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,r=s.length;n<r;++n)for(var u=s[n],l=u[0],f=u[1];++l<f;)i.has(o[l])&&(e={0:l,1:u[1]},u[1]=l,u=u.next=e);for(n=0,r=a.length;n<r;++n)for(var p=a[n],d=p[0],y=d,g=p[1],m=i.has(o[d]);++y<g;)i.has(o[y])&&(m?(e={0:y,1:p[1]},p[1]=y,p=p.next=e):(h(o,d,g,g-y),o[g]=o[d],m=!0,y=d));return t}(function(t){var e=-1,n=[],i=[],o=[];function s(t){t&&r.call(a,t.type)&&a[t.type](t)}var a={GeometryCollection:function(t){t.geometries.forEach(s)},LineString:function(t){t.arcs=u(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(u)},Polygon:function(t){t.arcs=t.arcs.map(l)},MultiPolygon:function(t){t.arcs=t.arcs.map(c)}};function u(t){for(var r=0,i=t.length;r<i;++r)o[++e]=t[r];var s={0:e-i+1,1:e};return n.push(s),s}function l(t){for(var n=0,r=t.length;n<r;++n)o[++e]=t[n];var s={0:e-r+1,1:e};return i.push(s),s}function c(t){return t.map(l)}for(var h in t)s(t[h]);return{type:"Topology",coordinates:o,lines:n,rings:i,objects:t}}(t))),u=a.coordinates,f=i(1.4*a.arcs.length,v,_);function d(t){t&&r.call(y,t.type)&&y[t.type](t)}t=a.objects,a.bbox=n,a.arcs=a.arcs.map((function(t,e){return f.set(t,e),u.slice(t[0],t[1]+1)})),delete a.coordinates,u=null;var y={GeometryCollection:function(t){t.geometries.forEach(d)},LineString:function(t){t.arcs=g(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(g)},Polygon:function(t){t.arcs=t.arcs.map(g)},MultiPolygon:function(t){t.arcs=t.arcs.map(m)}};function g(t){var e=[];do{var n=f.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function m(t){return t.map(g)}for(var b in t)d(t[b]);return s&&(a.transform=s,a.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var r,i,o=t[e],s=0,a=1,u=o.length,l=o[0],c=l[0],h=l[1];++s<u;)r=(l=o[s])[0],i=l[1],r===c&&i===h||(o[a++]=[r-c,i-h],c=r,h=i);1===a&&(o[a++]=[0,0]),o.length=a}return t}(a.arcs)),a}function v(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function _(t,e){var n,r=t[0],i=t[1],o=e[0],s=e[1];return i<r&&(n=r,r=i,i=n),s<o&&(n=o,o=s,s=n),r===o&&i===s}},675:function(t,e){!function(t){"use strict";function e(){}function n(t){this.message=t||""}function r(t){this.message=t||""}function i(t){this.message=t||""}function o(){}function s(t){return null===t?Rt:t.color}function a(t){return null===t?null:t.parent}function u(t,e){null!==t&&(t.color=e)}function l(t){return null===t?null:t.left}function c(t){return null===t?null:t.right}function h(){this.root_=null,this.size_=0}function f(){}function p(){this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}function d(){}function y(t){this.message=t||""}function g(){this.array_=[]}"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,r=1 in arguments&&parseInt(Number(arguments[1]),10)||0;r=r<0?Math.max(n+r,0):Math.min(r,n);var i=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(i=i<0?Math.max(n+arguments[2],0):Math.min(i,n);r<i;)e[r]=t,++r;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var m=function(){};m.prototype.interfaces_=function(){return[]},m.prototype.getClass=function(){return m},m.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var v=function(t){function e(e){t.call(this,e),this.name="IllegalArgumentException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),_=function(){},b={MAX_VALUE:{configurable:!0}};_.isNaN=function(t){return Number.isNaN(t)},_.doubleToLongBits=function(t){return t},_.longBitsToDouble=function(t){return t},_.isInfinite=function(t){return!Number.isFinite(t)},b.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(_,b);var x=function(){},w=function(){},E=function(){},S=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},P={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};S.prototype.setOrdinate=function(t,e){switch(t){case S.X:this.x=e;break;case S.Y:this.y=e;break;case S.Z:this.z=e;break;default:throw new v("Invalid ordinate index: "+t)}},S.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!m.equalsWithTolerance(this.x,e.x,n)&&!!m.equalsWithTolerance(this.y,e.y,n)}},S.prototype.getOrdinate=function(t){switch(t){case S.X:return this.x;case S.Y:return this.y;case S.Z:return this.z}throw new v("Invalid ordinate index: "+t)},S.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||_.isNaN(this.z))&&_.isNaN(t.z)},S.prototype.equals=function(t){return t instanceof S&&this.equals2D(t)},S.prototype.equalInZ=function(t,e){return m.equalsWithTolerance(this.z,t.z,e)},S.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},S.prototype.clone=function(){},S.prototype.copy=function(){return new S(this)},S.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},S.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return Math.sqrt(e*e+n*n+r*r)},S.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},S.prototype.hashCode=function(){var t=17;return 37*(t=37*t+S.hashCode(this.x))+S.hashCode(this.y)},S.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},S.prototype.interfaces_=function(){return[x,w,e]},S.prototype.getClass=function(){return S},S.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=_.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},P.DimensionalComparator.get=function(){return C},P.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},P.NULL_ORDINATE.get=function(){return _.NaN},P.X.get=function(){return 0},P.Y.get=function(){return 1},P.Z.get=function(){return 2},Object.defineProperties(S,P);var C=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new v("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};C.prototype.compare=function(t,e){var n=t,r=e,i=C.compare(n.x,r.x);if(0!==i)return i;var o=C.compare(n.y,r.y);return 0!==o?o:this._dimensionsToTest<=2?0:C.compare(n.z,r.z)},C.prototype.interfaces_=function(){return[E]},C.prototype.getClass=function(){return C},C.compare=function(t,e){return t<e?-1:t>e?1:_.isNaN(t)?_.isNaN(e)?0:-1:_.isNaN(e)?1:0};var I=function(){};I.prototype.create=function(){},I.prototype.interfaces_=function(){return[]},I.prototype.getClass=function(){return I};var M=function(){},O={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};M.prototype.interfaces_=function(){return[]},M.prototype.getClass=function(){return M},M.toLocationSymbol=function(t){switch(t){case M.EXTERIOR:return"e";case M.BOUNDARY:return"b";case M.INTERIOR:return"i";case M.NONE:return"-"}throw new v("Unknown location value: "+t)},O.INTERIOR.get=function(){return 0},O.BOUNDARY.get=function(){return 1},O.EXTERIOR.get=function(){return 2},O.NONE.get=function(){return-1},Object.defineProperties(M,O);var T=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},L=function(){},N={LOG_10:{configurable:!0}};L.prototype.interfaces_=function(){return[]},L.prototype.getClass=function(){return L},L.log10=function(t){var e=Math.log(t);return _.isInfinite(e)||_.isNaN(e)?e:e/L.LOG_10},L.min=function(t,e,n,r){var i=t;return e<i&&(i=e),n<i&&(i=n),r<i&&(i=r),i},L.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var r=arguments[0],i=arguments[1],o=arguments[2];return r<i?i:r>o?o:r}},L.wrap=function(t,e){return t<0?e- -t%e:t%e},L.max=function(){if(3===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[0];return t>n&&(n=t),e>n&&(n=e),n}if(4===arguments.length){var r=arguments[1],i=arguments[2],o=arguments[3],s=arguments[0];return r>s&&(s=r),i>s&&(s=i),o>s&&(s=o),s}},L.average=function(t,e){return(t+e)/2},N.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(L,N);var A=function(t){this.str=t};A.prototype.append=function(t){this.str+=t},A.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},A.prototype.toString=function(t){return this.str};var R=function(t){this.value=t};R.prototype.intValue=function(){return this.value},R.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},R.isNaN=function(t){return Number.isNaN(t)};var D=function(){};D.isWhitespace=function(t){return t<=32&&t>=0||127===t},D.toUpperCase=function(t){return t.toUpperCase()};var k=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length)if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else"string"==typeof arguments[0]&&t.call(this,t.parse(arguments[0]));else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r,i)}},F={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};k.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},k.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),r=k.magnitude(n._hi),i=k.TEN.pow(r);(n=n.divide(i)).gt(k.TEN)?(n=n.divide(k.TEN),r+=1):n.lt(k.ONE)&&(n=n.multiply(k.TEN),r-=1);for(var o=r+1,s=new A,a=k.MAX_PRINT_DIGITS-1,u=0;u<=a;u++){t&&u===o&&s.append(".");var l=Math.trunc(n._hi);if(l<0)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,s.append(h),n=n.subtract(k.valueOf(l)).multiply(k.TEN),c&&n.selfAdd(k.TEN);var f=!0,p=k.magnitude(n._hi);if(p<0&&Math.abs(p)>=a-u&&(f=!1),!f)break}return e[0]=r,s.toString()},k.prototype.sqr=function(){return this.multiply(this)},k.prototype.doubleValue=function(){return this._hi+this._lo},k.prototype.subtract=function(){if(arguments[0]instanceof k){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},k.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},k.prototype.isZero=function(){return 0===this._hi&&0===this._lo},k.prototype.selfSubtract=function(){if(arguments[0]instanceof k){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},k.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},k.prototype.min=function(t){return this.le(t)?this:t},k.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof k){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null,c=null,h=null;return u=this._hi/n,h=(i=(l=k.SPLIT*u)-(i=l-u))*(s=(h=k.SPLIT*n)-(s=h-n))-(c=u*n)+i*(a=n-s)+(o=u-i)*s+o*a,h=u+(l=(this._hi-c-h+this._lo-u*r)/n),this._hi=h,this._lo=u-h+l,this}},k.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},k.prototype.divide=function(){if(arguments[0]instanceof k){var t=arguments[0],e=null,n=null,r=null,i=null,o=null,s=null,a=null,u=null;return n=(o=this._hi/t._hi)-(e=(s=k.SPLIT*o)-(e=s-o)),u=e*(r=(u=k.SPLIT*t._hi)-(r=u-t._hi))-(a=o*t._hi)+e*(i=t._hi-r)+n*r+n*i,s=(this._hi-a-u+this._lo-o*t._lo)/t._hi,new k(u=o+s,o-u+s)}if("number"==typeof arguments[0]){var l=arguments[0];return _.isNaN(l)?k.createNaN():k.copy(this).selfDivide(l,0)}},k.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},k.prototype.pow=function(t){if(0===t)return k.valueOf(1);var e=new k(this),n=k.valueOf(1),r=Math.abs(t);if(r>1)for(;r>0;)r%2==1&&n.selfMultiply(e),(r/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},k.prototype.ceil=function(){if(this.isNaN())return k.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new k(t,e)},k.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},k.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},k.prototype.setValue=function(){if(arguments[0]instanceof k){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},k.prototype.max=function(t){return this.ge(t)?this:t},k.prototype.sqrt=function(){if(this.isZero())return k.valueOf(0);if(this.isNegative())return k.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=k.valueOf(e),r=this.subtract(n.sqr())._hi*(.5*t);return n.add(r)},k.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof k){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,r=null,i=null,o=null,s=null,a=null;return o=(i=this._hi+e)-(s=i-this._hi),r=(a=(o=e-s+(this._hi-o))+this._lo)+(i-(n=i+a)),this._hi=n+r,this._lo=r+(n-this._hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],c=null,h=null,f=null,p=null,d=null,y=null,g=null;p=this._hi+u,h=this._lo+l,d=p-(y=p-this._hi),f=h-(g=h-this._lo);var m=(c=p+(y=(d=u-y+(this._hi-d))+h))+(y=(f=l-g+(this._lo-f))+(y+(p-c))),v=y+(c-m);return this._hi=m,this._lo=v,this}},k.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof k){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1],i=null,o=null,s=null,a=null,u=null,l=null;i=(u=k.SPLIT*this._hi)-this._hi,l=k.SPLIT*n,i=u-i,o=this._hi-i,s=l-n;var c=(u=this._hi*n)+(l=i*(s=l-s)-u+i*(a=n-s)+o*s+o*a+(this._hi*r+this._lo*n)),h=l+(i=u-c);return this._hi=c,this._lo=h,this}},k.prototype.selfSqr=function(){return this.selfMultiply(this)},k.prototype.floor=function(){if(this.isNaN())return k.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new k(t,e)},k.prototype.negate=function(){return this.isNaN()?this:new k(-this._hi,-this._lo)},k.prototype.clone=function(){},k.prototype.multiply=function(){if(arguments[0]instanceof k){var t=arguments[0];return t.isNaN()?k.createNaN():k.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return _.isNaN(e)?k.createNaN():k.copy(this).selfMultiply(e,0)}},k.prototype.isNaN=function(){return _.isNaN(this._hi)},k.prototype.intValue=function(){return Math.trunc(this._hi)},k.prototype.toString=function(){var t=k.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},k.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),r=e[0]+1,i=n;if("."===n.charAt(0))i="0"+n;else if(r<0)i="0."+k.stringOfChar("0",-r)+n;else if(-1===n.indexOf(".")){var o=r-n.length;i=n+k.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+i:i},k.prototype.reciprocal=function(){var t=null,e=null,n=null,r=null,i=null,o=null,s=null,a=null;e=(i=1/this._hi)-(t=(o=k.SPLIT*i)-(t=o-i)),n=(a=k.SPLIT*this._hi)-this._hi;var u=i+(o=(1-(s=i*this._hi)-(a=t*(n=a-n)-s+t*(r=this._hi-n)+e*n+e*r)-i*this._lo)/this._hi);return new k(u,i-u+o)},k.prototype.toSciNotation=function(){if(this.isZero())return k.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),r=k.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var i="";n.length>1&&(i=n.substring(1));var o=n.charAt(0)+"."+i;return this.isNegative()?"-"+o+r:o+r},k.prototype.abs=function(){return this.isNaN()?k.NaN:this.isNegative()?this.negate():new k(this)},k.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},k.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},k.prototype.add=function(){if(arguments[0]instanceof k){var t=arguments[0];return k.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return k.copy(this).selfAdd(e)}},k.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof k){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._hi=n,this._lo=r}},k.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},k.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},k.prototype.trunc=function(){return this.isNaN()?k.NaN:this.isPositive()?this.floor():this.ceil()},k.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},k.prototype.interfaces_=function(){return[e,x,w]},k.prototype.getClass=function(){return k},k.sqr=function(t){return k.valueOf(t).selfMultiply(t)},k.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return k.parse(t)}if("number"==typeof arguments[0])return new k(arguments[0])},k.sqrt=function(t){return k.valueOf(t).sqrt()},k.parse=function(t){for(var e=0,n=t.length;D.isWhitespace(t.charAt(e));)e++;var r=!1;if(e<n){var i=t.charAt(e);"-"!==i&&"+"!==i||(e++,"-"===i&&(r=!0))}for(var o=new k,s=0,a=0,u=0;!(e>=n);){var l=t.charAt(e);if(e++,D.isDigit(l)){var c=l-"0";o.selfMultiply(k.TEN),o.selfAdd(c),s++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=R.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var f=o,p=s-a-u;if(0===p)f=o;else if(p>0){var d=k.TEN.pow(p);f=o.divide(d)}else if(p<0){var y=k.TEN.pow(-p);f=o.multiply(y)}return r?f.negate():f},k.createNaN=function(){return new k(_.NaN,_.NaN)},k.copy=function(t){return new k(t)},k.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),r=Math.trunc(Math.floor(n));return 10*Math.pow(10,r)<=e&&(r+=1),r},k.stringOfChar=function(t,e){for(var n=new A,r=0;r<e;r++)n.append(t);return n.toString()},F.PI.get=function(){return new k(3.141592653589793,12246467991473532e-32)},F.TWO_PI.get=function(){return new k(6.283185307179586,24492935982947064e-32)},F.PI_2.get=function(){return new k(1.5707963267948966,6123233995736766e-32)},F.E.get=function(){return new k(2.718281828459045,14456468917292502e-32)},F.NaN.get=function(){return new k(_.NaN,_.NaN)},F.EPS.get=function(){return 123259516440783e-46},F.SPLIT.get=function(){return 134217729},F.MAX_PRINT_DIGITS.get=function(){return 32},F.TEN.get=function(){return k.valueOf(10)},F.ONE.get=function(){return k.valueOf(1)},F.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},F.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(k,F);var B=function(){},j={DP_SAFE_EPSILON:{configurable:!0}};B.prototype.interfaces_=function(){return[]},B.prototype.getClass=function(){return B},B.orientationIndex=function(t,e,n){var r=B.orientationIndexFilter(t,e,n);if(r<=1)return r;var i=k.valueOf(e.x).selfAdd(-t.x),o=k.valueOf(e.y).selfAdd(-t.y),s=k.valueOf(n.x).selfAdd(-e.x),a=k.valueOf(n.y).selfAdd(-e.y);return i.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},B.signOfDet2x2=function(t,e,n,r){return t.multiply(r).selfSubtract(e.multiply(n)).signum()},B.intersection=function(t,e,n,r){var i=k.valueOf(r.y).selfSubtract(n.y).selfMultiply(k.valueOf(e.x).selfSubtract(t.x)),o=k.valueOf(r.x).selfSubtract(n.x).selfMultiply(k.valueOf(e.y).selfSubtract(t.y)),s=i.subtract(o),a=k.valueOf(r.x).selfSubtract(n.x).selfMultiply(k.valueOf(t.y).selfSubtract(n.y)),u=k.valueOf(r.y).selfSubtract(n.y).selfMultiply(k.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u).selfDivide(s).doubleValue(),c=k.valueOf(t.x).selfAdd(k.valueOf(e.x).selfSubtract(t.x).selfMultiply(l)).doubleValue(),h=k.valueOf(e.x).selfSubtract(t.x).selfMultiply(k.valueOf(t.y).selfSubtract(n.y)),f=k.valueOf(e.y).selfSubtract(t.y).selfMultiply(k.valueOf(t.x).selfSubtract(n.x)),p=h.subtract(f).selfDivide(s).doubleValue(),d=k.valueOf(n.y).selfAdd(k.valueOf(r.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new S(c,d)},B.orientationIndexFilter=function(t,e,n){var r=null,i=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=i-o;if(i>0){if(o<=0)return B.signum(s);r=i+o}else{if(!(i<0))return B.signum(s);if(o>=0)return B.signum(s);r=-i-o}var a=B.DP_SAFE_EPSILON*r;return s>=a||-s>=a?B.signum(s):2},B.signum=function(t){return t>0?1:t<0?-1:0},j.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(B,j);var z=function(){},G={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};G.X.get=function(){return 0},G.Y.get=function(){return 1},G.Z.get=function(){return 2},G.M.get=function(){return 3},z.prototype.setOrdinate=function(t,e,n){},z.prototype.size=function(){},z.prototype.getOrdinate=function(t,e){},z.prototype.getCoordinate=function(){},z.prototype.getCoordinateCopy=function(t){},z.prototype.getDimension=function(){},z.prototype.getX=function(t){},z.prototype.clone=function(){},z.prototype.expandEnvelope=function(t){},z.prototype.copy=function(){},z.prototype.getY=function(t){},z.prototype.toCoordinateArray=function(){},z.prototype.interfaces_=function(){return[w]},z.prototype.getClass=function(){return z},Object.defineProperties(z,G);var q=function(){},U=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(q),V=function(){};V.arraycopy=function(t,e,n,r,i){for(var o=0,s=e;s<e+i;s++)n[r+o]=t[s],o++},V.getProperty=function(t){return{"line.separator":"\n"}[t]};var X=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this.x=n,this.y=r,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var i=arguments[0],o=arguments[1];this.x=i.y*o.w-o.y*i.w,this.y=o.x*i.w-i.x*o.w,this.w=i.x*o.y-o.x*i.y}else if(arguments[0]instanceof S&&arguments[1]instanceof S){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2];this.x=u,this.y=l,this.w=c}else if(4===arguments.length){var h=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3],y=h.y-f.y,g=f.x-h.x,m=h.x*f.y-f.x*h.y,v=p.y-d.y,_=d.x-p.x,b=p.x*d.y-d.x*p.y;this.x=g*b-_*m,this.y=v*m-y*b,this.w=y*_-v*g}};X.prototype.getY=function(){var t=this.y/this.w;if(_.isNaN(t)||_.isInfinite(t))throw new U;return t},X.prototype.getX=function(){var t=this.x/this.w;if(_.isNaN(t)||_.isInfinite(t))throw new U;return t},X.prototype.getCoordinate=function(){var t=new S;return t.x=this.getX(),t.y=this.getY(),t},X.prototype.interfaces_=function(){return[]},X.prototype.getClass=function(){return X},X.intersection=function(t,e,n,r){var i=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-r.y,u=r.x-n.x,l=n.x*r.y-r.x*n.y,c=i*u-a*o,h=(o*l-u*s)/c,f=(a*s-i*l)/c;if(_.isNaN(h)||_.isInfinite(h)||_.isNaN(f)||_.isInfinite(f))throw new U;return new S(h,f)};var Y=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof S){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.init(r.x,i.x,r.y,i.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3];this.init(o,s,a,u)}},H={serialVersionUID:{configurable:!0}};Y.prototype.getArea=function(){return this.getWidth()*this.getHeight()},Y.prototype.equals=function(t){if(!(t instanceof Y))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},Y.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new Y;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,r=this._maxx<t._maxx?this._maxx:t._maxx,i=this._maxy<t._maxy?this._maxy:t._maxy;return new Y(e,r,n,i)},Y.prototype.isNull=function(){return this._maxx<this._minx},Y.prototype.getMaxX=function(){return this._maxx},Y.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof S){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof Y){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&r>=this._miny&&r<=this._maxy}},Y.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof Y){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof S){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||r>this._maxy||r<this._miny)}},Y.prototype.getMinY=function(){return this._miny},Y.prototype.getMinX=function(){return this._minx},Y.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof S){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof Y){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=r,this._maxy=r):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),r<this._miny&&(this._miny=r),r>this._maxy&&(this._maxy=r))}},Y.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},Y.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},Y.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},Y.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},Y.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},Y.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},Y.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},Y.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},Y.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},Y.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof Y){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof S){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.covers(n,r)}},Y.prototype.centre=function(){return this.isNull()?null:new S((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},Y.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof S){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof Y){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.init(n.x,r.x,n.y,r.y)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];i<o?(this._minx=i,this._maxx=o):(this._minx=o,this._maxx=i),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},Y.prototype.getMaxY=function(){return this._maxy},Y.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},Y.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+S.hashCode(this._minx))+S.hashCode(this._maxx))+S.hashCode(this._miny))+S.hashCode(this._maxy)},Y.prototype.interfaces_=function(){return[x,e]},Y.prototype.getClass=function(){return Y},Y.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(r.x,i.x),c=Math.max(r.x,i.x);return!(l>u||c<a||(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(r.y,i.y),c=Math.max(r.y,i.y),l>u||c<a))}},H.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(Y,H);var W={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},J=function(t){this.geometryFactory=t||new me};J.prototype.read=function(t){var e,n,r;t=t.replace(/[\n\r]/g," ");var i=W.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((i=W.emptyTypeStr.exec(t))[2]=void 0),i&&(n=i[1].toLowerCase(),r=i[2],Z[n]&&(e=Z[n].apply(this,[r]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},J.prototype.write=function(t){return this.extractGeometry(t)},J.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!K[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+K[e].apply(this,[t])+")"};var K={coordinate:function(t){return t.x+" "+t.y},point:function(t){return K.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+K.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(K.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,r=t._points._coordinates.length;n<r;++n)e.push(K.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+K.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+K.linestring.apply(this,[t._shell])+")");for(var n=0,r=t._holes.length;n<r;++n)e.push("("+K.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push("("+K.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,r=t._geometries.length;n<r;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Z={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(W.spaces);return this.geometryFactory.createPoint(new S(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(W.trimParens,"$1"),r.push(Z.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(r)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(W.spaces),r.push(new S(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(r)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),r=[],i=0,o=n.length;i<o;++i)e=n[i].trim().split(W.spaces),r.push(new S(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(r)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(W.parenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(W.trimParens,"$1"),r.push(Z.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(r)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,r,i,o=t.trim().split(W.parenComma),s=[],a=0,u=o.length;a<u;++a)e=o[a].replace(W.trimParens,"$1"),n=Z.linestring.apply(this,[e]),r=this.geometryFactory.createLinearRing(n._points),0===a?i=r:s.push(r);return this.geometryFactory.createPolygon(i,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(W.doubleParenComma),r=[],i=0,o=n.length;i<o;++i)e=n[i].replace(W.trimParens,"$1"),r.push(Z.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(r)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],r=0,i=e.length;r<i;++r)n.push(this.read(e[r]));return this.geometryFactory.createGeometryCollection(n)}},Q=function(t){this.parser=new J(t)};Q.prototype.write=function(t){return this.parser.write(t)},Q.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var $=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),tt=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}($),et=function(){};et.prototype.interfaces_=function(){return[]},et.prototype.getClass=function(){return et},et.shouldNeverReachHere=function(){if(0===arguments.length)et.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new tt("Should never reach here"+(null!==t?": "+t:""))}},et.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],et.isTrue(t,null);else if(2===arguments.length&&(e=arguments[1],!(t=arguments[0])))throw null===e?new tt:new tt(e)},et.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],et.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],n=arguments[2],!(e=arguments[1]).equals(t)))throw new tt("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var nt=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new S,this._intPt[1]=new S,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},rt={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nt.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},nt.prototype.getTopologySummary=function(){var t=new A;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},nt.prototype.computeIntersection=function(t,e,n,r){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=r,this._result=this.computeIntersect(t,e,n,r)},nt.prototype.getIntersectionNum=function(){return this._result},nt.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},nt.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nt.prototype.setPrecisionModel=function(t){this._precisionModel=t},nt.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},nt.prototype.getIntersection=function(t){return this._intPt[t]},nt.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nt.prototype.hasIntersection=function(){return this._result!==nt.NO_INTERSECTION},nt.prototype.getEdgeDistance=function(t,e){return nt.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},nt.prototype.isCollinear=function(){return this._result===nt.COLLINEAR_INTERSECTION},nt.prototype.toString=function(){return Q.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Q.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nt.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},nt.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},nt.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},nt.prototype.interfaces_=function(){return[]},nt.prototype.getClass=function(){return nt},nt.computeEdgeDistance=function(t,e,n){var r=Math.abs(n.x-e.x),i=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=r>i?r:i;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=r>i?s:a)||t.equals(e)||(o=Math.max(s,a))}return et.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},nt.nonRobustComputeEdgeDistance=function(t,e,n){var r=t.x-e.x,i=t.y-e.y,o=Math.sqrt(r*r+i*i);return et.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},rt.DONT_INTERSECT.get=function(){return 0},rt.DO_INTERSECT.get=function(){return 1},rt.COLLINEAR.get=function(){return 2},rt.NO_INTERSECTION.get=function(){return 0},rt.POINT_INTERSECTION.get=function(){return 1},rt.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nt,rt);var it=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new Y(this._inputLines[0][0],this._inputLines[0][1]),n=new Y(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],r=arguments[2];if(this._isProper=!1,Y.intersects(n,r,e)&&0===at.orientationIndex(n,r,e)&&0===at.orientationIndex(r,n,e))return this._isProper=!0,(e.equals(n)||e.equals(r))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,r,i){i.x=this.smallestInAbsValue(t.x,e.x,n.x,r.x),i.y=this.smallestInAbsValue(t.y,e.y,n.y,r.y),t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.safeHCoordinateIntersection=function(t,n,r,i){var o=null;try{o=X.intersection(t,n,r,i)}catch(s){if(!(s instanceof U))throw s;o=e.nearestEndpoint(t,n,r,i)}return o},e.prototype.intersection=function(t,n,r,i){var o=this.intersectionWithNormalization(t,n,r,i);return this.isInSegmentEnvelopes(o)||(o=new S(e.nearestEndpoint(t,n,r,i))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,r){var i=t,o=Math.abs(i);return Math.abs(e)<o&&(i=e,o=Math.abs(e)),Math.abs(n)<o&&(i=n,o=Math.abs(n)),Math.abs(r)<o&&(i=r),i},e.prototype.checkDD=function(t,e,n,r,i){var o=B.intersection(t,e,n,r),s=this.isInSegmentEnvelopes(o);V.out.println("DD in env = "+s+"  --------------------- "+o),i.distance(o)>1e-4&&V.out.println("Distance = "+i.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,r){var i=new S(t),o=new S(e),s=new S(n),a=new S(r),u=new S;this.normalizeToEnvCentre(i,o,s,a,u);var l=this.safeHCoordinateIntersection(i,o,s,a);return l.x+=u.x,l.y+=u.y,l},e.prototype.computeCollinearIntersection=function(e,n,r,i){var o=Y.intersects(e,n,r),s=Y.intersects(e,n,i),a=Y.intersects(r,i,e),u=Y.intersects(r,i,n);return o&&s?(this._intPt[0]=r,this._intPt[1]=i,t.COLLINEAR_INTERSECTION):a&&u?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||s||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&u?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||o||u?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&u?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,r,i){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<r.x?n.x:r.x,c=n.y<r.y?n.y:r.y,h=n.x>r.x?n.x:r.x,f=n.y>r.y?n.y:r.y,p=((o>l?o:l)+(a<h?a:h))/2,d=((s>c?s:c)+(u<f?u:f))/2;i.x=p,i.y=d,t.x-=i.x,t.y-=i.y,e.x-=i.x,e.y-=i.y,n.x-=i.x,n.y-=i.y,r.x-=i.x,r.y-=i.y},e.prototype.computeIntersect=function(e,n,r,i){if(this._isProper=!1,!Y.intersects(e,n,r,i))return t.NO_INTERSECTION;var o=at.orientationIndex(e,n,r),s=at.orientationIndex(e,n,i);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=at.orientationIndex(r,i,e),u=at.orientationIndex(r,i,n);return a>0&&u>0||a<0&&u<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===u?this.computeCollinearIntersection(e,n,r,i):(0===o||0===s||0===a||0===u?(this._isProper=!1,e.equals2D(r)||e.equals2D(i)?this._intPt[0]=e:n.equals2D(r)||n.equals2D(i)?this._intPt[0]=n:0===o?this._intPt[0]=new S(r):0===s?this._intPt[0]=new S(i):0===a?this._intPt[0]=new S(e):0===u&&(this._intPt[0]=new S(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,r,i)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,r){var i=t,o=at.distancePointLine(t,n,r),s=at.distancePointLine(e,n,r);return s<o&&(o=s,i=e),(s=at.distancePointLine(n,t,e))<o&&(o=s,i=n),(s=at.distancePointLine(r,t,e))<o&&(o=s,i=r),i},e}(nt),ot=function(){};ot.prototype.interfaces_=function(){return[]},ot.prototype.getClass=function(){return ot},ot.orientationIndex=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ot.signOfDet2x2(r,i,o,s)},ot.signOfDet2x2=function(t,e,n,r){var i=null,o=null,s=null;if(i=1,0===t||0===r)return 0===e||0===n?0:e>0?n>0?-i:i:n>0?i:-i;if(0===e||0===n)return r>0?t>0?i:-i:t>0?-i:i;if(e>0?r>0?e<=r||(i=-i,o=t,t=n,n=o,o=e,e=r,r=o):e<=-r?(i=-i,n=-n,r=-r):(o=t,t=-n,n=o,o=e,e=-r,r=o):r>0?-e<=r?(i=-i,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=r,r=o):e>=r?(t=-t,e=-e,n=-n,r=-r):(i=-i,o=-t,t=-n,n=o,o=-e,e=-r,r=o),t>0){if(!(n>0))return i;if(!(t<=n))return i}else{if(n>0)return-i;if(!(t>=n))return-i;i=-i,t=-t,n=-n}for(;;){if((r-=(s=Math.floor(n/t))*e)<0)return-i;if(r>e)return i;if(t>(n-=s*t)+n){if(e<r+r)return i}else{if(e>r+r)return-i;n=t-n,r=e-r,i=-i}if(0===r)return 0===n?0:-i;if(0===n)return i;if((e-=(s=Math.floor(t/n))*r)<0)return i;if(e>r)return-i;if(n>(t-=s*n)+t){if(r<e+e)return-i}else{if(r>e+e)return i;t=n-t,e=r-e,i=-i}if(0===e)return 0===t?0:i;if(0===t)return-i}};var st=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};st.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,r=e.x;return n>r&&(n=e.x,r=t.x),this._p.x>=n&&this._p.x<=r&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var i=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,u=ot.signOfDet2x2(i,o,s,a);if(0===u)return this._isPointOnSegment=!0,null;a<o&&(u=-u),u>0&&this._crossingCount++}},st.prototype.isPointInPolygon=function(){return this.getLocation()!==M.EXTERIOR},st.prototype.getLocation=function(){return this._isPointOnSegment?M.BOUNDARY:this._crossingCount%2==1?M.INTERIOR:M.EXTERIOR},st.prototype.isOnSegment=function(){return this._isPointOnSegment},st.prototype.interfaces_=function(){return[]},st.prototype.getClass=function(){return st},st.locatePointInRing=function(){if(arguments[0]instanceof S&&T(arguments[1],z)){for(var t=arguments[1],e=new st(arguments[0]),n=new S,r=new S,i=1;i<t.size();i++)if(t.getCoordinate(i,n),t.getCoordinate(i-1,r),e.countSegment(n,r),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof S&&arguments[1]instanceof Array){for(var o=arguments[1],s=new st(arguments[0]),a=1;a<o.length;a++){var u=o[a],l=o[a-1];if(s.countSegment(u,l),s.isOnSegment())return s.getLocation()}return s.getLocation()}};var at=function(){},ut={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};at.prototype.interfaces_=function(){return[]},at.prototype.getClass=function(){return at},at.orientationIndex=function(t,e,n){return B.orientationIndex(t,e,n)},at.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,r=1;r<t.length-1;r++){var i=t[r].x-n,o=t[r+1].y;e+=i*(t[r-1].y-o)}return e/2}if(T(arguments[0],z)){var s=arguments[0],a=s.size();if(a<3)return 0;var u=new S,l=new S,c=new S;s.getCoordinate(0,l),s.getCoordinate(1,c);var h=l.x;c.x-=h;for(var f=0,p=1;p<a-1;p++)u.y=l.y,l.x=c.x,l.y=c.y,s.getCoordinate(p+1,c),c.x-=h,f+=l.x*(u.y-c.y);return f/2}},at.distanceLineLine=function(t,e,n,r){if(t.equals(e))return at.distancePointLine(t,n,r);if(n.equals(r))return at.distancePointLine(r,t,e);var i=!1;if(Y.intersects(t,e,n,r)){var o=(e.x-t.x)*(r.y-n.y)-(e.y-t.y)*(r.x-n.x);if(0===o)i=!0;else{var s=(t.y-n.y)*(r.x-n.x)-(t.x-n.x)*(r.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,u=s/o;(u<0||u>1||a<0||a>1)&&(i=!0)}}else i=!0;return i?L.min(at.distancePointLine(t,n,r),at.distancePointLine(e,n,r),at.distancePointLine(n,t,e),at.distancePointLine(r,t,e)):0},at.isPointInRing=function(t,e){return at.locatePointInRing(t,e)!==M.EXTERIOR},at.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,r=new S;t.getCoordinate(0,r);for(var i=r.x,o=r.y,s=1;s<e;s++){t.getCoordinate(s,r);var a=r.x,u=r.y,l=a-i,c=u-o;n+=Math.sqrt(l*l+c*c),i=a,o=u}return n},at.isCCW=function(t){var e=t.length-1;if(e<3)throw new v("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,i=1;i<=e;i++){var o=t[i];o.y>n.y&&(n=o,r=i)}var s=r;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==r);var a=r;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==r);var u=t[s],l=t[a];if(u.equals2D(n)||l.equals2D(n)||u.equals2D(l))return!1;var c=at.computeOrientation(u,n,l);return 0===c?u.x>l.x:c>0},at.locatePointInRing=function(t,e){return st.locatePointInRing(t,e)},at.distancePointLinePerpendicular=function(t,e,n){var r=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),i=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/r;return Math.abs(i)*Math.sqrt(r)},at.computeOrientation=function(t,e,n){return at.orientationIndex(t,e,n)},at.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new v("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var i=at.distancePointLine(t,e[r],e[r+1]);i<n&&(n=i)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var u=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),l=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/u;if(l<=0)return o.distance(s);if(l>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/u;return Math.abs(c)*Math.sqrt(u)}},at.isOnLine=function(t,e){for(var n=new it,r=1;r<e.length;r++){var i=e[r-1],o=e[r];if(n.computeIntersection(t,i,o),n.hasIntersection())return!0}return!1},ut.CLOCKWISE.get=function(){return-1},ut.RIGHT.get=function(){return at.CLOCKWISE},ut.COUNTERCLOCKWISE.get=function(){return 1},ut.LEFT.get=function(){return at.COUNTERCLOCKWISE},ut.COLLINEAR.get=function(){return 0},ut.STRAIGHT.get=function(){return at.COLLINEAR},Object.defineProperties(at,ut);var lt=function(){};lt.prototype.filter=function(t){},lt.prototype.interfaces_=function(){return[]},lt.prototype.getClass=function(){return lt};var ct=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ht={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};ct.prototype.isGeometryCollection=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION},ct.prototype.getFactory=function(){return this._factory},ct.prototype.getGeometryN=function(t){return this},ct.prototype.getArea=function(){return 0},ct.prototype.isRectangle=function(){return!1},ct.prototype.equals=function(){if(arguments[0]instanceof ct){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof ct))return!1;var n=e;return this.equalsExact(n)}},ct.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},ct.prototype.geometryChanged=function(){this.apply(ct.geometryChangedFilter)},ct.prototype.geometryChangedAction=function(){this._envelope=null},ct.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},ct.prototype.getLength=function(){return 0},ct.prototype.getNumGeometries=function(){return 1},ct.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],r=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,r)}},ct.prototype.getUserData=function(){return this._userData},ct.prototype.getSRID=function(){return this._SRID},ct.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},ct.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION)throw new v("This method does not support GeometryCollection arguments")},ct.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},ct.prototype.norm=function(){var t=this.copy();return t.normalize(),t},ct.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},ct.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new Y(this._envelope)},ct.prototype.setSRID=function(t){this._SRID=t},ct.prototype.setUserData=function(t){this._userData=t},ct.prototype.compare=function(t,e){for(var n=t.iterator(),r=e.iterator();n.hasNext()&&r.hasNext();){var i=n.next(),o=r.next(),s=i.compareTo(o);if(0!==s)return s}return n.hasNext()?1:r.hasNext()?-1:0},ct.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},ct.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===ct.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===ct.SORTINDEX_MULTIPOINT||this.getSortIndex()===ct.SORTINDEX_MULTILINESTRING||this.getSortIndex()===ct.SORTINDEX_MULTIPOLYGON},ct.prototype.interfaces_=function(){return[w,x,e]},ct.prototype.getClass=function(){return ct},ct.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},ct.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},ht.serialVersionUID.get=function(){return 0x799ea46522854c00},ht.SORTINDEX_POINT.get=function(){return 0},ht.SORTINDEX_MULTIPOINT.get=function(){return 1},ht.SORTINDEX_LINESTRING.get=function(){return 2},ht.SORTINDEX_LINEARRING.get=function(){return 3},ht.SORTINDEX_MULTILINESTRING.get=function(){return 4},ht.SORTINDEX_POLYGON.get=function(){return 5},ht.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ht.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ht.geometryChangedFilter.get=function(){return ft},Object.defineProperties(ct,ht);var ft=function(){};ft.interfaces_=function(){return[lt]},ft.filter=function(t){t.geometryChangedAction()};var pt=function(){};pt.prototype.filter=function(t){},pt.prototype.interfaces_=function(){return[]},pt.prototype.getClass=function(){return pt};var dt=function(){},yt={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};dt.prototype.isInBoundary=function(t){},dt.prototype.interfaces_=function(){return[]},dt.prototype.getClass=function(){return dt},yt.Mod2BoundaryNodeRule.get=function(){return gt},yt.EndPointBoundaryNodeRule.get=function(){return mt},yt.MultiValentEndPointBoundaryNodeRule.get=function(){return vt},yt.MonoValentEndPointBoundaryNodeRule.get=function(){return _t},yt.MOD2_BOUNDARY_RULE.get=function(){return new gt},yt.ENDPOINT_BOUNDARY_RULE.get=function(){return new mt},yt.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new vt},yt.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new _t},yt.OGC_SFS_BOUNDARY_RULE.get=function(){return dt.MOD2_BOUNDARY_RULE},Object.defineProperties(dt,yt);var gt=function(){};gt.prototype.isInBoundary=function(t){return t%2==1},gt.prototype.interfaces_=function(){return[dt]},gt.prototype.getClass=function(){return gt};var mt=function(){};mt.prototype.isInBoundary=function(t){return t>0},mt.prototype.interfaces_=function(){return[dt]},mt.prototype.getClass=function(){return mt};var vt=function(){};vt.prototype.isInBoundary=function(t){return t>1},vt.prototype.interfaces_=function(){return[dt]},vt.prototype.getClass=function(){return vt};var _t=function(){};_t.prototype.isInBoundary=function(t){return 1===t},_t.prototype.interfaces_=function(){return[dt]},_t.prototype.getClass=function(){return _t};var bt=function(){};bt.prototype.add=function(){},bt.prototype.addAll=function(){},bt.prototype.isEmpty=function(){},bt.prototype.iterator=function(){},bt.prototype.size=function(){},bt.prototype.toArray=function(){},bt.prototype.remove=function(){},(n.prototype=new Error).name="IndexOutOfBoundsException";var xt=function(){};xt.prototype.hasNext=function(){},xt.prototype.next=function(){},xt.prototype.remove=function(){};var wt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(bt);(r.prototype=new Error).name="NoSuchElementException";var Et=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,bt]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new St(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new n;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,r=this.array_.length;n<r;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(wt),St=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new r;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(xt),Pt=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.ensureCapacity(n.length),this.add(n,r)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[1],n=!1,r=arguments[0].iterator();r.hasNext();)this.add(r.next(),e),n=!0;return n}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],r=arguments[1];return this.add(n,r,!0),!0}if(arguments[0]instanceof S&&"boolean"==typeof arguments[1]){var i=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(i))return null;t.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],u=arguments[1];if(arguments[2])for(var l=0;l<a.length;l++)this.add(a[l],u);else for(var c=a.length-1;c>=0;c--)this.add(a[c],u);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof S){var h=arguments[0],f=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(h>0&&this.get(h-1).equals2D(f))return null;if(h<p&&this.get(h).equals2D(f))return null}}t.prototype.add.call(this,h,f)}}else if(4===arguments.length){var d=arguments[0],y=arguments[1],g=arguments[2],m=arguments[3],v=1;g>m&&(v=-1);for(var _=g;_!==m;_+=v)this.add(d[_],y);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new S(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(Et),Ct=function(){},It={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};It.ForwardComparator.get=function(){return Mt},It.BidirectionalComparator.get=function(){return Ot},It.coordArrayType.get=function(){return new Array(0).fill(null)},Ct.prototype.interfaces_=function(){return[]},Ct.prototype.getClass=function(){return Ct},Ct.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},Ct.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(Ct.indexOf(r,e)<0)return r}return null},Ct.scroll=function(t,e){var n=Ct.indexOf(e,t);if(n<0)return null;var r=new Array(t.length).fill(null);V.arraycopy(t,n,r,0,t.length-n),V.arraycopy(t,0,r,t.length-n,n),V.arraycopy(r,0,t,0,t.length)},Ct.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];if(r===i)return!0;if(null===r||null===i)return!1;if(r.length!==i.length)return!1;for(var s=0;s<r.length;s++)if(0!==o.compare(r[s],i[s]))return!1;return!0}},Ct.intersection=function(t,e){for(var n=new Pt,r=0;r<t.length;r++)e.intersects(t[r])&&n.add(t[r],!0);return n.toCoordinateArray()},Ct.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},Ct.removeRepeatedPoints=function(t){return Ct.hasRepeatedPoints(t)?new Pt(t,!1).toCoordinateArray():t},Ct.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),r=0;r<=n;r++){var i=t[r];t[r]=t[e-r],t[e-r]=i}},Ct.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var r=new Array(e).fill(null);if(0===e)return r;for(var i=0,o=0;o<t.length;o++)null!==t[o]&&(r[i++]=t[o]);return r},Ct.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new S(t[n]);return e}if(5===arguments.length)for(var r=arguments[0],i=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],u=0;u<a;u++)o[s+u]=new S(r[i+u])},Ct.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=e[t.length-n-1];if(0!==r.compareTo(i))return!1}return!0},Ct.envelope=function(t){for(var e=new Y,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},Ct.toCoordinateArray=function(t){return t.toArray(Ct.coordArrayType)},Ct.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},Ct.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},Ct.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,r=t[e].compareTo(t[n]);if(0!==r)return r}return 1},Ct.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var r=t[n].compareTo(e[n]);if(0!==r)return r;n++}return n<e.length?-1:n<t.length?1:0},Ct.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},Ct.extract=function(t,e,n){e=L.clamp(e,0,t.length);var r=(n=L.clamp(n,-1,t.length))-e+1;n<0&&(r=0),e>=t.length&&(r=0),n<e&&(r=0);var i=new Array(r).fill(null);if(0===r)return i;for(var o=0,s=e;s<=n;s++)i[o++]=t[s];return i},Object.defineProperties(Ct,It);var Mt=function(){};Mt.prototype.compare=function(t,e){return Ct.compare(t,e)},Mt.prototype.interfaces_=function(){return[E]},Mt.prototype.getClass=function(){return Mt};var Ot=function(){};Ot.prototype.compare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;var i=Ct.compare(n,r);return Ct.isEqualReversed(n,r)?0:i},Ot.prototype.OLDcompare=function(t,e){var n=t,r=e;if(n.length<r.length)return-1;if(n.length>r.length)return 1;if(0===n.length)return 0;for(var i=Ct.increasingDirection(n),o=Ct.increasingDirection(r),s=i>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(r[a]);if(0!==l)return l;s+=i,a+=o}return 0},Ot.prototype.interfaces_=function(){return[E]},Ot.prototype.getClass=function(){return Ot};var Tt=function(){};Tt.prototype.get=function(){},Tt.prototype.put=function(){},Tt.prototype.size=function(){},Tt.prototype.values=function(){},Tt.prototype.entrySet=function(){};var Lt=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Tt);(i.prototype=new Error).name="OperationNotSupported",(o.prototype=new bt).contains=function(){};var Nt=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof bt&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new At(this)},e}(o),At=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new r;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new i},e}(xt),Rt=0;(h.prototype=new Lt).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},h.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:Rt,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,r,i=this.root_;do{if(n=i,(r=t.compareTo(i.key))<0)i=i.left;else{if(!(r>0)){var o=i.value;return i.value=e,o}i=i.right}}while(null!==i);var s={key:t,left:null,right:null,value:e,parent:n,color:Rt,getValue:function(){return this.value},getKey:function(){return this.key}};return r<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},h.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(a(t)===l(a(a(t)))){var e=c(a(a(t)));1===s(e)?(u(a(t),Rt),u(e,Rt),u(a(a(t)),1),t=a(a(t))):(t===c(a(t))&&(t=a(t),this.rotateLeft(t)),u(a(t),Rt),u(a(a(t)),1),this.rotateRight(a(a(t))))}else{var n=l(a(a(t)));1===s(n)?(u(a(t),Rt),u(n,Rt),u(a(a(t)),1),t=a(a(t))):(t===l(a(t))&&(t=a(t),this.rotateRight(t)),u(a(t),Rt),u(a(a(t)),1),this.rotateLeft(a(a(t))))}this.root_.color=Rt},h.prototype.values=function(){var t=new Et,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=h.successor(e));)t.add(e.value);return t},h.prototype.entrySet=function(){var t=new Nt,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=h.successor(e));)t.add(e);return t},h.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},h.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},h.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},h.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,r=t;null!==n&&r===n.right;)r=n,n=n.parent;return n},h.prototype.size=function(){return this.size_};var Dt=function(){};Dt.prototype.interfaces_=function(){return[]},Dt.prototype.getClass=function(){return Dt},f.prototype=new o,(p.prototype=new f).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},p.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},p.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},p.prototype.remove=function(t){throw new i},p.prototype.size=function(){return this.array_.length},p.prototype.isEmpty=function(){return 0===this.array_.length},p.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},p.prototype.iterator=function(){return new kt(this)};var kt=function(t){this.treeSet_=t,this.position_=0};kt.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new r;return this.treeSet_.array_[this.position_++]},kt.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},kt.prototype.remove=function(){throw new i};var Ft=function(){};Ft.sort=function(){var t,e,n,r,i=arguments[0];if(1===arguments.length)r=function(t,e){return t.compareTo(e)},i.sort(r);else if(2===arguments.length)n=arguments[1],r=function(t,e){return n.compare(t,e)},i.sort(r);else if(3===arguments.length){(e=i.slice(arguments[1],arguments[2])).sort();var o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length));for(i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])}else if(4===arguments.length)for(e=i.slice(arguments[1],arguments[2]),n=arguments[3],r=function(t,e){return n.compare(t,e)},e.sort(r),o=i.slice(0,arguments[1]).concat(e,i.slice(arguments[2],i.length)),i.splice(0,i.length),t=0;t<o.length;t++)i.push(o[t])},Ft.asList=function(t){for(var e=new Et,n=0,r=t.length;n<r;n++)e.add(t[n]);return e};var Bt=function(){},jt={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};jt.P.get=function(){return 0},jt.L.get=function(){return 1},jt.A.get=function(){return 2},jt.FALSE.get=function(){return-1},jt.TRUE.get=function(){return-2},jt.DONTCARE.get=function(){return-3},jt.SYM_FALSE.get=function(){return"F"},jt.SYM_TRUE.get=function(){return"T"},jt.SYM_DONTCARE.get=function(){return"*"},jt.SYM_P.get=function(){return"0"},jt.SYM_L.get=function(){return"1"},jt.SYM_A.get=function(){return"2"},Bt.prototype.interfaces_=function(){return[]},Bt.prototype.getClass=function(){return Bt},Bt.toDimensionSymbol=function(t){switch(t){case Bt.FALSE:return Bt.SYM_FALSE;case Bt.TRUE:return Bt.SYM_TRUE;case Bt.DONTCARE:return Bt.SYM_DONTCARE;case Bt.P:return Bt.SYM_P;case Bt.L:return Bt.SYM_L;case Bt.A:return Bt.SYM_A}throw new v("Unknown dimension value: "+t)},Bt.toDimensionValue=function(t){switch(D.toUpperCase(t)){case Bt.SYM_FALSE:return Bt.FALSE;case Bt.SYM_TRUE:return Bt.TRUE;case Bt.SYM_DONTCARE:return Bt.DONTCARE;case Bt.SYM_P:return Bt.P;case Bt.SYM_L:return Bt.L;case Bt.SYM_A:return Bt.A}throw new v("Unknown dimension symbol: "+t)},Object.defineProperties(Bt,jt);var zt=function(){};zt.prototype.filter=function(t){},zt.prototype.interfaces_=function(){return[]},zt.prototype.getClass=function(){return zt};var Gt=function(){};Gt.prototype.filter=function(t,e){},Gt.prototype.isDone=function(){},Gt.prototype.isGeometryChanged=function(){},Gt.prototype.interfaces_=function(){return[]},Gt.prototype.getClass=function(){return Gt};var qt=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new v("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new Y,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var r=this._geometries[n].getCoordinates(),i=0;i<r.length;i++)t[++e]=r[i];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._geometries.length!==r._geometries.length)return!1;for(var i=0;i<this._geometries.length;i++)if(!this._geometries[i].equalsExact(r._geometries[i],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();Ft.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=Bt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=Bt.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new p(Ft.asList(this._geometries)),n=new p(Ft.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var r=arguments[1],i=arguments[0],o=this.getNumGeometries(),s=i.getNumGeometries(),a=0;a<o&&a<s;){var u=this.getGeometryN(a),l=i.getGeometryN(a),c=u.compareToSameClass(l,r);if(0!==c)return c;a++}return a<o?1:a<s?-1:0}},e.prototype.apply=function(){if(T(arguments[0],pt))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(T(arguments[0],Gt)){var n=arguments[0];if(0===this._geometries.length)return null;for(var r=0;r<this._geometries.length&&(this._geometries[r].apply(n),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else if(T(arguments[0],zt)){var i=arguments[0];i.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(i)}else if(T(arguments[0],lt)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),et.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(ct),Ut=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Bt.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Vt(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Dt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(qt),Vt=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=dt.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=r}};Vt.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Vt.prototype.getBoundary=function(){return this._geom instanceof Jt?this.boundaryLineString(this._geom):this._geom instanceof Ut?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Vt.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Vt.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Vt.prototype.computeBoundaryCoordinates=function(t){var e=new Et;this._endpointMap=new h;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);0!==r.getNumPoints()&&(this.addEndpoint(r.getCoordinateN(0)),this.addEndpoint(r.getCoordinateN(r.getNumPoints()-1)))}for(var i=this._endpointMap.entrySet().iterator();i.hasNext();){var o=i.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return Ct.toCoordinateArray(e)},Vt.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Xt,this._endpointMap.put(t,e)),e.count++},Vt.prototype.interfaces_=function(){return[]},Vt.prototype.getClass=function(){return Vt},Vt.getBoundary=function(){return 1===arguments.length?new Vt(arguments[0]).getBoundary():2===arguments.length?new Vt(arguments[0],arguments[1]).getBoundary():void 0};var Xt=function(){this.count=null};Xt.prototype.interfaces_=function(){return[]},Xt.prototype.getClass=function(){return Xt};var Yt=function(){},Ht={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Yt.prototype.interfaces_=function(){return[]},Yt.prototype.getClass=function(){return Yt},Yt.chars=function(t,e){for(var n=new Array(e).fill(null),r=0;r<e;r++)n[r]=t;return String(n)},Yt.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var r=arguments[0],i=arguments[1],o="",s=new function(){}(new function(){}(Yt.getStackTrace(r))),a=0;a<i;a++)try{o+=s.readLine()+Yt.NEWLINE}catch(t){if(!(t instanceof d))throw t;et.shouldNeverReachHere()}return o}},Yt.split=function(t,e){for(var n=e.length,r=new Et,i=""+t,o=i.indexOf(e);o>=0;){var s=i.substring(0,o);r.add(s),o=(i=i.substring(o+n)).indexOf(e)}i.length>0&&r.add(i);for(var a=new Array(r.size()).fill(null),u=0;u<a.length;u++)a[u]=r.get(u);return a},Yt.toString=function(){if(1===arguments.length){var t=arguments[0];return Yt.SIMPLE_ORDINATE_FORMAT.format(t)}},Yt.spaces=function(t){return Yt.chars(" ",t)},Ht.NEWLINE.get=function(){return V.getProperty("line.separator")},Ht.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Yt,Ht);var Wt=function(){};Wt.prototype.interfaces_=function(){return[]},Wt.prototype.getClass=function(){return Wt},Wt.copyCoord=function(t,e,n,r){for(var i=Math.min(t.getDimension(),n.getDimension()),o=0;o<i;o++)n.setOrdinate(r,o,t.getOrdinate(e,o))},Wt.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,z.X)===t.getOrdinate(e-1,z.X)&&t.getOrdinate(0,z.Y)===t.getOrdinate(e-1,z.Y)},Wt.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var r=Math.min(t.getDimension(),e.getDimension()),i=0;i<n;i++)for(var o=0;o<r;o++){var s=t.getOrdinate(i,o),a=e.getOrdinate(i,o);if(!(t.getOrdinate(i,o)===e.getOrdinate(i,o)||_.isNaN(s)&&_.isNaN(a)))return!1}return!0},Wt.extend=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();if(Wt.copy(e,0,r,0,i),i>0)for(var o=i;o<n;o++)Wt.copy(e,i-1,r,o,1);return r},Wt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),r=0;r<=n;r++)Wt.swap(t,r,e-r)},Wt.swap=function(t,e,n){if(e===n)return null;for(var r=0;r<t.getDimension();r++){var i=t.getOrdinate(e,r);t.setOrdinate(e,r,t.getOrdinate(n,r)),t.setOrdinate(n,r,i)}},Wt.copy=function(t,e,n,r,i){for(var o=0;o<i;o++)Wt.copyCoord(t,e+o,n,r+o)},Wt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),r=new A;r.append("(");for(var i=0;i<e;i++){i>0&&r.append(" ");for(var o=0;o<n;o++)o>0&&r.append(","),r.append(Yt.toString(t.getOrdinate(i,o)))}return r.append(")"),r.toString()}},Wt.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Wt.createClosedRing(t,e,4):e.getOrdinate(0,z.X)===e.getOrdinate(n-1,z.X)&&e.getOrdinate(0,z.Y)===e.getOrdinate(n-1,z.Y)?e:Wt.createClosedRing(t,e,n+1)},Wt.createClosedRing=function(t,e,n){var r=t.create(n,e.getDimension()),i=e.size();Wt.copy(e,0,r,0,i);for(var o=i;o<n;o++)Wt.copy(e,0,r,o,1);return r};var Jt=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new Y:this._points.expandEnvelope(new Y)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e;if(this._points.size()!==r._points.size())return!1;for(var i=0;i<this._points.size();i++)if(!this.equal(this._points.getCoordinate(i),r._points.getCoordinate(i),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Wt.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?Bt.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return at.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Wt.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var r=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==r)return r;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var i=arguments[0];return arguments[1].compare(this._points,i._points)}},e.prototype.apply=function(){if(T(arguments[0],pt))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(T(arguments[0],Gt)){var n=arguments[0];if(0===this._points.size())return null;for(var r=0;r<this._points.size()&&(n.filter(this._points,r),!n.isDone());r++);n.isGeometryChanged()&&this.geometryChanged()}else(T(arguments[0],zt)||T(arguments[0],lt))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Vt(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new v("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[Dt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(ct),Kt=function(){};Kt.prototype.interfaces_=function(){return[]},Kt.prototype.getClass=function(){return Kt};var Zt=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new Y;var t=new Y;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return Bt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(T(arguments[0],pt)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(T(arguments[0],Gt)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else(T(arguments[0],zt)||T(arguments[0],lt))&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),et.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Kt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(ct),Qt=function(){};Qt.prototype.interfaces_=function(){return[]},Qt.prototype.getClass=function(){return Qt};var $t=function(t){function e(e,n,r){if(t.call(this,r),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new v("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new v("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),r=0;r<n.length;r++)t[++e]=n[r];for(var i=0;i<this._holes.length;i++)for(var o=this._holes[i].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(at.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(at.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var r=t.getX(n);if(r!==e.getMinX()&&r!==e.getMaxX())return!1;var i=t.getY(n);if(i!==e.getMinY()&&i!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var u=t.getX(a),l=t.getY(a);if(u!==o==(l!==s))return!1;o=u,s=l}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var r=e,i=this._shell,o=r._shell;if(!i.equalsExact(o,n))return!1;if(this._holes.length!==r._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(r._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);Ft.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var r=new Array(e.getCoordinates().length-1).fill(null);V.arraycopy(e.getCoordinates(),0,r,0,r.length);var i=Ct.minCoordinate(e.getCoordinates());Ct.scroll(r,i),V.arraycopy(r,0,e.getCoordinates(),0,r.length),e.getCoordinates()[r.length]=r[0],at.isCCW(e.getCoordinates())===n&&Ct.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var r=arguments[1],i=arguments[0],o=this._shell,s=i._shell,a=o.compareToSameClass(s,r);if(0!==a)return a;for(var u=this.getNumInteriorRing(),l=i.getNumInteriorRing(),c=0;c<u&&c<l;){var h=this.getInteriorRingN(c),f=i.getInteriorRingN(c),p=h.compareToSameClass(f,r);if(0!==p)return p;c++}return c<u?1:c<l?-1:0}},e.prototype.apply=function(t){if(T(t,pt)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(T(t,Gt)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(T(t,zt))t.filter(this);else if(T(t,lt)){t.filter(this),this._shell.apply(t);for(var r=0;r<this._holes.length;r++)this._holes[r].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),r=0;r<n.length;r++)n[r]=this._holes[r].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Qt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(ct),te=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return Bt.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Kt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(qt),ee=function(t){function e(e,n){e instanceof S&&n instanceof me&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return Bt.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Wt.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new v("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new v("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Jt),ne=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return ct.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new Et,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),r=0;r<n.getNumGeometries();r++)t.add(n.getGeometryN(r));var i=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(i))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Qt]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(qt),re=function(t){this._factory=t||null,this._isUserDataCopied=!1},ie={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};re.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},re.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},re.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof qt?this.editGeometryCollection(t,e):t instanceof $t?this.editPolygon(t,e):t instanceof Zt||t instanceof Jt?e.edit(t,this._factory):(et.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},re.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),r=new Et,i=0;i<n.getNumGeometries();i++){var o=this.edit(n.getGeometryN(i),e);null===o||o.isEmpty()||r.add(o)}return n.getClass()===te?this._factory.createMultiPoint(r.toArray([])):n.getClass()===Ut?this._factory.createMultiLineString(r.toArray([])):n.getClass()===ne?this._factory.createMultiPolygon(r.toArray([])):this._factory.createGeometryCollection(r.toArray([]))},re.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var r=this.edit(n.getExteriorRing(),e);if(null===r||r.isEmpty())return this._factory.createPolygon();for(var i=new Et,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||i.add(s)}return this._factory.createPolygon(r,i.toArray([]))},re.prototype.interfaces_=function(){return[]},re.prototype.getClass=function(){return re},re.GeometryEditorOperation=function(){},ie.NoOpGeometryOperation.get=function(){return oe},ie.CoordinateOperation.get=function(){return se},ie.CoordinateSequenceOperation.get=function(){return ae},Object.defineProperties(re,ie);var oe=function(){};oe.prototype.edit=function(t,e){return t},oe.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},oe.prototype.getClass=function(){return oe};var se=function(){};se.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof ee?e.createLinearRing(n):t instanceof Jt?e.createLineString(n):t instanceof Zt?n.length>0?e.createPoint(n[0]):e.createPoint():t},se.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},se.prototype.getClass=function(){return se};var ae=function(){};ae.prototype.edit=function(t,e){return t instanceof ee?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Jt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Zt?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},ae.prototype.interfaces_=function(){return[re.GeometryEditorOperation]},ae.prototype.getClass=function(){return ae};var ue=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new S}else if(T(arguments[0],z)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var r=0;r<this._coordinates.length;r++)this._coordinates[r]=n.getCoordinateCopy(r)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var i=arguments[0],o=arguments[1];this._coordinates=i,this._dimension=o,null===i&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var u=0;u<s;u++)this._coordinates[u]=new S}},le={serialVersionUID:{configurable:!0}};ue.prototype.setOrdinate=function(t,e,n){switch(e){case z.X:this._coordinates[t].x=n;break;case z.Y:this._coordinates[t].y=n;break;case z.Z:this._coordinates[t].z=n;break;default:throw new v("invalid ordinateIndex")}},ue.prototype.size=function(){return this._coordinates.length},ue.prototype.getOrdinate=function(t,e){switch(e){case z.X:return this._coordinates[t].x;case z.Y:return this._coordinates[t].y;case z.Z:return this._coordinates[t].z}return _.NaN},ue.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},ue.prototype.getCoordinateCopy=function(t){return new S(this._coordinates[t])},ue.prototype.getDimension=function(){return this._dimension},ue.prototype.getX=function(t){return this._coordinates[t].x},ue.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new ue(t,this._dimension)},ue.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},ue.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new ue(t,this._dimension)},ue.prototype.toString=function(){if(this._coordinates.length>0){var t=new A(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},ue.prototype.getY=function(t){return this._coordinates[t].y},ue.prototype.toCoordinateArray=function(){return this._coordinates},ue.prototype.interfaces_=function(){return[z,e]},ue.prototype.getClass=function(){return ue},le.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(ue,le);var ce=function(){},he={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};ce.prototype.readResolve=function(){return ce.instance()},ce.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array)return new ue(arguments[0]);if(T(arguments[0],z))return new ue(arguments[0])}else if(2===arguments.length){var t=arguments[0],e=arguments[1];return e>3&&(e=3),e<2?new ue(t):new ue(t,e)}},ce.prototype.interfaces_=function(){return[I,e]},ce.prototype.getClass=function(){return ce},ce.instance=function(){return ce.instanceObject},he.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},he.instanceObject.get=function(){return new ce},Object.defineProperties(ce,he);var fe=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new Et,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new Nt;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(Tt),pe=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ye){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var r=arguments[0];this._modelType=r._modelType,this._scale=r._scale}},de={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};pe.prototype.equals=function(t){if(!(t instanceof pe))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},pe.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),r=e.getMaximumSignificantDigits();return new R(n).compareTo(new R(r))},pe.prototype.getScale=function(){return this._scale},pe.prototype.isFloating=function(){return this._modelType===pe.FLOATING||this._modelType===pe.FLOATING_SINGLE},pe.prototype.getType=function(){return this._modelType},pe.prototype.toString=function(){var t="UNKNOWN";return this._modelType===pe.FLOATING?t="Floating":this._modelType===pe.FLOATING_SINGLE?t="Floating-Single":this._modelType===pe.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},pe.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return _.isNaN(t)||this._modelType===pe.FLOATING_SINGLE?t:this._modelType===pe.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof S){var e=arguments[0];if(this._modelType===pe.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},pe.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===pe.FLOATING?t=16:this._modelType===pe.FLOATING_SINGLE?t=6:this._modelType===pe.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},pe.prototype.setScale=function(t){this._scale=Math.abs(t)},pe.prototype.interfaces_=function(){return[e,x]},pe.prototype.getClass=function(){return pe},pe.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},de.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},de.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(pe,de);var ye=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},ge={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};ye.prototype.readResolve=function(){return ye.nameToTypeMap.get(this._name)},ye.prototype.toString=function(){return this._name},ye.prototype.interfaces_=function(){return[e]},ye.prototype.getClass=function(){return ye},ge.serialVersionUID.get=function(){return-552860263173159e4},ge.nameToTypeMap.get=function(){return new fe},Object.defineProperties(ye,ge),pe.Type=ye,pe.FIXED=new ye("FIXED"),pe.FLOATING=new ye("FLOATING"),pe.FLOATING_SINGLE=new ye("FLOATING SINGLE");var me=function t(){this._precisionModel=new pe,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?T(arguments[0],I)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof pe&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},ve={serialVersionUID:{configurable:!0}};me.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new S(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new S(t.getMinX(),t.getMinY()),new S(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new S(t.getMinX(),t.getMinY()),new S(t.getMinX(),t.getMaxY()),new S(t.getMaxX(),t.getMaxY()),new S(t.getMaxX(),t.getMinY()),new S(t.getMinX(),t.getMinY())]),null)},me.prototype.createLineString=function(t){return t?t instanceof Array?new Jt(this.getCoordinateSequenceFactory().create(t),this):T(t,z)?new Jt(t,this):void 0:new Jt(this.getCoordinateSequenceFactory().create([]),this)},me.prototype.createMultiLineString=function(){return 0===arguments.length?new Ut(null,this):1===arguments.length?new Ut(arguments[0],this):void 0},me.prototype.buildGeometry=function(t){for(var e=null,n=!1,r=!1,i=t.iterator();i.hasNext();){var o=i.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(r=!0)}if(null===e)return this.createGeometryCollection();if(n||r)return this.createGeometryCollection(me.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof $t)return this.createMultiPolygon(me.toPolygonArray(t));if(a instanceof Jt)return this.createMultiLineString(me.toLineStringArray(t));if(a instanceof Zt)return this.createMultiPoint(me.toPointArray(t));et.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},me.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},me.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof S){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(T(arguments[0],z))return new Zt(arguments[0],this)}},me.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},me.prototype.createPolygon=function(){if(0===arguments.length)return new $t(null,null,this);if(1===arguments.length){if(T(arguments[0],z)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof ee){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length)return new $t(arguments[0],arguments[1],this)},me.prototype.getSRID=function(){return this._SRID},me.prototype.createGeometryCollection=function(){return 0===arguments.length?new qt(null,this):1===arguments.length?new qt(arguments[0],this):void 0},me.prototype.createGeometry=function(t){return new re(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},me.prototype.getPrecisionModel=function(){return this._precisionModel},me.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(T(arguments[0],z))return new ee(arguments[0],this)}},me.prototype.createMultiPolygon=function(){return 0===arguments.length?new ne(null,this):1===arguments.length?new ne(arguments[0],this):void 0},me.prototype.createMultiPoint=function(){if(0===arguments.length)return new te(null,this);if(1===arguments.length){if(arguments[0]instanceof Array)return new te(arguments[0],this);if(arguments[0]instanceof Array){var t=arguments[0];return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(T(arguments[0],z)){var e=arguments[0];if(null===e)return this.createMultiPoint(new Array(0).fill(null));for(var n=new Array(e.size()).fill(null),r=0;r<e.size();r++){var i=this.getCoordinateSequenceFactory().create(1,e.getDimension());Wt.copy(e,r,i,0,1),n[r]=this.createPoint(i)}return this.createMultiPoint(n)}}},me.prototype.interfaces_=function(){return[e]},me.prototype.getClass=function(){return me},me.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},me.getDefaultCoordinateSequenceFactory=function(){return ce.instance()},me.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},me.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ve.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(me,ve);var _e=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],be=function(t){this.geometryFactory=t||new me};be.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!xe[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==_e.indexOf(n)?xe[n].apply(this,[e.coordinates]):"GeometryCollection"===n?xe[n].apply(this,[e.geometries]):xe[n].apply(this,[e])},be.prototype.write=function(t){var e=t.getGeometryType();if(!we[e])throw new Error("Geometry is not supported");return we[e].apply(this,[t])};var xe={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var r=t.geometry.type;if(!xe[r])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=xe.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(new S(r[0],r[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new S(t[0],t[1]),new S(t[2],t[1]),new S(t[2],t[3]),new S(t[0],t[3]),new S(t[0],t[1])])},Point:function(t){var e=new S(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(xe.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=xe.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(xe.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=xe.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),r=[],i=1;i<t.length;++i){var o=t[i],s=xe.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);r.push(a)}return this.geometryFactory.createPolygon(n,r)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(xe.Polygon.apply(this,[r]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var r=t[n];e.push(this.read(r))}return this.geometryFactory.createGeometryCollection(e)}},we={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:we.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=we.Point.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),r=0;r<n.length;++r){var i=n[r];e.push(we.coordinate.apply(this,[i]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=we.LineString.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=we.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var r=0;r<t._holes.length;++r){var i=t._holes[r],o=we.LineString.apply(this,[i]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=we.Polygon.apply(this,[r]);e.push(i.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var r=t._geometries[n],i=r.getGeometryType();e.push(we[i].apply(this,[r]))}return{type:"GeometryCollection",geometries:e}}},Ee=function(t){this.geometryFactory=t||new me,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new be(this.geometryFactory)};Ee.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===pe.FIXED&&this.reducePrecision(e),e},Ee.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var Se=function(){this.parser=new be(this.geometryFactory)};Se.prototype.write=function(t){return this.parser.write(t)};var Pe=function(){},Ce={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};Pe.prototype.interfaces_=function(){return[]},Pe.prototype.getClass=function(){return Pe},Pe.opposite=function(t){return t===Pe.LEFT?Pe.RIGHT:t===Pe.RIGHT?Pe.LEFT:t},Ce.ON.get=function(){return 0},Ce.LEFT.get=function(){return 1},Ce.RIGHT.get=function(){return 2},Object.defineProperties(Pe,Ce),(y.prototype=new Error).name="EmptyStackException",(g.prototype=new wt).add=function(t){return this.array_.push(t),!0},g.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},g.prototype.push=function(t){return this.array_.push(t),t},g.prototype.pop=function(t){if(0===this.array_.length)throw new y;return this.array_.pop()},g.prototype.peek=function(){if(0===this.array_.length)throw new y;return this.array_[this.array_.length-1]},g.prototype.empty=function(){return 0===this.array_.length},g.prototype.isEmpty=function(){return this.empty()},g.prototype.search=function(t){return this.array_.indexOf(t)},g.prototype.size=function(){return this.array_.length},g.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var Ie=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Ie.prototype.getCoordinate=function(){return this._minCoord},Ie.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},Ie.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();et.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],r=at.computeOrientation(this._minCoord,n,e),i=!1;(e.y<this._minCoord.y&&n.y<this._minCoord.y&&r===at.COUNTERCLOCKWISE||e.y>this._minCoord.y&&n.y>this._minCoord.y&&r===at.CLOCKWISE)&&(i=!0),i&&(this._minIndex=this._minIndex-1)},Ie.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var r=Pe.LEFT;return n[e].y<n[e+1].y&&(r=Pe.RIGHT),r},Ie.prototype.getEdge=function(){return this._orientedDe},Ie.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},Ie.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Ie.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}et.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Pe.LEFT&&(this._orientedDe=this._minDe.getSym())},Ie.prototype.interfaces_=function(){return[]},Ie.prototype.getClass=function(){return Ie};var Me=function(t){function e(n,r){t.call(this,e.msgWithCoord(n,r)),this.pt=r?new S(r):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}($),Oe=function(){this.array_=[]};Oe.prototype.addLast=function(t){this.array_.push(t)},Oe.prototype.removeFirst=function(){return this.array_.shift()},Oe.prototype.isEmpty=function(){return 0===this.array_.length};var Te=function(){this._finder=null,this._dirEdgeList=new Et,this._nodes=new Et,this._rightMostCoord=null,this._env=null,this._finder=new Ie};Te.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},Te.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Te.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var r=n.next();if(r.isVisited()||r.getSym().isVisited()){e=r;break}}if(null===e)throw new Me("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var i=t.getEdges().iterator();i.hasNext();){var o=i.next();o.setVisited(!0),this.copySymDepths(o)}},Te.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(Pe.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},Te.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Te.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(Pe.RIGHT)>=1&&e.getDepth(Pe.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},Te.prototype.computeDepths=function(t){var e=new Nt,n=new Oe,r=t.getNode();for(n.addLast(r),e.add(r),t.setVisited(!0);!n.isEmpty();){var i=n.removeFirst();e.add(i),this.computeNodeDepth(i);for(var o=i.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},Te.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},Te.prototype.getEnvelope=function(){if(null===this._env){for(var t=new Y,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),r=0;r<n.length-1;r++)t.expandToInclude(n[r]);this._env=t}return this._env},Te.prototype.addReachable=function(t){var e=new g;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},Te.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(Pe.LEFT,t.getDepth(Pe.RIGHT)),e.setDepth(Pe.RIGHT,t.getDepth(Pe.LEFT))},Te.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var r=n.next();this._dirEdgeList.add(r);var i=r.getSym().getNode();i.isVisited()||e.push(i)}},Te.prototype.getNodes=function(){return this._nodes},Te.prototype.getDirectedEdges=function(){return this._dirEdgeList},Te.prototype.interfaces_=function(){return[x]},Te.prototype.getClass=function(){return Te};var Le=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[Pe.ON]=n}else if(arguments[0]instanceof t){var r=arguments[0];if(this.init(r.location.length),null!==r)for(var i=0;i<this.location.length;i++)this.location[i]=r.location[i]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[Pe.ON]=o,this.location[Pe.LEFT]=s,this.location[Pe.RIGHT]=a}};Le.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},Le.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==M.NONE)return!1;return!0},Le.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===M.NONE&&(this.location[e]=t)},Le.prototype.isLine=function(){return 1===this.location.length},Le.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Pe.ON]=this.location[Pe.ON],e[Pe.LEFT]=M.NONE,e[Pe.RIGHT]=M.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===M.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},Le.prototype.getLocations=function(){return this.location},Le.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[Pe.LEFT];this.location[Pe.LEFT]=this.location[Pe.RIGHT],this.location[Pe.RIGHT]=t},Le.prototype.toString=function(){var t=new A;return this.location.length>1&&t.append(M.toLocationSymbol(this.location[Pe.LEFT])),t.append(M.toLocationSymbol(this.location[Pe.ON])),this.location.length>1&&t.append(M.toLocationSymbol(this.location[Pe.RIGHT])),t.toString()},Le.prototype.setLocations=function(t,e,n){this.location[Pe.ON]=t,this.location[Pe.LEFT]=e,this.location[Pe.RIGHT]=n},Le.prototype.get=function(t){return t<this.location.length?this.location[t]:M.NONE},Le.prototype.isArea=function(){return this.location.length>1},Le.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===M.NONE)return!0;return!1},Le.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(Pe.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},Le.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(M.NONE)},Le.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},Le.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},Le.prototype.interfaces_=function(){return[]},Le.prototype.getClass=function(){return Le};var Ne=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new Le(e),this.elt[1]=new Le(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new Le(n.elt[0]),this.elt[1]=new Le(n.elt[1])}}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.elt[0]=new Le(M.NONE),this.elt[1]=new Le(M.NONE),this.elt[r].setLocation(i)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new Le(o,s,a),this.elt[1]=new Le(o,s,a)}else if(4===arguments.length){var u=arguments[0],l=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new Le(M.NONE,M.NONE,M.NONE),this.elt[1]=new Le(M.NONE,M.NONE,M.NONE),this.elt[u].setLocations(l,c,h)}};Ne.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},Ne.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},Ne.prototype.isNull=function(t){return this.elt[t].isNull()},Ne.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},Ne.prototype.isLine=function(t){return this.elt[t].isLine()},Ne.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new Le(t.elt[e]):this.elt[e].merge(t.elt[e])},Ne.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},Ne.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(Pe.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},Ne.prototype.toString=function(){var t=new A;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},Ne.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},Ne.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},Ne.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Pe.ON,e)}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this.elt[n].setLocation(r,i)}},Ne.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},Ne.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},Ne.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new Le(this.elt[t].location[0]))},Ne.prototype.interfaces_=function(){return[]},Ne.prototype.getClass=function(){return Ne},Ne.toLineLabel=function(t){for(var e=new Ne(M.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var Ae=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Et,this._pts=new Et,this._label=new Ne(M.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Et,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};Ae.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=at.isCCW(this._ring.getCoordinates())},Ae.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},Ae.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new Me("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new Me("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var r=e.getLabel();et.isTrue(r.isArea()),this.mergeLabel(r),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},Ae.prototype.getLinearRing=function(){return this._ring},Ae.prototype.getCoordinate=function(t){return this._pts.get(t)},Ae.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},Ae.prototype.addPoints=function(t,e,n){var r=t.getCoordinates();if(e){var i=1;n&&(i=0);for(var o=i;o<r.length;o++)this._pts.add(r[o])}else{var s=r.length-2;n&&(s=r.length-1);for(var a=s;a>=0;a--)this._pts.add(r[a])}},Ae.prototype.isHole=function(){return this._isHole},Ae.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},Ae.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!at.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},Ae.prototype.addHole=function(t){this._holes.add(t)},Ae.prototype.isShell=function(){return null===this._shell},Ae.prototype.getLabel=function(){return this._label},Ae.prototype.getEdges=function(){return this._edges},Ae.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Ae.prototype.getShell=function(){return this._shell},Ae.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[1],n=arguments[0].getLocation(e,Pe.RIGHT);if(n===M.NONE)return null;if(this._label.getLocation(e)===M.NONE)return this._label.setLocation(e,n),null}},Ae.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},Ae.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},Ae.prototype.interfaces_=function(){return[]},Ae.prototype.getClass=function(){return Ae};var Re=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ae),De=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new Et,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new Re(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ae),ke=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};ke.prototype.setVisited=function(t){this._isVisited=t},ke.prototype.setInResult=function(t){this._isInResult=t},ke.prototype.isCovered=function(){return this._isCovered},ke.prototype.isCoveredSet=function(){return this._isCoveredSet},ke.prototype.setLabel=function(t){this._label=t},ke.prototype.getLabel=function(){return this._label},ke.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},ke.prototype.updateIM=function(t){et.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},ke.prototype.isInResult=function(){return this._isInResult},ke.prototype.isVisited=function(){return this._isVisited},ke.prototype.interfaces_=function(){return[]},ke.prototype.getClass=function(){return ke};var Fe=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new Ne(0,M.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=M.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var r=t.getLocation(e);n!==M.BOUNDARY&&(n=r)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new Ne(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof Ne)for(var n=arguments[0],r=0;r<2;r++){var i=this.computeMergedLocation(n,r);this._label.getLocation(r)===M.NONE&&this._label.setLocation(r,i)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=M.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case M.BOUNDARY:n=M.INTERIOR;break;case M.INTERIOR:default:n=M.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ke),Be=function(){this.nodeMap=new h,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};Be.prototype.find=function(t){return this.nodeMap.get(t)},Be.prototype.addNode=function(){if(arguments[0]instanceof S){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof Fe){var n=arguments[0],r=this.nodeMap.get(n.getCoordinate());return null===r?(this.nodeMap.put(n.getCoordinate(),n),n):(r.mergeLabel(n),r)}},Be.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},Be.prototype.iterator=function(){return this.nodeMap.values().iterator()},Be.prototype.values=function(){return this.nodeMap.values()},Be.prototype.getBoundaryNodes=function(t){for(var e=new Et,n=this.iterator();n.hasNext();){var r=n.next();r.getLabel().getLocation(t)===M.BOUNDARY&&e.add(r)}return e},Be.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},Be.prototype.interfaces_=function(){return[]},Be.prototype.getClass=function(){return Be};var je=function(){},ze={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};je.prototype.interfaces_=function(){return[]},je.prototype.getClass=function(){return je},je.isNorthern=function(t){return t===je.NE||t===je.NW},je.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},je.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},je.isInHalfPlane=function(t,e){return e===je.SE?t===je.SE||t===je.SW:t===e||t===e+1},je.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new v("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?je.NE:je.SE:e>=0?je.NW:je.SW}if(arguments[0]instanceof S&&arguments[1]instanceof S){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new v("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?je.NE:je.SE:r.y>=n.y?je.NW:je.SW}},ze.NE.get=function(){return 0},ze.NW.get=function(){return 1},ze.SW.get=function(){return 2},ze.SE.get=function(){return 3},Object.defineProperties(je,ze);var Ge=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._edge=e,this.init(n,r),this._label=null}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=i,this.init(o,s),this._label=a}};Ge.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:at.computeOrientation(t._p0,t._p1,this._p1)},Ge.prototype.getDy=function(){return this._dy},Ge.prototype.getCoordinate=function(){return this._p0},Ge.prototype.setNode=function(t){this._node=t},Ge.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),r=n.lastIndexOf("."),i=n.substring(r+1);t.print("  "+i+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},Ge.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},Ge.prototype.getDirectedCoordinate=function(){return this._p1},Ge.prototype.getDx=function(){return this._dx},Ge.prototype.getLabel=function(){return this._label},Ge.prototype.getEdge=function(){return this._edge},Ge.prototype.getQuadrant=function(){return this._quadrant},Ge.prototype.getNode=function(){return this._node},Ge.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},Ge.prototype.computeLabel=function(t){},Ge.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=je.quadrant(this._dx,this._dy),et.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},Ge.prototype.interfaces_=function(){return[x]},Ge.prototype.getClass=function(){return Ge};var qe=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var r=e.getNumPoints()-1;this.init(e.getCoordinate(r),e.getCoordinate(r-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new Ne(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new Me("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,Pe.LEFT)===M.INTERIOR&&this._label.getLocation(e,Pe.RIGHT)===M.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[Pe.LEFT]+"/"+this._depth[Pe.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,M.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,M.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var r=1;t===Pe.LEFT&&(r=-1);var i=Pe.opposite(t),o=e+n*r;this.setDepth(t,e),this.setDepth(i,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===M.EXTERIOR&&e===M.INTERIOR?1:t===M.INTERIOR&&e===M.EXTERIOR?-1:0},e}(Ge),Ue=function(){};Ue.prototype.createNode=function(t){return new Fe(t,null)},Ue.prototype.interfaces_=function(){return[]},Ue.prototype.getClass=function(){return Ue};var Ve=function(){if(this._edges=new Et,this._nodes=null,this._edgeEndList=new Et,0===arguments.length)this._nodes=new Be(new Ue);else if(1===arguments.length){var t=arguments[0];this._nodes=new Be(t)}};Ve.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Ve.prototype.find=function(t){return this._nodes.find(t)},Ve.prototype.addNode=function(){if(arguments[0]instanceof Fe){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof S){var e=arguments[0];return this._nodes.addNode(e)}},Ve.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ve.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Ve.prototype.debugPrintln=function(t){V.out.println(t)},Ve.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var r=n.getLabel();return null!==r&&r.getLocation(t)===M.BOUNDARY},Ve.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Ve.prototype.matchInSameDirection=function(t,e,n,r){return!!t.equals(n)&&at.computeOrientation(t,e,r)===at.COLLINEAR&&je.quadrant(t,e)===je.quadrant(n,r)},Ve.prototype.getEdgeEnds=function(){return this._edgeEndList},Ve.prototype.debugPrint=function(t){V.out.print(t)},Ve.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ve.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(this.matchInSameDirection(t,e,i[0],i[1]))return r;if(this.matchInSameDirection(t,e,i[i.length-1],i[i.length-2]))return r}return null},Ve.prototype.insertEdge=function(t){this._edges.add(t)},Ve.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Ve.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var r=new qe(n,!0),i=new qe(n,!1);r.setSym(i),i.setSym(r),this.add(r),this.add(i)}},Ve.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ve.prototype.getNodes=function(){return this._nodes.values()},Ve.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var r=this._edges.get(n),i=r.getCoordinates();if(t.equals(i[0])&&e.equals(i[1]))return r}return null},Ve.prototype.interfaces_=function(){return[]},Ve.prototype.getClass=function(){return Ve},Ve.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Xe=function(){this._geometryFactory=null,this._shellList=new Et;var t=arguments[0];this._geometryFactory=t};Xe.prototype.sortShellsAndHoles=function(t,e,n){for(var r=t.iterator();r.hasNext();){var i=r.next();i.isHole()?n.add(i):e.add(i)}},Xe.prototype.computePolygons=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var r=n.next().toPolygon(this._geometryFactory);e.add(r)}return e},Xe.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(null===r.getShell()){var i=this.findEdgeRingContaining(r,t);if(null===i)throw new Me("unable to assign hole to a shell",r.getCoordinate(0));r.setShell(i)}}},Xe.prototype.buildMinimalEdgeRings=function(t,e,n){for(var r=new Et,i=t.iterator();i.hasNext();){var o=i.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else r.add(o)}return r},Xe.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Xe.prototype.buildMaximalEdgeRings=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var r=n.next();if(r.isInResult()&&r.getLabel().isArea()&&null===r.getEdgeRing()){var i=new De(r,this._geometryFactory);e.add(i),i.setInResult()}}return e},Xe.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();r.isHole()&&r.setShell(t)}},Xe.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Xe.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),r=n.getEnvelopeInternal(),i=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(r)&&at.isPointInRing(i,l.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=u)}return o},Xe.prototype.findShell=function(t){for(var e=0,n=null,r=t.iterator();r.hasNext();){var i=r.next();i.isHole()||(n=i,e++)}return et.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Xe.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Ve.linkResultDirectedEdges(n);var r=this.buildMaximalEdgeRings(e),i=new Et,o=this.buildMinimalEdgeRings(r,this._shellList,i);this.sortShellsAndHoles(o,this._shellList,i),this.placeFreeHoles(this._shellList,i)}},Xe.prototype.interfaces_=function(){return[]},Xe.prototype.getClass=function(){return Xe};var Ye=function(){};Ye.prototype.getBounds=function(){},Ye.prototype.interfaces_=function(){return[]},Ye.prototype.getClass=function(){return Ye};var He=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};He.prototype.getItem=function(){return this._item},He.prototype.getBounds=function(){return this._bounds},He.prototype.interfaces_=function(){return[Ye,e]},He.prototype.getClass=function(){return He};var We=function(){this._size=null,this._items=null,this._size=0,this._items=new Et,this._items.add(null)};We.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},We.prototype.size=function(){return this._size},We.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},We.prototype.clear=function(){this._size=0,this._items.clear()},We.prototype.isEmpty=function(){return 0===this._size},We.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},We.prototype.interfaces_=function(){return[]},We.prototype.getClass=function(){return We};var Je=function(){};Je.prototype.visitItem=function(t){},Je.prototype.interfaces_=function(){return[]},Je.prototype.getClass=function(){return Je};var Ke=function(){};Ke.prototype.insert=function(t,e){},Ke.prototype.remove=function(t,e){},Ke.prototype.query=function(){},Ke.prototype.interfaces_=function(){return[]},Ke.prototype.getClass=function(){return Ke};var Ze=function(){if(this._childBoundables=new Et,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Qe={serialVersionUID:{configurable:!0}};Ze.prototype.getLevel=function(){return this._level},Ze.prototype.size=function(){return this._childBoundables.size()},Ze.prototype.getChildBoundables=function(){return this._childBoundables},Ze.prototype.addChildBoundable=function(t){et.isTrue(null===this._bounds),this._childBoundables.add(t)},Ze.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Ze.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Ze.prototype.interfaces_=function(){return[Ye,e]},Ze.prototype.getClass=function(){return Ze},Qe.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Ze,Qe);var $e=function(){};$e.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},$e.min=function(t){return $e.sort(t),t.get(0)},$e.sort=function(t,e){var n=t.toArray();e?Ft.sort(n,e):Ft.sort(n);for(var r=t.iterator(),i=0,o=n.length;i<o;i++)r.next(),r.set(n[i])},$e.singletonList=function(t){var e=new Et;return e.add(t),e};var tn=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};tn.prototype.expandToQueue=function(t,e){var n=tn.isComposite(this._boundable1),r=tn.isComposite(this._boundable2);if(n&&r)return tn.area(this._boundable1)>tn.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(r)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new v("neither boundable is composite")},tn.prototype.isLeaves=function(){return!(tn.isComposite(this._boundable1)||tn.isComposite(this._boundable2))},tn.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},tn.prototype.expand=function(t,e,n,r){for(var i=t.getChildBoundables().iterator();i.hasNext();){var o=i.next(),s=new tn(o,e,this._itemDistance);s.getDistance()<r&&n.add(s)}},tn.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},tn.prototype.getDistance=function(){return this._distance},tn.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},tn.prototype.interfaces_=function(){return[x]},tn.prototype.getClass=function(){return tn},tn.area=function(t){return t.getBounds().getArea()},tn.isComposite=function(t){return t instanceof Ze};var en=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new Et,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];et.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},nn={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};en.prototype.getNodeCapacity=function(){return this._nodeCapacity},en.prototype.lastNode=function(t){return t.get(t.size()-1)},en.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Ze?t+=this.size(n):n instanceof He&&(t+=1)}return t}},en.prototype.removeItem=function(t,e){for(var n=null,r=t.getChildBoundables().iterator();r.hasNext();){var i=r.next();i instanceof He&&i.getItem()===e&&(n=i)}return null!==n&&(t.getChildBoundables().remove(n),!0)},en.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new Et:t}if(1===arguments.length){for(var e=arguments[0],n=new Et,r=e.getChildBoundables().iterator();r.hasNext();){var i=r.next();if(i instanceof Ze){var o=this.itemsTree(i);null!==o&&n.add(o)}else i instanceof He?n.add(i.getItem()):et.shouldNeverReachHere()}return n.size()<=0?null:n}},en.prototype.insert=function(t,e){et.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new He(t,e))},en.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new Et;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];if(et.isTrue(n>-2),r.getLevel()===n)return i.add(r),null;for(var o=r.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Ze?this.boundablesAtLevel(n,s,i):(et.isTrue(s instanceof He),-1===n&&i.add(s))}return null}},en.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new Et;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e}if(2===arguments.length){var n=arguments[0],r=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,r)}else if(3===arguments.length)if(T(arguments[2],Je)&&arguments[0]instanceof Object&&arguments[1]instanceof Ze)for(var i=arguments[0],o=arguments[2],s=arguments[1].getChildBoundables(),a=0;a<s.size();a++){var u=s.get(a);this.getIntersectsOp().intersects(u.getBounds(),i)&&(u instanceof Ze?this.query(i,u,o):u instanceof He?o.visitItem(u.getItem()):et.shouldNeverReachHere())}else if(T(arguments[2],wt)&&arguments[0]instanceof Object&&arguments[1]instanceof Ze)for(var l=arguments[0],c=arguments[2],h=arguments[1].getChildBoundables(),f=0;f<h.size();f++){var p=h.get(f);this.getIntersectsOp().intersects(p.getBounds(),l)&&(p instanceof Ze?this.query(l,p,c):p instanceof He?c.add(p.getItem()):et.shouldNeverReachHere())}},en.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},en.prototype.getRoot=function(){return this.build(),this._root},en.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=this.removeItem(r,i);if(o)return!0;for(var s=null,a=r.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof Ze&&(o=this.remove(n,u,i))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&r.getChildBoundables().remove(s),o}},en.prototype.createHigherLevels=function(t,e){et.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},en.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Ze){var r=this.depth(n);r>t&&(t=r)}}return t+1}},en.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var n=new Et;n.add(this.createNode(e));var r=new Et(t);$e.sort(r,this.getComparator());for(var i=r.iterator();i.hasNext();){var o=i.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},en.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},en.prototype.interfaces_=function(){return[e]},en.prototype.getClass=function(){return en},en.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},nn.IntersectsOp.get=function(){return rn},nn.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},nn.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(en,nn);var rn=function(){},on=function(){};on.prototype.distance=function(t,e){},on.prototype.interfaces_=function(){return[]},on.prototype.getClass=function(){return on};var sn=function(t){function n(e){e=e||n.DEFAULT_NODE_CAPACITY,t.call(this,e)}t&&(n.__proto__=t),(n.prototype=Object.create(t&&t.prototype)).constructor=n;var r={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return n.prototype.createParentBoundablesFromVerticalSlices=function(t,e){et.isTrue(t.length>0);for(var n=new Et,r=0;r<t.length;r++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[r],e));return n},n.prototype.createNode=function(t){return new an(t)},n.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},n.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},n.prototype.getIntersectsOp=function(){return n.intersectsOp},n.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),r=new Array(e).fill(null),i=t.iterator(),o=0;o<e;o++){r[o]=new Et;for(var s=0;i.hasNext()&&s<n;){var a=i.next();r[o].add(a),s++}}return r},n.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],r=arguments[1];t.prototype.query.call(this,n,r)}else if(3===arguments.length)if(T(arguments[2],Je)&&arguments[0]instanceof Object&&arguments[1]instanceof Ze){var i=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,i,o,s)}else if(T(arguments[2],wt)&&arguments[0]instanceof Object&&arguments[1]instanceof Ze){var a=arguments[0],u=arguments[1],l=arguments[2];t.prototype.query.call(this,a,u,l)}},n.prototype.getComparator=function(){return n.yComparator},n.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},n.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},n.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},n.prototype.createParentBoundables=function(t,e){et.isTrue(!t.isEmpty());var r=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new Et(t);$e.sort(i,n.xComparator);var o=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(r))));return this.createParentBoundablesFromVerticalSlices(o,e)},n.prototype.nearestNeighbour=function(){if(1===arguments.length){if(T(arguments[0],on)){var t=arguments[0],e=new tn(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof tn){var r=arguments[0];return this.nearestNeighbour(r,_.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof n&&T(arguments[1],on)){var i=arguments[0],o=arguments[1],s=new tn(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof tn&&"number"==typeof arguments[1]){var a=arguments[0],u=arguments[1],l=null,c=new We;for(c.add(a);!c.isEmpty()&&u>0;){var h=c.poll(),f=h.getDistance();if(f>=u)break;h.isLeaves()?(u=f,l=h):h.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[2],d=new He(arguments[0],arguments[1]),y=new tn(this.getRoot(),d,p);return this.nearestNeighbour(y)[0]}},n.prototype.interfaces_=function(){return[Ke,e]},n.prototype.getClass=function(){return n},n.centreX=function(t){return n.avg(t.getMinX(),t.getMaxX())},n.avg=function(t,e){return(t+e)/2},n.centreY=function(t){return n.avg(t.getMinY(),t.getMaxY())},r.STRtreeNode.get=function(){return an},r.serialVersionUID.get=function(){return 0x39920f7d5f261e0},r.xComparator.get=function(){return{interfaces_:function(){return[E]},compare:function(e,r){return t.compareDoubles(n.centreX(e.getBounds()),n.centreX(r.getBounds()))}}},r.yComparator.get=function(){return{interfaces_:function(){return[E]},compare:function(e,r){return t.compareDoubles(n.centreY(e.getBounds()),n.centreY(r.getBounds()))}}},r.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},r.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(n,r),n}(en),an=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new Y(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ze),un=function(){};un.prototype.interfaces_=function(){return[]},un.prototype.getClass=function(){return un},un.relativeSign=function(t,e){return t<e?-1:t>e?1:0},un.compare=function(t,e,n){if(e.equals2D(n))return 0;var r=un.relativeSign(e.x,n.x),i=un.relativeSign(e.y,n.y);switch(t){case 0:return un.compareValue(r,i);case 1:return un.compareValue(i,r);case 2:return un.compareValue(i,-r);case 3:return un.compareValue(-r,i);case 4:return un.compareValue(-r,-i);case 5:return un.compareValue(-i,-r);case 6:return un.compareValue(-i,r);case 7:return un.compareValue(r,-i)}return et.shouldNeverReachHere("invalid octant value"),0},un.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var ln=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._segString=t,this.coord=new S(e),this.segmentIndex=n,this._segmentOctant=r,this._isInterior=!e.equals2D(t.getCoordinate(n))};ln.prototype.getCoordinate=function(){return this.coord},ln.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},ln.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:un.compare(this._segmentOctant,this.coord,e.coord)},ln.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},ln.prototype.isInterior=function(){return this._isInterior},ln.prototype.interfaces_=function(){return[x]},ln.prototype.getClass=function(){return ln};var cn=function(){this._nodeMap=new h,this._edge=null;var t=arguments[0];this._edge=t};cn.prototype.getSplitCoordinates=function(){var t=new Pt;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next();this.addEdgeCoordinates(n,r,t),n=r}return t.toCoordinateArray()},cn.prototype.addCollapsedNodes=function(){var t=new Et;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},cn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},cn.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),r=this._edge.getCoordinate(e+2);n.equals2D(r)&&t.add(new R(e+1))}},cn.prototype.addEdgeCoordinates=function(t,e,n){var r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);n.add(new S(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));i&&n.add(new S(e.coord))},cn.prototype.iterator=function(){return this._nodeMap.values().iterator()},cn.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},cn.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var r=e.segmentIndex-t.segmentIndex;return e.isInterior()||r--,1===r&&(n[0]=t.segmentIndex+1,!0)},cn.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),r=n.next();n.hasNext();){var i=n.next();this.findCollapseIndex(r,i,e)&&t.add(new R(e[0])),r=i}},cn.prototype.getEdge=function(){return this._edge},cn.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},cn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this._edge.getCoordinate(e.segmentIndex),i=e.isInterior()||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new S(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return i&&(o[s]=new S(e.coord)),new dn(o,this._edge.getData())},cn.prototype.add=function(t,e){var n=new ln(this._edge,t,e,this._edge.getSegmentOctant(e)),r=this._nodeMap.get(n);return null!==r?(et.isTrue(r.coord.equals2D(t),"Found equal nodes with different coordinates"),r):(this._nodeMap.put(n,n),n)},cn.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new $("bad split edge start point at "+n);var r=t.get(t.size()-1).getCoordinates(),i=r[r.length-1];if(!i.equals2D(e[e.length-1]))throw new $("bad split edge end point at "+i)},cn.prototype.interfaces_=function(){return[]},cn.prototype.getClass=function(){return cn};var hn=function(){};hn.prototype.interfaces_=function(){return[]},hn.prototype.getClass=function(){return hn},hn.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new v("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof S&&arguments[1]instanceof S){var i=arguments[0],o=arguments[1],s=o.x-i.x,a=o.y-i.y;if(0===s&&0===a)throw new v("Cannot compute the octant for two identical points "+i);return hn.octant(s,a)}};var fn=function(){};fn.prototype.getCoordinates=function(){},fn.prototype.size=function(){},fn.prototype.getCoordinate=function(t){},fn.prototype.isClosed=function(){},fn.prototype.setData=function(t){},fn.prototype.getData=function(){},fn.prototype.interfaces_=function(){return[]},fn.prototype.getClass=function(){return fn};var pn=function(){};pn.prototype.addIntersection=function(t,e){},pn.prototype.interfaces_=function(){return[fn]},pn.prototype.getClass=function(){return pn};var dn=function(){this._nodeList=new cn(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};dn.prototype.getCoordinates=function(){return this._pts},dn.prototype.size=function(){return this._pts.length},dn.prototype.getCoordinate=function(t){return this._pts[t]},dn.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},dn.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},dn.prototype.setData=function(t){this._data=t},dn.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:hn.octant(t,e)},dn.prototype.getData=function(){return this._data},dn.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[1],r=arguments[3],i=new S(arguments[0].getIntersection(r));this.addIntersection(i,n)}},dn.prototype.toString=function(){return Q.toLineString(new ue(this._pts))},dn.prototype.getNodeList=function(){return this._nodeList},dn.prototype.addIntersectionNode=function(t,e){var n=e,r=n+1;if(r<this._pts.length){var i=this._pts[r];t.equals2D(i)&&(n=r)}return this._nodeList.add(t,n)},dn.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},dn.prototype.interfaces_=function(){return[pn]},dn.prototype.getClass=function(){return dn},dn.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new Et;return dn.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(n)};var yn=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new S,this.p1=new S;else if(1===arguments.length){var t=arguments[0];this.p0=new S(t.p0),this.p1=new S(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=arguments[3];this.p0=new S(e,n),this.p1=new S(r,i)}},gn={serialVersionUID:{configurable:!0}};yn.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},yn.prototype.orientationIndex=function(){if(arguments[0]instanceof yn){var t=arguments[0],e=at.orientationIndex(this.p0,this.p1,t.p0),n=at.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0||e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof S){var r=arguments[0];return at.orientationIndex(this.p0,this.p1,r)}},yn.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},yn.prototype.isVertical=function(){return this.p0.x===this.p1.x},yn.prototype.equals=function(t){if(!(t instanceof yn))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},yn.prototype.intersection=function(t){var e=new it;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},yn.prototype.project=function(){if(arguments[0]instanceof S){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new S(t);var e=this.projectionFactor(t),n=new S;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof yn){var r=arguments[0],i=this.projectionFactor(r.p0),o=this.projectionFactor(r.p1);if(i>=1&&o>=1)return null;if(i<=0&&o<=0)return null;var s=this.project(r.p0);i<0&&(s=this.p0),i>1&&(s=this.p1);var a=this.project(r.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new yn(s,a)}},yn.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},yn.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},yn.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},yn.prototype.distancePerpendicular=function(t){return at.distancePointLinePerpendicular(t,this.p0,this.p1)},yn.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},yn.prototype.midPoint=function(){return yn.midPoint(this.p0,this.p1)},yn.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,r=e*e+n*n;return r<=0?_.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/r},yn.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),r=_.MAX_VALUE,i=null,o=this.closestPoint(t.p0);r=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(i=s.distance(t.p1))<r&&(r=i,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(i=a.distance(this.p0))<r&&(r=i,n[0]=this.p0,n[1]=a);var u=t.closestPoint(this.p1);return(i=u.distance(this.p1))<r&&(r=i,n[0]=this.p1,n[1]=u),n},yn.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},yn.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},yn.prototype.getLength=function(){return this.p0.distance(this.p1)},yn.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},yn.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},yn.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},yn.prototype.lineIntersection=function(t){try{return X.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof U))throw t}return null},yn.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},yn.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),r=this.p0.y+t*(this.p1.y-this.p0.y),i=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(i*i+o*o),a=0,u=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*i/s,u=e*o/s}return new S(n-u,r+a)},yn.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},yn.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||_.isNaN(e))&&(e=1),e},yn.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},yn.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},yn.prototype.distance=function(){if(arguments[0]instanceof yn){var t=arguments[0];return at.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof S){var e=arguments[0];return at.distancePointLine(e,this.p0,this.p1)}},yn.prototype.pointAlong=function(t){var e=new S;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},yn.prototype.hashCode=function(){var t=_.doubleToLongBits(this.p0.x);t^=31*_.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=_.doubleToLongBits(this.p1.x);return n^=31*_.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},yn.prototype.interfaces_=function(){return[x,e]},yn.prototype.getClass=function(){return yn},yn.midPoint=function(t,e){return new S((t.x+e.x)/2,(t.y+e.y)/2)},gn.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(yn,gn);var mn=function(){this.tempEnv1=new Y,this.tempEnv2=new Y,this._overlapSeg1=new yn,this._overlapSeg2=new yn};mn.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[1],e=arguments[2],n=arguments[3];arguments[0].getLineSegment(t,this._overlapSeg1),e.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},mn.prototype.interfaces_=function(){return[]},mn.prototype.getClass=function(){return mn};var vn=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=r};vn.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},vn.prototype.computeSelect=function(t,e,n,r){var i=this._pts[e],o=this._pts[n];if(r.tempEnv1.init(i,o),n-e==1)return r.select(this,e),null;if(!t.intersects(r.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,r),s<n&&this.computeSelect(t,s,n,r)},vn.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},vn.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},vn.prototype.setId=function(t){this._id=t},vn.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},vn.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new Y(t,e)}return this._env},vn.prototype.getEndIndex=function(){return this._end},vn.prototype.getStartIndex=function(){return this._start},vn.prototype.getContext=function(){return this._context},vn.prototype.getId=function(){return this._id},vn.prototype.computeOverlapsInternal=function(t,e,n,r,i,o){var s=this._pts[t],a=this._pts[e],u=n._pts[r],l=n._pts[i];if(e-t==1&&i-r==1)return o.overlap(this,t,n,r),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((r+i)/2);t<c&&(r<h&&this.computeOverlapsInternal(t,c,n,r,h,o),h<i&&this.computeOverlapsInternal(t,c,n,h,i,o)),c<e&&(r<h&&this.computeOverlapsInternal(c,e,n,r,h,o),h<i&&this.computeOverlapsInternal(c,e,n,h,i,o))},vn.prototype.interfaces_=function(){return[]},vn.prototype.getClass=function(){return vn};var _n=function(){};_n.prototype.interfaces_=function(){return[]},_n.prototype.getClass=function(){return _n},_n.getChainStartIndices=function(t){var e=0,n=new Et;n.add(new R(e));do{var r=_n.findChainEnd(t,e);n.add(new R(r)),e=r}while(e<t.length-1);return _n.toIntArray(n)},_n.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var r=je.quadrant(t[n],t[n+1]),i=e+1;i<t.length&&(t[i-1].equals2D(t[i])||je.quadrant(t[i-1],t[i])===r);)i++;return i-1},_n.getChains=function(){if(1===arguments.length){var t=arguments[0];return _n.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],r=new Et,i=_n.getChainStartIndices(e),o=0;o<i.length-1;o++){var s=new vn(e,i[o],i[o+1],n);r.add(s)}return r}},_n.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var bn=function(){};bn.prototype.computeNodes=function(t){},bn.prototype.getNodedSubstrings=function(){},bn.prototype.interfaces_=function(){return[]},bn.prototype.getClass=function(){return bn};var xn=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};xn.prototype.setSegmentIntersector=function(t){this._segInt=t},xn.prototype.interfaces_=function(){return[bn]},xn.prototype.getClass=function(){return xn};var wn=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new Et,this._index=new sn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return dn.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=_n.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new En(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),r=this._index.query(n.getEnvelope()).iterator();r.hasNext();){var i=r.next();if(i.getId()>n.getId()&&(n.computeOverlaps(i,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return En},Object.defineProperties(e,n),e}(xn),En=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[1],n=arguments[2],r=arguments[3],i=arguments[0].getContext(),o=n.getContext();this._si.processIntersections(i,e,o,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(mn),Sn=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],r=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(r)}else if(4===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},Pn={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Sn.prototype.getEndCapStyle=function(){return this._endCapStyle},Sn.prototype.isSingleSided=function(){return this._isSingleSided},Sn.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=Sn.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Sn.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==Sn.JOIN_ROUND&&(this._quadrantSegments=Sn.DEFAULT_QUADRANT_SEGMENTS)},Sn.prototype.getJoinStyle=function(){return this._joinStyle},Sn.prototype.setJoinStyle=function(t){this._joinStyle=t},Sn.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},Sn.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Sn.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Sn.prototype.setEndCapStyle=function(t){this._endCapStyle=t},Sn.prototype.getMitreLimit=function(){return this._mitreLimit},Sn.prototype.setMitreLimit=function(t){this._mitreLimit=t},Sn.prototype.setSingleSided=function(t){this._isSingleSided=t},Sn.prototype.interfaces_=function(){return[]},Sn.prototype.getClass=function(){return Sn},Sn.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},Pn.CAP_ROUND.get=function(){return 1},Pn.CAP_FLAT.get=function(){return 2},Pn.CAP_SQUARE.get=function(){return 3},Pn.JOIN_ROUND.get=function(){return 1},Pn.JOIN_MITRE.get=function(){return 2},Pn.JOIN_BEVEL.get=function(){return 3},Pn.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Pn.DEFAULT_MITRE_LIMIT.get=function(){return 5},Pn.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(Sn,Pn);var Cn=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=at.COUNTERCLOCKWISE,this._inputLine=t||null},In={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};Cn.prototype.isDeletable=function(t,e,n,r){var i=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(i,o,s)&&!!this.isShallow(i,o,s,r)&&this.isShallowSampled(i,o,t,n,r)},Cn.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),r=!1;n<this._inputLine.length;){var i=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=Cn.DELETE,i=!0,r=!0),t=i?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return r},Cn.prototype.isShallowConcavity=function(t,e,n,r){return at.computeOrientation(t,e,n)===this._angleOrientation&&at.distancePointLine(e,t,n)<r},Cn.prototype.isShallowSampled=function(t,e,n,r,i){var o=Math.trunc((r-n)/Cn.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<r;s+=o)if(!this.isShallow(t,e,this._inputLine[s],i))return!1;return!0},Cn.prototype.isConcave=function(t,e,n){return at.computeOrientation(t,e,n)===this._angleOrientation},Cn.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=at.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},Cn.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===Cn.DELETE;)e++;return e},Cn.prototype.isShallow=function(t,e,n,r){return at.distancePointLine(e,t,n)<r},Cn.prototype.collapseLine=function(){for(var t=new Pt,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==Cn.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},Cn.prototype.interfaces_=function(){return[]},Cn.prototype.getClass=function(){return Cn},Cn.simplify=function(t,e){return new Cn(t).simplify(e)},In.INIT.get=function(){return 0},In.DELETE.get=function(){return 1},In.KEEP.get=function(){return 1},In.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(Cn,In);var Mn=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Et},On={COORDINATE_ARRAY_TYPE:{configurable:!0}};Mn.prototype.getCoordinates=function(){return this._ptList.toArray(Mn.COORDINATE_ARRAY_TYPE)},Mn.prototype.setPrecisionModel=function(t){this._precisionModel=t},Mn.prototype.addPt=function(t){var e=new S(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},Mn.prototype.revere=function(){},Mn.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var r=t.length-1;r>=0;r--)this.addPt(t[r])},Mn.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},Mn.prototype.toString=function(){return(new me).createLineString(this.getCoordinates()).toString()},Mn.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new S(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},Mn.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},Mn.prototype.interfaces_=function(){return[]},Mn.prototype.getClass=function(){return Mn},On.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(Mn,On);var Tn=function(){},Ln={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};Tn.prototype.interfaces_=function(){return[]},Tn.prototype.getClass=function(){return Tn},Tn.toDegrees=function(t){return 180*t/Math.PI},Tn.normalize=function(t){for(;t>Math.PI;)t-=Tn.PI_TIMES_2;for(;t<=-Math.PI;)t+=Tn.PI_TIMES_2;return t},Tn.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],r=n.x-e.x,i=n.y-e.y;return Math.atan2(i,r)}},Tn.isAcute=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)>0},Tn.isObtuse=function(t,e,n){var r=t.x-e.x,i=t.y-e.y;return r*(n.x-e.x)+i*(n.y-e.y)<0},Tn.interiorAngle=function(t,e,n){var r=Tn.angle(e,t),i=Tn.angle(e,n);return Math.abs(i-r)},Tn.normalizePositive=function(t){if(t<0){for(;t<0;)t+=Tn.PI_TIMES_2;t>=Tn.PI_TIMES_2&&(t=0)}else{for(;t>=Tn.PI_TIMES_2;)t-=Tn.PI_TIMES_2;t<0&&(t=0)}return t},Tn.angleBetween=function(t,e,n){var r=Tn.angle(e,t),i=Tn.angle(e,n);return Tn.diff(r,i)},Tn.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},Tn.toRadians=function(t){return t*Math.PI/180},Tn.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?Tn.COUNTERCLOCKWISE:n<0?Tn.CLOCKWISE:Tn.NONE},Tn.angleBetweenOriented=function(t,e,n){var r=Tn.angle(e,t),i=Tn.angle(e,n)-r;return i<=-Math.PI?i+Tn.PI_TIMES_2:i>Math.PI?i-Tn.PI_TIMES_2:i},Ln.PI_TIMES_2.get=function(){return 2*Math.PI},Ln.PI_OVER_2.get=function(){return Math.PI/2},Ln.PI_OVER_4.get=function(){return Math.PI/4},Ln.COUNTERCLOCKWISE.get=function(){return at.COUNTERCLOCKWISE},Ln.CLOCKWISE.get=function(){return at.CLOCKWISE},Ln.NONE.get=function(){return at.COLLINEAR},Object.defineProperties(Tn,Ln);var Nn=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new yn,this._seg1=new yn,this._offset0=new yn,this._offset1=new yn,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new it,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===Sn.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(r)},An={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Nn.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=at.computeOrientation(this._s0,this._s1,this._s2),r=n===at.CLOCKWISE&&this._side===Pe.LEFT||n===at.COUNTERCLOCKWISE&&this._side===Pe.RIGHT;0===n?this.addCollinear(e):r?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},Nn.prototype.addLineEndCap=function(t,e){var n=new yn(t,e),r=new yn;this.computeOffsetSegment(n,Pe.LEFT,this._distance,r);var i=new yn;this.computeOffsetSegment(n,Pe.RIGHT,this._distance,i);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case Sn.CAP_ROUND:this._segList.addPt(r.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,at.CLOCKWISE,this._distance),this._segList.addPt(i.p1);break;case Sn.CAP_FLAT:this._segList.addPt(r.p1),this._segList.addPt(i.p1);break;case Sn.CAP_SQUARE:var u=new S;u.x=Math.abs(this._distance)*Math.cos(a),u.y=Math.abs(this._distance)*Math.sin(a);var l=new S(r.p1.x+u.x,r.p1.y+u.y),c=new S(i.p1.x+u.x,i.p1.y+u.y);this._segList.addPt(l),this._segList.addPt(c)}},Nn.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Nn.prototype.addMitreJoin=function(t,e,n,r){var i=!0,o=null;try{o=X.intersection(e.p0,e.p1,n.p0,n.p1),(r<=0?1:o.distance(t)/Math.abs(r))>this._bufParams.getMitreLimit()&&(i=!1)}catch(t){if(!(t instanceof U))throw t;o=new S(0,0),i=!1}i?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,r,this._bufParams.getMitreLimit())},Nn.prototype.addFilletCorner=function(t,e,n,r,i){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);r===at.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,r,i),this._segList.addPt(n)},Nn.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Nn.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Sn.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Sn.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},Nn.prototype.createSquare=function(t){this._segList.addPt(new S(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new S(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new S(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new S(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},Nn.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},Nn.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Nn.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Nn.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},Nn.prototype.addLimitedMitreJoin=function(t,e,n,r){var i=this._seg0.p1,o=Tn.angle(i,this._seg0.p0),s=Tn.angleBetweenOriented(this._seg0.p0,i,this._seg1.p1)/2,a=Tn.normalize(o+s),u=Tn.normalize(a+Math.PI),l=r*n,c=n-l*Math.abs(Math.sin(s)),h=i.x+l*Math.cos(u),f=i.y+l*Math.sin(u),p=new S(h,f),d=new yn(i,p),y=d.pointAlongOffset(1,c),g=d.pointAlongOffset(1,-c);this._side===Pe.LEFT?(this._segList.addPt(y),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(y))},Nn.prototype.computeOffsetSegment=function(t,e,n,r){var i=e===Pe.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=i*n*o/a,l=i*n*s/a;r.p0.x=t.p0.x-l,r.p0.y=t.p0.y+u,r.p1.x=t.p1.x-l,r.p1.y=t.p1.y+u},Nn.prototype.addFilletArc=function(t,e,n,r,i){var o=r===at.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var u=s/a,l=0,c=new S;l<s;){var h=e+o*l;c.x=t.x+i*Math.cos(h),c.y=t.y+i*Math.sin(h),this._segList.addPt(c),l+=u}},Nn.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Nn.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new S((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var r=new S((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(r)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Nn.prototype.createCircle=function(t){var e=new S(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Nn.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},Nn.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Mn,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*Nn.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Nn.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Sn.JOIN_BEVEL||this._bufParams.getJoinStyle()===Sn.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,at.CLOCKWISE,this._distance))},Nn.prototype.closeRing=function(){this._segList.closeRing()},Nn.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Nn.prototype.interfaces_=function(){return[]},Nn.prototype.getClass=function(){return Nn},An.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},An.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},An.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},An.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Nn,An);var Rn=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};Rn.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,r=Math.abs(e),i=this.getSegGen(r);t.length<=1?this.computePointCurve(t[0],i):this.computeOffsetCurve(t,n,i);var o=i.getCoordinates();return n&&Ct.reverse(o),o},Rn.prototype.computeSingleSidedBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var i=Cn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Pe.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{n.addSegments(t,!1);var a=Cn.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Pe.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment(),n.closeRing()},Rn.prototype.computeRingBufferCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);e===Pe.RIGHT&&(r=-r);var i=Cn.simplify(t,r),o=i.length-1;n.initSideSegments(i[o-1],i[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(i[s],a)}n.closeRing()},Rn.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),r=Cn.simplify(t,n),i=r.length-1;e.initSideSegments(r[0],r[1],Pe.LEFT);for(var o=2;o<=i;o++)e.addNextSegment(r[o],!0);e.addLastSegment(),e.addLineEndCap(r[i-1],r[i]);var s=Cn.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],Pe.LEFT);for(var u=a-2;u>=0;u--)e.addNextSegment(s[u],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},Rn.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case Sn.CAP_ROUND:e.createCircle(t);break;case Sn.CAP_SQUARE:e.createSquare(t)}},Rn.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),r=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],r);else if(this._bufParams.isSingleSided()){var i=e<0;this.computeSingleSidedBufferCurve(t,i,r)}else this.computeLineBufferCurve(t,r);return r.getCoordinates()},Rn.prototype.getBufferParameters=function(){return this._bufParams},Rn.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},Rn.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Rn.copyCoordinates(t);var r=this.getSegGen(n);return this.computeRingBufferCurve(t,e,r),r.getCoordinates()},Rn.prototype.computeOffsetCurve=function(t,e,n){var r=this.simplifyTolerance(this._distance);if(e){var i=Cn.simplify(t,-r),o=i.length-1;n.initSideSegments(i[o],i[o-1],Pe.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(i[s],!0)}else{var a=Cn.simplify(t,r),u=a.length-1;n.initSideSegments(a[0],a[1],Pe.LEFT),n.addFirstSegment();for(var l=2;l<=u;l++)n.addNextSegment(a[l],!0)}n.addLastSegment()},Rn.prototype.getSegGen=function(t){return new Nn(this._precisionModel,this._bufParams,t)},Rn.prototype.interfaces_=function(){return[]},Rn.prototype.getClass=function(){return Rn},Rn.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new S(t[n]);return e};var Dn=function(){this._subgraphs=null,this._seg=new yn,this._cga=new at;var t=arguments[0];this._subgraphs=t},kn={DepthSegment:{configurable:!0}};Dn.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new Et,n=this._subgraphs.iterator();n.hasNext();){var r=n.next(),i=r.getEnvelope();t.y<i.getMinY()||t.y>i.getMaxY()||this.findStabbedSegments(t,r.getDirectedEdges(),e)}return e}if(3===arguments.length)if(T(arguments[2],wt)&&arguments[0]instanceof S&&arguments[1]instanceof qe){for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),l=0;l<u.length-1;l++)if(this._seg.p0=u[l],this._seg.p1=u[l+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||at.computeOrientation(this._seg.p0,this._seg.p1,o)===at.RIGHT)){var c=s.getDepth(Pe.LEFT);this._seg.p0.equals(u[l])||(c=s.getDepth(Pe.RIGHT));var h=new Fn(this._seg,c);a.add(h)}}else if(T(arguments[2],wt)&&arguments[0]instanceof S&&T(arguments[1],wt))for(var f=arguments[0],p=arguments[2],d=arguments[1].iterator();d.hasNext();){var y=d.next();y.isForward()&&this.findStabbedSegments(f,y,p)}},Dn.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:$e.min(e)._leftDepth},Dn.prototype.interfaces_=function(){return[]},Dn.prototype.getClass=function(){return Dn},kn.DepthSegment.get=function(){return Fn},Object.defineProperties(Dn,kn);var Fn=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new yn(t),this._leftDepth=e};Fn.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n||0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Fn.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Fn.prototype.toString=function(){return this._upwardSeg.toString()},Fn.prototype.interfaces_=function(){return[x]},Fn.prototype.getClass=function(){return Fn};var Bn=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};Bn.prototype.area=function(){return Bn.area(this.p0,this.p1,this.p2)},Bn.prototype.signedArea=function(){return Bn.signedArea(this.p0,this.p1,this.p2)},Bn.prototype.interpolateZ=function(t){if(null===t)throw new v("Supplied point is null.");return Bn.interpolateZ(t,this.p0,this.p1,this.p2)},Bn.prototype.longestSideLength=function(){return Bn.longestSideLength(this.p0,this.p1,this.p2)},Bn.prototype.isAcute=function(){return Bn.isAcute(this.p0,this.p1,this.p2)},Bn.prototype.circumcentre=function(){return Bn.circumcentre(this.p0,this.p1,this.p2)},Bn.prototype.area3D=function(){return Bn.area3D(this.p0,this.p1,this.p2)},Bn.prototype.centroid=function(){return Bn.centroid(this.p0,this.p1,this.p2)},Bn.prototype.inCentre=function(){return Bn.inCentre(this.p0,this.p1,this.p2)},Bn.prototype.interfaces_=function(){return[]},Bn.prototype.getClass=function(){return Bn},Bn.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},Bn.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},Bn.det=function(t,e,n,r){return t*r-e*n},Bn.interpolateZ=function(t,e,n,r){var i=e.x,o=e.y,s=n.x-i,a=r.x-i,u=n.y-o,l=r.y-o,c=s*l-a*u,h=t.x-i,f=t.y-o,p=(l*h-a*f)/c,d=(-u*h+s*f)/c;return e.z+p*(n.z-e.z)+d*(r.z-e.z)},Bn.longestSideLength=function(t,e,n){var r=t.distance(e),i=e.distance(n),o=n.distance(t),s=r;return i>s&&(s=i),o>s&&(s=o),s},Bn.isAcute=function(t,e,n){return!!Tn.isAcute(t,e,n)&&!!Tn.isAcute(e,n,t)&&!!Tn.isAcute(n,t,e)},Bn.circumcentre=function(t,e,n){var r=n.x,i=n.y,o=t.x-r,s=t.y-i,a=e.x-r,u=e.y-i,l=2*Bn.det(o,s,a,u),c=Bn.det(s,o*o+s*s,u,a*a+u*u),h=Bn.det(o,o*o+s*s,a,a*a+u*u);return new S(r-c/l,i+h/l)},Bn.perpendicularBisector=function(t,e){var n=e.x-t.x,r=e.y-t.y,i=new X(t.x+n/2,t.y+r/2,1),o=new X(t.x-r+n/2,t.y+n+r/2,1);return new X(i,o)},Bn.angleBisector=function(t,e,n){var r=e.distance(t),i=r/(r+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new S(t.x+i*o,t.y+i*s)},Bn.area3D=function(t,e,n){var r=e.x-t.x,i=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=i*u-o*a,c=o*s-r*u,h=r*a-i*s,f=l*l+c*c+h*h;return Math.sqrt(f)/2},Bn.centroid=function(t,e,n){var r=(t.x+e.x+n.x)/3,i=(t.y+e.y+n.y)/3;return new S(r,i)},Bn.inCentre=function(t,e,n){var r=e.distance(n),i=t.distance(n),o=t.distance(e),s=r+i+o,a=(r*t.x+i*e.x+o*n.x)/s,u=(r*t.y+i*e.y+o*n.y)/s;return new S(a,u)};var jn=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Et;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};jn.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,M.EXTERIOR,M.INTERIOR)},jn.prototype.addPolygon=function(t){var e=this._distance,n=Pe.LEFT;this._distance<0&&(e=-this._distance,n=Pe.RIGHT);var r=t.getExteriorRing(),i=Ct.removeRepeatedPoints(r.getCoordinates());if(this._distance<0&&this.isErodedCompletely(r,this._distance))return null;if(this._distance<=0&&i.length<3)return null;this.addPolygonRing(i,e,n,M.EXTERIOR,M.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=Ct.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,Pe.opposite(n),M.INTERIOR,M.EXTERIOR)}},jn.prototype.isTriangleErodedCompletely=function(t,e){var n=new Bn(t[0],t[1],t[2]),r=n.inCentre();return at.distancePointLine(r,n.p0,n.p1)<Math.abs(e)},jn.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=Ct.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,M.EXTERIOR,M.INTERIOR)},jn.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var r=new dn(t,new Ne(0,M.BOUNDARY,e,n));this._curveList.add(r)},jn.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},jn.prototype.addPolygonRing=function(t,e,n,r,i){if(0===e&&t.length<ee.MINIMUM_VALID_SIZE)return null;var o=r,s=i;t.length>=ee.MINIMUM_VALID_SIZE&&at.isCCW(t)&&(o=i,s=r,n=Pe.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},jn.prototype.add=function(t){if(t.isEmpty())return null;t instanceof $t?this.addPolygon(t):t instanceof Jt?this.addLineString(t):t instanceof Zt?this.addPoint(t):(t instanceof te||t instanceof Ut||t instanceof ne||t instanceof qt)&&this.addCollection(t)},jn.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var r=t.getEnvelopeInternal(),i=Math.min(r.getHeight(),r.getWidth());return e<0&&2*Math.abs(e)>i},jn.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},jn.prototype.interfaces_=function(){return[]},jn.prototype.getClass=function(){return jn};var zn=function(){};zn.prototype.locate=function(t){},zn.prototype.interfaces_=function(){return[]},zn.prototype.getClass=function(){return zn};var Gn=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};Gn.prototype.next=function(){if(this._atStart)return this._atStart=!1,Gn.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new r;var t=this._parent.getGeometryN(this._index++);return t instanceof qt?(this._subcollectionIterator=new Gn(t),this._subcollectionIterator.next()):t},Gn.prototype.remove=function(){throw new Error(this.getClass().getName())},Gn.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Gn.prototype.interfaces_=function(){return[xt]},Gn.prototype.getClass=function(){return Gn},Gn.isAtomic=function(t){return!(t instanceof qt)};var qn=function(){this._geom=null;var t=arguments[0];this._geom=t};qn.prototype.locate=function(t){return qn.locate(t,this._geom)},qn.prototype.interfaces_=function(){return[zn]},qn.prototype.getClass=function(){return qn},qn.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&at.isPointInRing(t,e.getCoordinates())},qn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!qn.isPointInRing(t,n))return!1;for(var r=0;r<e.getNumInteriorRing();r++){var i=e.getInteriorRingN(r);if(qn.isPointInRing(t,i))return!1}return!0},qn.containsPoint=function(t,e){if(e instanceof $t)return qn.containsPointInPolygon(t,e);if(e instanceof qt)for(var n=new Gn(e);n.hasNext();){var r=n.next();if(r!==e&&qn.containsPoint(t,r))return!0}return!1},qn.locate=function(t,e){return e.isEmpty()?M.EXTERIOR:qn.containsPoint(t,e)?M.INTERIOR:M.EXTERIOR};var Un=function(){this._edgeMap=new h,this._edgeList=null,this._ptInAreaLocation=[M.NONE,M.NONE]};Un.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},Un.prototype.propagateSideLabels=function(t){for(var e=M.NONE,n=this.iterator();n.hasNext();){var r=n.next().getLabel();r.isArea(t)&&r.getLocation(t,Pe.LEFT)!==M.NONE&&(e=r.getLocation(t,Pe.LEFT))}if(e===M.NONE)return null;for(var i=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,Pe.ON)===M.NONE&&a.setLocation(t,Pe.ON,i),a.isArea(t)){var u=a.getLocation(t,Pe.LEFT),l=a.getLocation(t,Pe.RIGHT);if(l!==M.NONE){if(l!==i)throw new Me("side location conflict",s.getCoordinate());u===M.NONE&&et.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),i=u}else et.isTrue(a.getLocation(t,Pe.LEFT)===M.NONE,"found single null side"),a.setLocation(t,Pe.RIGHT,i),a.setLocation(t,Pe.LEFT,i)}}},Un.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},Un.prototype.print=function(t){V.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},Un.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},Un.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,r=e.get(n).getLabel().getLocation(t,Pe.LEFT);et.isTrue(r!==M.NONE,"Found unlabelled area edge");for(var i=r,o=this.iterator();o.hasNext();){var s=o.next().getLabel();et.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,Pe.LEFT),u=s.getLocation(t,Pe.RIGHT);if(a===u)return!1;if(u!==i)return!1;i=a}return!0},Un.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},Un.prototype.iterator=function(){return this.getEdges().iterator()},Un.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new Et(this._edgeMap.values())),this._edgeList},Un.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===M.NONE&&(this._ptInAreaLocation[t]=qn.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},Un.prototype.toString=function(){var t=new A;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},Un.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},Un.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var r=n.next().getLabel(),i=0;i<2;i++)r.isLine(i)&&r.getLocation(i)===M.BOUNDARY&&(e[i]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),u=0;u<2;u++)if(a.isAnyNull(u)){var l=M.NONE;if(e[u])l=M.EXTERIOR;else{var c=s.getCoordinate();l=this.getLocation(u,c,t)}a.setAllLocationsIfNull(u,l)}},Un.prototype.getDegree=function(){return this._edgeMap.size()},Un.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},Un.prototype.interfaces_=function(){return[]},Un.prototype.getClass=function(){return Un};var Vn=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,r=0;r<this._resultAreaEdgeList.size();r++){var i=this._resultAreaEdgeList.get(r),o=i.getSym();if(i.getLabel().isArea())switch(null===t&&i.isInResult()&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!i.isInResult())continue;e.setNext(i),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new Me("no outgoing dirEdge found",this.getCoordinate());et.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var r=t.get(e-1),i=n.getQuadrant(),o=r.getQuadrant();return je.isNorthern(i)&&je.isNorthern(o)?n:je.isNorthern(i)||je.isNorthern(o)?0!==n.getDy()?n:0!==r.getDy()?r:(et.shouldNeverReachHere("found two horizontal edges incident on node"),null):r},e.prototype.print=function(t){V.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Et;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var r=this._edgeList.get(n),i=r.getSym();null===e&&(e=i),null!==t&&i.setNext(t),t=r}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(Pe.LEFT),r=t.getDepth(Pe.RIGHT),i=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,i)!==r)throw new Me("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[1],s=arguments[2],a=arguments[0];a<o;a++){var u=this._edgeList.get(a);u.setEdgeDepths(Pe.RIGHT,s),s=u.getDepth(Pe.LEFT)}return s}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,r=this._SCANNING_FOR_INCOMING,i=this._resultAreaEdgeList.size()-1;i>=0;i--){var o=this._resultAreaEdgeList.get(i),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),r){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,r=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),r=this._SCANNING_FOR_INCOMING}}r===this._LINKING_TO_OUTGOING&&(et.isTrue(null!==e,"found null for first outgoing dirEdge"),et.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],r=0,i=this.iterator();i.hasNext();)i.next().getEdgeRing()===n&&r++;return r}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=M.NONE,e=this.iterator();e.hasNext();){var n=e.next(),r=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=M.INTERIOR;break}if(r.isInResult()){t=M.EXTERIOR;break}}}if(t===M.NONE)return null;for(var i=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(i===M.INTERIOR):(s.isInResult()&&(i=M.EXTERIOR),a.isInResult()&&(i=M.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new Ne(M.NONE);for(var n=this.iterator();n.hasNext();)for(var r=n.next().getEdge().getLabel(),i=0;i<2;i++){var o=r.getLocation(i);o!==M.INTERIOR&&o!==M.BOUNDARY||this._label.setLocation(i,M.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Un),Xn=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new Fe(t,new Vn)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ue),Yn=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Yn.prototype.compareTo=function(t){var e=t;return Yn.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Yn.prototype.interfaces_=function(){return[x]},Yn.prototype.getClass=function(){return Yn},Yn.orientation=function(t){return 1===Ct.increasingDirection(t)},Yn.compareOriented=function(t,e,n,r){for(var i=e?1:-1,o=r?1:-1,s=e?t.length:-1,a=r?n.length:-1,u=e?0:t.length-1,l=r?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;var h=(u+=i)===s,f=(l+=o)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}};var Hn=function(){this._edges=new Et,this._ocaMap=new h};Hn.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var r=n.getCoordinates(),i=0;i<r.length;i++)i>0&&t.print(","),t.print(r[i].x+" "+r[i].y);t.println(")")}t.print(")  ")},Hn.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Hn.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Hn.prototype.iterator=function(){return this._edges.iterator()},Hn.prototype.getEdges=function(){return this._edges},Hn.prototype.get=function(t){return this._edges.get(t)},Hn.prototype.findEqualEdge=function(t){var e=new Yn(t.getCoordinates());return this._ocaMap.get(e)},Hn.prototype.add=function(t){this._edges.add(t);var e=new Yn(t.getCoordinates());this._ocaMap.put(e,t)},Hn.prototype.interfaces_=function(){return[]},Hn.prototype.getClass=function(){return Hn};var Wn=function(){};Wn.prototype.processIntersections=function(t,e,n,r){},Wn.prototype.isDone=function(){},Wn.prototype.interfaces_=function(){return[]},Wn.prototype.getClass=function(){return Wn};var Jn=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Jn.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(Jn.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.size()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},Jn.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Jn.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Jn.prototype.getLineIntersector=function(){return this._li},Jn.prototype.hasProperIntersection=function(){return this._hasProper},Jn.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Jn.prototype.hasIntersection=function(){return this._hasIntersection},Jn.prototype.isDone=function(){return!1},Jn.prototype.hasInteriorIntersection=function(){return this._hasInterior},Jn.prototype.interfaces_=function(){return[Wn]},Jn.prototype.getClass=function(){return Jn},Jn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Kn=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new S(t),this.segmentIndex=e,this.dist=n};Kn.prototype.getSegmentIndex=function(){return this.segmentIndex},Kn.prototype.getCoordinate=function(){return this.coord},Kn.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Kn.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Kn.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Kn.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Kn.prototype.getDistance=function(){return this.dist},Kn.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Kn.prototype.interfaces_=function(){return[x]},Kn.prototype.getClass=function(){return Kn};var Zn=function(){this._nodeMap=new h,this.edge=null;var t=arguments[0];this.edge=t};Zn.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Zn.prototype.iterator=function(){return this._nodeMap.values().iterator()},Zn.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var r=e.next(),i=this.createSplitEdge(n,r);t.add(i),n=r}},Zn.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Zn.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,r=this.edge.pts[e.segmentIndex],i=e.dist>0||!e.coord.equals2D(r);i||n--;var o=new Array(n).fill(null),s=0;o[s++]=new S(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return i&&(o[s]=e.coord),new nr(o,new Ne(this.edge._label))},Zn.prototype.add=function(t,e,n){var r=new Kn(t,e,n),i=this._nodeMap.get(r);return null!==i?i:(this._nodeMap.put(r,r),r)},Zn.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Zn.prototype.interfaces_=function(){return[]},Zn.prototype.getClass=function(){return Zn};var Qn=function(){};Qn.prototype.getChainStartIndices=function(t){var e=0,n=new Et;n.add(new R(e));do{var r=this.findChainEnd(t,e);n.add(new R(r)),e=r}while(e<t.length-1);return Qn.toIntArray(n)},Qn.prototype.findChainEnd=function(t,e){for(var n=je.quadrant(t[e],t[e+1]),r=e+1;r<t.length&&je.quadrant(t[r-1],t[r])===n;)r++;return r-1},Qn.prototype.interfaces_=function(){return[]},Qn.prototype.getClass=function(){return Qn},Qn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var $n=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new Y,this.env2=new Y;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Qn;this.startIndex=e.getChainStartIndices(this.pts)};$n.prototype.getCoordinates=function(){return this.pts},$n.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},$n.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},$n.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],r=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],r)}else if(6===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[i],h=this.pts[o],f=s.pts[a],p=s.pts[u];if(o-i==1&&u-a==1)return l.addIntersections(this.e,i,s.e,a),null;if(this.env1.init(c,h),this.env2.init(f,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((i+o)/2),y=Math.trunc((a+u)/2);i<d&&(a<y&&this.computeIntersectsForChain(i,d,s,a,y,l),y<u&&this.computeIntersectsForChain(i,d,s,y,u,l)),d<o&&(a<y&&this.computeIntersectsForChain(d,o,s,a,y,l),y<u&&this.computeIntersectsForChain(d,o,s,y,u,l))}},$n.prototype.getStartIndexes=function(){return this.startIndex},$n.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var r=0;r<t.startIndex.length-1;r++)this.computeIntersectsForChain(n,t,r,e)},$n.prototype.interfaces_=function(){return[]},$n.prototype.getClass=function(){return $n};var tr=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},er={NULL_VALUE:{configurable:!0}};tr.prototype.getDepth=function(t,e){return this._depth[t][e]},tr.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},tr.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==tr.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===tr.NULL_VALUE}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._depth[r][i]===tr.NULL_VALUE}},tr.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var r=0;this._depth[t][n]>e&&(r=1),this._depth[t][n]=r}}},tr.prototype.getDelta=function(t){return this._depth[t][Pe.RIGHT]-this._depth[t][Pe.LEFT]},tr.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?M.EXTERIOR:M.INTERIOR},tr.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},tr.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var r=t.getLocation(e,n);r!==M.EXTERIOR&&r!==M.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=tr.depthAtLocation(r):this._depth[e][n]+=tr.depthAtLocation(r))}else if(3===arguments.length){var i=arguments[0],o=arguments[1];arguments[2]===M.INTERIOR&&this._depth[i][o]++}},tr.prototype.interfaces_=function(){return[]},tr.prototype.getClass=function(){return tr},tr.depthAtLocation=function(t){return t===M.EXTERIOR?0:t===M.INTERIOR?1:tr.NULL_VALUE},er.NULL_VALUE.get=function(){return-1},Object.defineProperties(tr,er);var nr=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Zn(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new tr,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var r=arguments[0],i=arguments[1];this.pts=r,this._label=i}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,Ne.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var r=!0,i=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(r=!1),this.pts[s].equals2D(n.pts[--o])||(i=!1),!r&&!i)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new $n(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new Y;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,r){var i=new S(t.getIntersection(r)),o=e,s=t.getEdgeDistance(n,r),a=o+1;if(a<this.pts.length){var u=this.pts[a];i.equals2D(u)&&(o=a,s=0)}this.eiList.add(i,o,s)},e.prototype.toString=function(){var t=new A;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++)this.addIntersection(t,e,n,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,Pe.ON),e.getLocation(1,Pe.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,Pe.LEFT),e.getLocation(1,Pe.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,Pe.RIGHT),e.getLocation(1,Pe.RIGHT),2))},e}(ke),rr=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Hn,this._bufParams=t||null};rr.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},rr.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Ne(t.getLabel())).flip(),n.merge(r);var i=rr.depthDelta(r),o=e.getDepthDelta()+i;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(rr.depthDelta(t.getLabel()))},rr.prototype.buildSubgraphs=function(t,e){for(var n=new Et,r=t.iterator();r.hasNext();){var i=r.next(),o=i.getRightmostCoordinate(),s=new Dn(n).getDepth(o);i.computeDepth(s),i.findResultEdges(),n.add(i),e.add(i.getDirectedEdges(),i.getNodes())}},rr.prototype.createSubgraphs=function(t){for(var e=new Et,n=t.getNodes().iterator();n.hasNext();){var r=n.next();if(!r.isVisited()){var i=new Te;i.create(r),e.add(i)}}return $e.sort(e,$e.reverseOrder()),e},rr.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},rr.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new wn,n=new it;return n.setPrecisionModel(t),e.setSegmentIntersector(new Jn(n)),e},rr.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var r=new Rn(n,this._bufParams),i=new jn(t,e,r).getCurves();if(i.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(i,n),this._graph=new Ve(new Xn),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Xe(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},rr.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var r=n.getNodedSubstrings().iterator();r.hasNext();){var i=r.next(),o=i.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=i.getData(),a=new nr(i.getCoordinates(),new Ne(s));this.insertUniqueEdge(a)}}},rr.prototype.setNoder=function(t){this._workingNoder=t},rr.prototype.interfaces_=function(){return[]},rr.prototype.getClass=function(){return rr},rr.depthDelta=function(t){var e=t.getLocation(0,Pe.LEFT),n=t.getLocation(0,Pe.RIGHT);return e===M.INTERIOR&&n===M.EXTERIOR?1:e===M.EXTERIOR&&n===M.INTERIOR?-1:0},rr.convertSegStrings=function(t){for(var e=new me,n=new Et;t.hasNext();){var r=t.next(),i=e.createLineString(r.getCoordinates());n.add(i)}return e.buildGeometry(n)};var ir=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=r,this._offsetX=i,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};ir.prototype.rescale=function(){if(T(arguments[0],bt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],r=0;r<n.length;r++)n[r].x=n[r].x/this._scaleFactor+this._offsetX,n[r].y=n[r].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&V.out.println(n)}},ir.prototype.scale=function(){if(T(arguments[0],bt)){for(var t=arguments[0],e=new Et,n=t.iterator();n.hasNext();){var r=n.next();e.add(new dn(this.scale(r.getCoordinates()),r.getData()))}return e}if(arguments[0]instanceof Array){for(var i=arguments[0],o=new Array(i.length).fill(null),s=0;s<i.length;s++)o[s]=new S(Math.round((i[s].x-this._offsetX)*this._scaleFactor),Math.round((i[s].y-this._offsetY)*this._scaleFactor),i[s].z);return Ct.removeRepeatedPoints(o)}},ir.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},ir.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},ir.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},ir.prototype.interfaces_=function(){return[bn]},ir.prototype.getClass=function(){return ir};var or=function(){this._li=new it,this._segStrings=null;var t=arguments[0];this._segStrings=t},sr={fact:{configurable:!0}};or.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],r=arguments[1].iterator();r.hasNext();)for(var i=r.next().getCoordinates(),o=1;o<i.length-1;o++)if(i[o].equals(n))throw new $("found endpt/interior pt intersection at index "+o+" :pt "+n)},or.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var r=n.next();this.checkInteriorIntersections(e,r)}else if(2===arguments.length)for(var i=arguments[0],o=arguments[1],s=i.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var l=0;l<a.length-1;l++)this.checkInteriorIntersections(i,u,o,l);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],p=arguments[3];if(c===f&&h===p)return null;var d=c.getCoordinates()[h],y=c.getCoordinates()[h+1],g=f.getCoordinates()[p],m=f.getCoordinates()[p+1];if(this._li.computeIntersection(d,y,g,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,y)||this.hasInteriorIntersection(this._li,g,m)))throw new $("found non-noded intersection at "+d+"-"+y+" and "+g+"-"+m)}},or.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},or.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),r=0;r<n.length-2;r++)this.checkCollapse(n[r],n[r+1],n[r+2])},or.prototype.hasInteriorIntersection=function(t,e,n){for(var r=0;r<t.getIntersectionNum();r++){var i=t.getIntersection(r);if(!i.equals(e)&&!i.equals(n))return!0}return!1},or.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new $("found non-noded collapse at "+or.fact.createLineString([t,e,n]))},or.prototype.interfaces_=function(){return[]},or.prototype.getClass=function(){return or},sr.fact.get=function(){return new me},Object.defineProperties(or,sr);var ar=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new v("Scale factor must be non-zero");1!==e&&(this._pt=new S(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new S,this._p1Scaled=new S),this.initCorners(this._pt)},ur={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};ar.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),r=Math.max(t.x,e.x),i=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>r||this._maxy<i||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return et.isTrue(!(s&&a),"Found bad envelope test"),a},ar.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new S(this._maxx,this._maxy),this._corner[1]=new S(this._minx,this._maxy),this._corner[2]=new S(this._minx,this._miny),this._corner[3]=new S(this._maxx,this._miny)},ar.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},ar.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},ar.prototype.getCoordinate=function(){return this._originalPt},ar.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},ar.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=ar.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new Y(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},ar.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},ar.prototype.intersectsToleranceSquare=function(t,e){var n=!1,r=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(r=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&r||t.equals(this._pt)||e.equals(this._pt)))))},ar.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),r=t.getCoordinate(e+1);return!!this.intersects(n,r)&&(t.addIntersection(this.getCoordinate(),e),!0)},ar.prototype.interfaces_=function(){return[]},ar.prototype.getClass=function(){return ar},ur.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(ar,ur);var lr=function(){this.tempEnv1=new Y,this.selectedSegment=new yn};lr.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[1];arguments[0].getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}},lr.prototype.interfaces_=function(){return[]},lr.prototype.getClass=function(){return lr};var cr=function(){this._index=null;var t=arguments[0];this._index=t},hr={HotPixelSnapAction:{configurable:!0}};cr.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2],i=e.getSafeEnvelope(),o=new fr(e,n,r);return this._index.query(i,{interfaces_:function(){return[Je]},visitItem:function(t){t.select(i,o)}}),o.isNodeAdded()}},cr.prototype.interfaces_=function(){return[]},cr.prototype.getClass=function(){return cr},hr.HotPixelSnapAction.get=function(){return fr},Object.defineProperties(cr,hr);var fr=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],r=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[1],n=arguments[0].getContext();if(null!==this._parentEdge&&n===this._parentEdge&&e===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(n,e)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(lr),pr=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new Et};pr.prototype.processIntersections=function(t,e,n,r){if(t===n&&e===r)return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];if(this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var u=0;u<this._li.getIntersectionNum();u++)this._interiorIntersections.add(this._li.getIntersection(u));t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)}},pr.prototype.isDone=function(){return!1},pr.prototype.getInteriorIntersections=function(){return this._interiorIntersections},pr.prototype.interfaces_=function(){return[Wn]},pr.prototype.getClass=function(){return pr};var dr=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new it,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};dr.prototype.checkCorrectness=function(t){var e=dn.getNodedSubstrings(t),n=new or(e);try{n.checkValid()}catch(t){if(!(t instanceof q))throw t;t.printStackTrace()}},dr.prototype.getNodedSubstrings=function(){return dn.getNodedSubstrings(this._nodedSegStrings)},dr.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},dr.prototype.findInteriorIntersections=function(t,e){var n=new pr(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},dr.prototype.computeVertexSnaps=function(){if(T(arguments[0],bt))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof dn)for(var n=arguments[0],r=n.getCoordinates(),i=0;i<r.length;i++){var o=new ar(r[i],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,i)&&n.addIntersection(r[i],i)}},dr.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new wn,this._pointSnapper=new cr(this._noder.getIndex()),this.snapRound(t,this._li)},dr.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=new ar(n,this._scaleFactor,this._li);this._pointSnapper.snap(r)}},dr.prototype.interfaces_=function(){return[bn]},dr.prototype.getClass=function(){return dr};var yr=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Sn,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},gr={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};yr.prototype.bufferFixedPrecision=function(t){var e=new ir(new dr(new pe(1)),t.getScale()),n=new rr(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},yr.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=yr.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof Me))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],r=yr.precisionScaleFactor(this._argGeom,this._distance,n),i=new pe(r);this.bufferFixedPrecision(i)}},yr.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===pe.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},yr.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},yr.prototype.bufferOriginalPrecision=function(){try{var t=new rr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof $))throw t;this._saveException=t}},yr.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},yr.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},yr.prototype.interfaces_=function(){return[]},yr.prototype.getClass=function(){return yr},yr.bufferOp=function(){if(2===arguments.length){var t=arguments[1];return new yr(arguments[0]).getResultGeometry(t)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var e=arguments[1],n=arguments[2],r=new yr(arguments[0]);return r.setQuadrantSegments(n),r.getResultGeometry(e)}if(arguments[2]instanceof Sn&&arguments[0]instanceof ct&&"number"==typeof arguments[1]){var i=arguments[1];return new yr(arguments[0],arguments[2]).getResultGeometry(i)}}else if(4===arguments.length){var o=arguments[1],s=arguments[2],a=arguments[3],u=new yr(arguments[0]);return u.setQuadrantSegments(s),u.setEndCapStyle(a),u.getResultGeometry(o)}},yr.precisionScaleFactor=function(t,e,n){var r=t.getEnvelopeInternal(),i=L.max(Math.abs(r.getMaxX()),Math.abs(r.getMaxY()),Math.abs(r.getMinX()),Math.abs(r.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(i)/Math.log(10)+1);return Math.pow(10,o)},gr.CAP_ROUND.get=function(){return Sn.CAP_ROUND},gr.CAP_BUTT.get=function(){return Sn.CAP_FLAT},gr.CAP_FLAT.get=function(){return Sn.CAP_FLAT},gr.CAP_SQUARE.get=function(){return Sn.CAP_SQUARE},gr.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(yr,gr);var mr=function(){this._pt=[new S,new S],this._distance=_.NaN,this._isNull=!0};mr.prototype.getCoordinates=function(){return this._pt},mr.prototype.getCoordinate=function(t){return this._pt[t]},mr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},mr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},mr.prototype.getDistance=function(){return this._distance},mr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},mr.prototype.interfaces_=function(){return[]},mr.prototype.getClass=function(){return mr};var vr=function(){};vr.prototype.interfaces_=function(){return[]},vr.prototype.getClass=function(){return vr},vr.computeDistance=function(){if(arguments[2]instanceof mr&&arguments[0]instanceof Jt&&arguments[1]instanceof S)for(var t=arguments[1],e=arguments[2],n=arguments[0].getCoordinates(),r=new yn,i=0;i<n.length-1;i++){r.setCoordinates(n[i],n[i+1]);var o=r.closestPoint(t);e.setMinimum(o,t)}else if(arguments[2]instanceof mr&&arguments[0]instanceof $t&&arguments[1]instanceof S){var s=arguments[0],a=arguments[1],u=arguments[2];vr.computeDistance(s.getExteriorRing(),a,u);for(var l=0;l<s.getNumInteriorRing();l++)vr.computeDistance(s.getInteriorRingN(l),a,u)}else if(arguments[2]instanceof mr&&arguments[0]instanceof ct&&arguments[1]instanceof S){var c=arguments[0],h=arguments[1],f=arguments[2];if(c instanceof Jt)vr.computeDistance(c,h,f);else if(c instanceof $t)vr.computeDistance(c,h,f);else if(c instanceof qt)for(var p=c,d=0;d<p.getNumGeometries();d++){var y=p.getGeometryN(d);vr.computeDistance(y,h,f)}else f.setMinimum(c.getCoordinate(),h)}else if(arguments[2]instanceof mr&&arguments[0]instanceof yn&&arguments[1]instanceof S){var g=arguments[1],m=arguments[2],v=arguments[0].closestPoint(g);m.setMinimum(v,g)}};var _r=function(t){this._maxPtDist=new mr,this._inputGeom=t||null},br={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};_r.prototype.computeMaxMidpointDistance=function(t){var e=new wr(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},_r.prototype.computeMaxVertexDistance=function(t){var e=new xr(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},_r.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},_r.prototype.getDistancePoints=function(){return this._maxPtDist},_r.prototype.interfaces_=function(){return[]},_r.prototype.getClass=function(){return _r},br.MaxPointDistanceFilter.get=function(){return xr},br.MaxMidpointDistanceFilter.get=function(){return wr},Object.defineProperties(_r,br);var xr=function(t){this._maxPtDist=new mr,this._minPtDist=new mr,this._geom=t||null};xr.prototype.filter=function(t){this._minPtDist.initialize(),vr.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},xr.prototype.getMaxPointDistance=function(){return this._maxPtDist},xr.prototype.interfaces_=function(){return[pt]},xr.prototype.getClass=function(){return xr};var wr=function(t){this._maxPtDist=new mr,this._minPtDist=new mr,this._geom=t||null};wr.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=new S((n.x+r.x)/2,(n.y+r.y)/2);this._minPtDist.initialize(),vr.computeDistance(this._geom,i,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wr.prototype.isDone=function(){return!1},wr.prototype.isGeometryChanged=function(){return!1},wr.prototype.getMaxPointDistance=function(){return this._maxPtDist},wr.prototype.interfaces_=function(){return[Gt]},wr.prototype.getClass=function(){return wr};var Er=function(t){this._comps=t||null};Er.prototype.filter=function(t){t instanceof $t&&this._comps.add(t)},Er.prototype.interfaces_=function(){return[zt]},Er.prototype.getClass=function(){return Er},Er.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return Er.getPolygons(t,new Et)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof $t?n.add(e):e instanceof qt&&e.apply(new Er(n)),n}};var Sr=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};Sr.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof ee){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Jt&&this._lines.add(t)},Sr.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},Sr.prototype.interfaces_=function(){return[lt]},Sr.prototype.getClass=function(){return Sr},Sr.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Sr.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Sr.getLines(e,n))}},Sr.getLines=function(){if(1===arguments.length){var t=arguments[0];return Sr.getLines(t,!1)}if(2===arguments.length){if(T(arguments[0],bt)&&T(arguments[1],bt)){for(var e=arguments[1],n=arguments[0].iterator();n.hasNext();){var r=n.next();Sr.getLines(r,e)}return e}if(arguments[0]instanceof ct&&"boolean"==typeof arguments[1]){var i=arguments[0],o=arguments[1],s=new Et;return i.apply(new Sr(s,o)),s}if(arguments[0]instanceof ct&&T(arguments[1],bt)){var a=arguments[0],u=arguments[1];return a instanceof Jt?u.add(a):a.apply(new Sr(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&T(arguments[0],bt)&&T(arguments[1],bt)){for(var l=arguments[1],c=arguments[2],h=arguments[0].iterator();h.hasNext();){var f=h.next();Sr.getLines(f,l,c)}return l}if("boolean"==typeof arguments[2]&&arguments[0]instanceof ct&&T(arguments[1],bt)){var p=arguments[1],d=arguments[2];return arguments[0].apply(new Sr(p,d)),p}}};var Pr=function(){if(this._boundaryRule=dt.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new v("Rule must be non-null");this._boundaryRule=t}};Pr.prototype.locateInternal=function(){if(arguments[0]instanceof S&&arguments[1]instanceof $t){var t=arguments[0],e=arguments[1];if(e.isEmpty())return M.EXTERIOR;var n=e.getExteriorRing(),r=this.locateInPolygonRing(t,n);if(r===M.EXTERIOR)return M.EXTERIOR;if(r===M.BOUNDARY)return M.BOUNDARY;for(var i=0;i<e.getNumInteriorRing();i++){var o=e.getInteriorRingN(i),s=this.locateInPolygonRing(t,o);if(s===M.INTERIOR)return M.EXTERIOR;if(s===M.BOUNDARY)return M.BOUNDARY}return M.INTERIOR}if(arguments[0]instanceof S&&arguments[1]instanceof Jt){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return M.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?at.isOnLine(a,l)?M.INTERIOR:M.EXTERIOR:M.BOUNDARY}if(arguments[0]instanceof S&&arguments[1]instanceof Zt){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?M.INTERIOR:M.EXTERIOR}},Pr.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?at.locatePointInRing(t,e.getCoordinates()):M.EXTERIOR},Pr.prototype.intersects=function(t,e){return this.locate(t,e)!==M.EXTERIOR},Pr.prototype.updateLocationInfo=function(t){t===M.INTERIOR&&(this._isIn=!0),t===M.BOUNDARY&&this._numBoundaries++},Pr.prototype.computeLocation=function(t,e){if(e instanceof Zt&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Jt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof $t)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Ut)for(var n=e,r=0;r<n.getNumGeometries();r++){var i=n.getGeometryN(r);this.updateLocationInfo(this.locateInternal(t,i))}else if(e instanceof ne)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof qt)for(var u=new Gn(e);u.hasNext();){var l=u.next();l!==e&&this.computeLocation(t,l)}},Pr.prototype.locate=function(t,e){return e.isEmpty()?M.EXTERIOR:e instanceof Jt||e instanceof $t?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?M.BOUNDARY:this._numBoundaries>0||this._isIn?M.INTERIOR:M.EXTERIOR)},Pr.prototype.interfaces_=function(){return[]},Pr.prototype.getClass=function(){return Pr};var Cr=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length)t.call(this,arguments[0],t.INSIDE_AREA,arguments[1]);else if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];this._component=e,this._segIndex=n,this._pt=r}},Ir={INSIDE_AREA:{configurable:!0}};Cr.prototype.isInsideArea=function(){return this._segIndex===Cr.INSIDE_AREA},Cr.prototype.getCoordinate=function(){return this._pt},Cr.prototype.getGeometryComponent=function(){return this._component},Cr.prototype.getSegmentIndex=function(){return this._segIndex},Cr.prototype.interfaces_=function(){return[]},Cr.prototype.getClass=function(){return Cr},Ir.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Cr,Ir);var Mr=function(t){this._pts=t||null};Mr.prototype.filter=function(t){t instanceof Zt&&this._pts.add(t)},Mr.prototype.interfaces_=function(){return[zt]},Mr.prototype.getClass=function(){return Mr},Mr.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Zt?$e.singletonList(t):Mr.getPoints(t,new Et)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Zt?n.add(e):e instanceof qt&&e.apply(new Mr(n)),n}};var Or=function(){this._locations=null;var t=arguments[0];this._locations=t};Or.prototype.filter=function(t){(t instanceof Zt||t instanceof Jt||t instanceof $t)&&this._locations.add(new Cr(t,0,t.getCoordinate()))},Or.prototype.interfaces_=function(){return[zt]},Or.prototype.getClass=function(){return Or},Or.getLocations=function(t){var e=new Et;return t.apply(new Or(e)),e};var Tr=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Pr,this._minDistanceLocation=null,this._minDistance=_.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=r,this._terminateDistance=i}};Tr.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=1-e,i=Er.getPolygons(this._geom[e]);if(i.size()>0){var o=Or.getLocations(this._geom[r]);if(this.computeContainmentDistance(o,i,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[r]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&T(arguments[0],wt)&&T(arguments[1],wt)){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=0;l<s.size();l++)for(var c=s.get(l),h=0;h<a.size();h++)if(this.computeContainmentDistance(c,a.get(h),u),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Cr&&arguments[1]instanceof $t){var f=arguments[0],p=arguments[1],d=arguments[2],y=f.getCoordinate();if(M.EXTERIOR!==this._ptLocator.locate(y,p))return this._minDistance=0,d[0]=f,d[1]=new Cr(p,y),null}},Tr.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Tr.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=Sr.getLines(this._geom[0]),n=Sr.getLines(this._geom[1]),r=Mr.getPoints(this._geom[0]),i=Mr.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,i,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,r,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(r,i,t),void this.updateMinDistance(t,!1))))},Tr.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Tr.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},Tr.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Tr.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Jt&&arguments[1]instanceof Zt){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var r=t.getCoordinates(),i=e.getCoordinate(),o=0;o<r.length-1;o++){var s=at.distancePointLine(i,r[o],r[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new yn(r[o],r[o+1]).closestPoint(i);n[0]=new Cr(t,o,a),n[1]=new Cr(e,0,i)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Jt&&arguments[1]instanceof Jt){var u=arguments[0],l=arguments[1],c=arguments[2];if(u.getEnvelopeInternal().distance(l.getEnvelopeInternal())>this._minDistance)return null;for(var h=u.getCoordinates(),f=l.getCoordinates(),p=0;p<h.length-1;p++)for(var d=0;d<f.length-1;d++){var y=at.distanceLineLine(h[p],h[p+1],f[d],f[d+1]);if(y<this._minDistance){this._minDistance=y;var g=new yn(h[p],h[p+1]),m=new yn(f[d],f[d+1]),v=g.closestPoints(m);c[0]=new Cr(u,p,v[0]),c[1]=new Cr(l,d,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},Tr.prototype.computeMinDistancePoints=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o),a=i.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new Cr(i,0,i.getCoordinate()),n[1]=new Cr(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},Tr.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new v("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Tr.prototype.computeMinDistanceLines=function(t,e,n){for(var r=0;r<t.size();r++)for(var i=t.get(r),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(i,s,n),this._minDistance<=this._terminateDistance)return null}},Tr.prototype.interfaces_=function(){return[]},Tr.prototype.getClass=function(){return Tr},Tr.distance=function(t,e){return new Tr(t,e).distance()},Tr.isWithinDistance=function(t,e,n){return new Tr(t,e,n).distance()<=n},Tr.nearestPoints=function(t,e){return new Tr(t,e).nearestPoints()};var Lr=function(){this._pt=[new S,new S],this._distance=_.NaN,this._isNull=!0};Lr.prototype.getCoordinates=function(){return this._pt},Lr.prototype.getCoordinate=function(t){return this._pt[t]},Lr.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r<this._distance&&this.initialize(e,n,r)}},Lr.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(r),this._distance=i,this._isNull=!1}},Lr.prototype.toString=function(){return Q.toLineString(this._pt[0],this._pt[1])},Lr.prototype.getDistance=function(){return this._distance},Lr.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var r=e.distance(n);r>this._distance&&this.initialize(e,n,r)}},Lr.prototype.interfaces_=function(){return[]},Lr.prototype.getClass=function(){return Lr};var Nr=function(){};Nr.prototype.interfaces_=function(){return[]},Nr.prototype.getClass=function(){return Nr},Nr.computeDistance=function(){if(arguments[2]instanceof Lr&&arguments[0]instanceof Jt&&arguments[1]instanceof S)for(var t=arguments[0],e=arguments[1],n=arguments[2],r=new yn,i=t.getCoordinates(),o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Lr&&arguments[0]instanceof $t&&arguments[1]instanceof S){var a=arguments[0],u=arguments[1],l=arguments[2];Nr.computeDistance(a.getExteriorRing(),u,l);for(var c=0;c<a.getNumInteriorRing();c++)Nr.computeDistance(a.getInteriorRingN(c),u,l)}else if(arguments[2]instanceof Lr&&arguments[0]instanceof ct&&arguments[1]instanceof S){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof Jt)Nr.computeDistance(h,f,p);else if(h instanceof $t)Nr.computeDistance(h,f,p);else if(h instanceof qt)for(var d=h,y=0;y<d.getNumGeometries();y++){var g=d.getGeometryN(y);Nr.computeDistance(g,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof Lr&&arguments[0]instanceof yn&&arguments[1]instanceof S){var m=arguments[1],v=arguments[2],_=arguments[0].closestPoint(m);v.setMinimum(_,m)}};var Ar=function(){this._g0=null,this._g1=null,this._ptDist=new Lr,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},Rr={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Ar.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Ar.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new v("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},Ar.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},Ar.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Ar.prototype.computeOrientedDistance=function(t,e,n){var r=new Dr(e);if(t.apply(r),n.setMaximum(r.getMaxPointDistance()),this._densifyFrac>0){var i=new kr(e,this._densifyFrac);t.apply(i),n.setMaximum(i.getMaxPointDistance())}},Ar.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Ar.prototype.interfaces_=function(){return[]},Ar.prototype.getClass=function(){return Ar},Ar.distance=function(){if(2===arguments.length)return new Ar(arguments[0],arguments[1]).distance();if(3===arguments.length){var t=arguments[2],e=new Ar(arguments[0],arguments[1]);return e.setDensifyFraction(t),e.distance()}},Rr.MaxPointDistanceFilter.get=function(){return Dr},Rr.MaxDensifiedByFractionDistanceFilter.get=function(){return kr},Object.defineProperties(Ar,Rr);var Dr=function(){this._maxPtDist=new Lr,this._minPtDist=new Lr,this._euclideanDist=new Nr,this._geom=null;var t=arguments[0];this._geom=t};Dr.prototype.filter=function(t){this._minPtDist.initialize(),Nr.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Dr.prototype.getMaxPointDistance=function(){return this._maxPtDist},Dr.prototype.interfaces_=function(){return[pt]},Dr.prototype.getClass=function(){return Dr};var kr=function(){this._maxPtDist=new Lr,this._minPtDist=new Lr,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};kr.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),r=t.getCoordinate(e),i=(r.x-n.x)/this._numSubSegs,o=(r.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*i,u=n.y+s*o,l=new S(a,u);this._minPtDist.initialize(),Nr.computeDistance(this._geom,l,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},kr.prototype.isDone=function(){return!1},kr.prototype.isGeometryChanged=function(){return!1},kr.prototype.getMaxPointDistance=function(){return this._maxPtDist},kr.prototype.interfaces_=function(){return[Gt]},kr.prototype.getClass=function(){return kr};var Fr=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},Br={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Fr.prototype.checkMaximumDistance=function(t,e,n){var r=new Ar(e,t);if(r.setDensifyFraction(.25),this._maxDistanceFound=r.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var i=r.getCoordinates();this._errorLocation=i[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Q.toLineString(i[0],i[1])+")"}},Fr.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=Fr.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Fr.VERBOSE&&V.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Fr.prototype.checkNegativeValid=function(){if(!(this._input instanceof $t||this._input instanceof ne||this._input instanceof qt))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},Fr.prototype.getErrorIndicator=function(){return this._errorIndicator},Fr.prototype.checkMinimumDistance=function(t,e,n){var r=new Tr(t,e,n);if(this._minDistanceFound=r.distance(),this._minDistanceFound<n){this._isValid=!1;var i=r.nearestPoints();this._errorLocation=r.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(i),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Q.toLineString(i[0],i[1])+" )"}},Fr.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},Fr.prototype.getErrorLocation=function(){return this._errorLocation},Fr.prototype.getPolygonLines=function(t){for(var e=new Et,n=new Sr(e),r=Er.getPolygons(t).iterator();r.hasNext();)r.next().apply(n);return t.getFactory().buildGeometry(e)},Fr.prototype.getErrorMessage=function(){return this._errMsg},Fr.prototype.interfaces_=function(){return[]},Fr.prototype.getClass=function(){return Fr},Br.VERBOSE.get=function(){return!1},Br.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(Fr,Br);var jr=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},zr={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};jr.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},jr.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*jr.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new Y(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new Y(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},jr.prototype.checkDistance=function(){var t=new Fr(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},jr.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},jr.prototype.checkPolygonal=function(){this._result instanceof $t||this._result instanceof ne||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},jr.prototype.getErrorIndicator=function(){return this._errorIndicator},jr.prototype.getErrorLocation=function(){return this._errorLocation},jr.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},jr.prototype.report=function(t){if(!jr.VERBOSE)return null;V.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},jr.prototype.getErrorMessage=function(){return this._errorMsg},jr.prototype.interfaces_=function(){return[]},jr.prototype.getClass=function(){return jr},jr.isValidMsg=function(t,e,n){var r=new jr(t,e,n);return r.isValid()?null:r.getErrorMessage()},jr.isValid=function(t,e,n){return!!new jr(t,e,n).isValid()},zr.VERBOSE.get=function(){return!1},zr.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(jr,zr);var Gr=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Gr.prototype.getCoordinates=function(){return this._pts},Gr.prototype.size=function(){return this._pts.length},Gr.prototype.getCoordinate=function(t){return this._pts[t]},Gr.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Gr.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:hn.octant(this.getCoordinate(t),this.getCoordinate(t+1))},Gr.prototype.setData=function(t){this._data=t},Gr.prototype.getData=function(){return this._data},Gr.prototype.toString=function(){return Q.toLineString(new ue(this._pts))},Gr.prototype.interfaces_=function(){return[fn]},Gr.prototype.getClass=function(){return Gr};var qr=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Et,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};qr.prototype.getInteriorIntersection=function(){return this._interiorIntersection},qr.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},qr.prototype.getIntersectionSegments=function(){return this._intSegments},qr.prototype.count=function(){return this._intersectionCount},qr.prototype.getIntersections=function(){return this._intersections},qr.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},qr.prototype.setKeepIntersections=function(t){this._keepIntersections=t},qr.prototype.processIntersections=function(t,e,n,r){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===r)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,r))return null;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=i,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},qr.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},qr.prototype.hasIntersection=function(){return null!==this._interiorIntersection},qr.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},qr.prototype.interfaces_=function(){return[Wn]},qr.prototype.getClass=function(){return qr},qr.createAllIntersectionsFinder=function(t){var e=new qr(t);return e.setFindAllIntersections(!0),e},qr.createAnyIntersectionFinder=function(t){return new qr(t)},qr.createIntersectionCounter=function(t){var e=new qr(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var Ur=function(){this._li=new it,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};Ur.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},Ur.prototype.getIntersections=function(){return this._segInt.getIntersections()},Ur.prototype.isValid=function(){return this.execute(),this._isValid},Ur.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},Ur.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new qr(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new wn;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},Ur.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Me(this.getErrorMessage(),this._segInt.getInteriorIntersection())},Ur.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Q.toLineString(t[0],t[1])+" and "+Q.toLineString(t[2],t[3])},Ur.prototype.interfaces_=function(){return[]},Ur.prototype.getClass=function(){return Ur},Ur.computeIntersections=function(t){var e=new Ur(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Vr=function t(){this._nv=null;var e=arguments[0];this._nv=new Ur(t.toSegmentStrings(e))};Vr.prototype.checkValid=function(){this._nv.checkValid()},Vr.prototype.interfaces_=function(){return[]},Vr.prototype.getClass=function(){return Vr},Vr.toSegmentStrings=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var r=n.next();e.add(new Gr(r.getCoordinates(),r))}return e},Vr.checkValid=function(t){new Vr(t).checkValid()};var Xr=function(t){this._mapOp=t};Xr.prototype.map=function(t){for(var e=new Et,n=0;n<t.getNumGeometries();n++){var r=this._mapOp.map(t.getGeometryN(n));r.isEmpty()||e.add(r)}return t.getFactory().createGeometryCollection(me.toGeometryArray(e))},Xr.prototype.interfaces_=function(){return[]},Xr.prototype.getClass=function(){return Xr},Xr.map=function(t,e){return new Xr(e).map(t)};var Yr=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Et,this._resultLineList=new Et;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Yr.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Yr.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Yr.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Yr.prototype.collectLineEdge=function(t,e,n){var r=t.getLabel(),i=t.getEdge();t.isLineEdge()&&(t.isVisited()||!Ci.isResultOfOp(r,e)||i.isCovered()||(n.add(i),t.setVisitedEdge(!0)))},Yr.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),r=n.getEdge();if(n.isLineEdge()&&!r.isCoveredSet()){var i=this._op.isCoveredByA(n.getCoordinate());r.setCovered(i)}}},Yr.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),r=n.getLabel();n.isIsolated()&&(r.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Yr.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),r=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(r),n.setInResult(!0)}},Yr.prototype.collectBoundaryTouchEdge=function(t,e,n){var r=t.getLabel();return t.isLineEdge()||t.isVisited()||t.isInteriorAreaEdge()||t.getEdge().isInResult()?null:(et.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(Ci.isResultOfOp(r,e)&&e===Ci.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Yr.prototype.interfaces_=function(){return[]},Yr.prototype.getClass=function(){return Yr};var Hr=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Et;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Hr.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Hr.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==Ci.INTERSECTION)){var r=n.getLabel();Ci.isResultOfOp(r,t)&&this.filterCoveredNodeToPoint(n)}}},Hr.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Hr.prototype.interfaces_=function(){return[]},Hr.prototype.getClass=function(){return Hr};var Wr=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Wr.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Wr.prototype.transformPolygon=function(t,e){var n=!0,r=this.transformLinearRing(t.getExteriorRing(),t);null!==r&&r instanceof ee&&!r.isEmpty()||(n=!1);for(var i=new Et,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof ee||(n=!1),i.add(s))}if(n)return this._factory.createPolygon(r,i.toArray([]));var a=new Et;return null!==r&&a.add(r),a.addAll(i),this._factory.buildGeometry(a)},Wr.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Wr.prototype.getInputGeometry=function(){return this._inputGeom},Wr.prototype.transformMultiLineString=function(t,e){for(var n=new Et,r=0;r<t.getNumGeometries();r++){var i=this.transformLineString(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Wr.prototype.transformCoordinates=function(t,e){return this.copy(t)},Wr.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Wr.prototype.transformMultiPoint=function(t,e){for(var n=new Et,r=0;r<t.getNumGeometries();r++){var i=this.transformPoint(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Wr.prototype.transformMultiPolygon=function(t,e){for(var n=new Et,r=0;r<t.getNumGeometries();r++){var i=this.transformPolygon(t.getGeometryN(r),t);null!==i&&(i.isEmpty()||n.add(i))}return this._factory.buildGeometry(n)},Wr.prototype.copy=function(t){return t.copy()},Wr.prototype.transformGeometryCollection=function(t,e){for(var n=new Et,r=0;r<t.getNumGeometries();r++){var i=this.transform(t.getGeometryN(r));null!==i&&(this._pruneEmptyGeometry&&i.isEmpty()||n.add(i))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(me.toGeometryArray(n)):this._factory.buildGeometry(n)},Wr.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Zt)return this.transformPoint(t,null);if(t instanceof te)return this.transformMultiPoint(t,null);if(t instanceof ee)return this.transformLinearRing(t,null);if(t instanceof Jt)return this.transformLineString(t,null);if(t instanceof Ut)return this.transformMultiLineString(t,null);if(t instanceof $t)return this.transformPolygon(t,null);if(t instanceof ne)return this.transformMultiPolygon(t,null);if(t instanceof qt)return this.transformGeometryCollection(t,null);throw new v("Unknown Geometry subtype: "+t.getClass().getName())},Wr.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var r=n.size();return r>0&&r<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Wr.prototype.interfaces_=function(){return[]},Wr.prototype.getClass=function(){return Wr};var Jr=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new yn,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Jt&&"number"==typeof arguments[1]){var e=arguments[1];t.call(this,arguments[0].getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],r=arguments[1];this._srcPts=n,this._isClosed=t.isClosed(n),this._snapTolerance=r}};Jr.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),r=0;r<n;r++){var i=t.get(r),o=this.findSnapForVertex(i,e);null!==o&&(t.set(r,new S(o)),0===r&&this._isClosed&&t.set(t.size()-1,new S(o)))}},Jr.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Jr.prototype.snapTo=function(t){var e=new Pt(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Jr.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var r=0;r<n;r++){var i=e[r],o=this.findSegmentIndexToSnap(i,t);o>=0&&t.add(o+1,new S(i),!1)}},Jr.prototype.findSegmentIndexToSnap=function(t,e){for(var n=_.MAX_VALUE,r=-1,i=0;i<e.size()-1;i++){if(this._seg.p0=e.get(i),this._seg.p1=e.get(i+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,r=i)}return r},Jr.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Jr.prototype.interfaces_=function(){return[]},Jr.prototype.getClass=function(){return Jr},Jr.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Kr=function(t){this._srcGeom=t||null},Zr={SNAP_PRECISION_FACTOR:{configurable:!0}};Kr.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Qr(e,n).transform(this._srcGeom)},Kr.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),r=new Qr(t,n,!0).transform(this._srcGeom),i=r;return e&&T(i,Qt)&&(i=r.buffer(0)),i},Kr.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Kr.prototype.extractTargetCoordinates=function(t){for(var e=new p,n=t.getCoordinates(),r=0;r<n.length;r++)e.add(n[r]);return e.toArray(new Array(0).fill(null))},Kr.prototype.computeMinimumSegmentLength=function(t){for(var e=_.MAX_VALUE,n=0;n<t.length-1;n++){var r=t[n].distance(t[n+1]);r<e&&(e=r)}return e},Kr.prototype.interfaces_=function(){return[]},Kr.prototype.getClass=function(){return Kr},Kr.snap=function(t,e,n){var r=new Array(2).fill(null),i=new Kr(t);r[0]=i.snapTo(e,n);var o=new Kr(e);return r[1]=o.snapTo(r[0],n),r},Kr.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Kr.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===pe.FIXED){var r=1/n.getScale()*2/1.415;r>e&&(e=r)}return e}if(2===arguments.length){var i=arguments[0],o=arguments[1];return Math.min(Kr.computeOverlaySnapTolerance(i),Kr.computeOverlaySnapTolerance(o))}},Kr.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Kr.SNAP_PRECISION_FACTOR},Kr.snapToSelf=function(t,e,n){return new Kr(t).snapToSelf(e,n)},Zr.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Kr,Zr);var Qr=function(t){function e(e,n,r){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Jr(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),r=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wr),$r=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};$r.prototype.getCommon=function(){return _.longBitsToDouble(this._commonBits)},$r.prototype.add=function(t){var e=_.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=$r.signExpBits(this._commonBits),this._isFirst=!1,null):$r.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=$r.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=$r.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},$r.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=_.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+_.toBinaryString(t),r=n.substring(n.length-64);return r.substring(0,1)+"  "+r.substring(1,12)+"(exp) "+r.substring(12)+" [ "+e+" ]"}},$r.prototype.interfaces_=function(){return[]},$r.prototype.getClass=function(){return $r},$r.getBit=function(t,e){return 0!=(t&1<<e)?1:0},$r.signExpBits=function(t){return t>>52},$r.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},$r.numCommonMostSigMantissaBits=function(t,e){for(var n=0,r=52;r>=0;r--){if($r.getBit(t,r)!==$r.getBit(e,r))return n;n++}return 52};var ti=function(){this._commonCoord=null,this._ccFilter=new ni},ei={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};ti.prototype.addCommonBits=function(t){var e=new ri(this._commonCoord);t.apply(e),t.geometryChanged()},ti.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new S(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new ri(e);return t.apply(n),t.geometryChanged(),t},ti.prototype.getCommonCoordinate=function(){return this._commonCoord},ti.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},ti.prototype.interfaces_=function(){return[]},ti.prototype.getClass=function(){return ti},ei.CommonCoordinateFilter.get=function(){return ni},ei.Translater.get=function(){return ri},Object.defineProperties(ti,ei);var ni=function(){this._commonBitsX=new $r,this._commonBitsY=new $r};ni.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},ni.prototype.getCommonCoordinate=function(){return new S(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},ni.prototype.interfaces_=function(){return[pt]},ni.prototype.getClass=function(){return ni};var ri=function(){this.trans=null;var t=arguments[0];this.trans=t};ri.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,r=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,r)},ri.prototype.isDone=function(){return!1},ri.prototype.isGeometryChanged=function(){return!0},ri.prototype.interfaces_=function(){return[Gt]},ri.prototype.getClass=function(){return ri};var ii=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};ii.prototype.selfSnap=function(t){return new Kr(t).snapTo(t,this._snapTolerance)},ii.prototype.removeCommonBits=function(t){this._cbr=new ti,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},ii.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},ii.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=Ci.overlayOp(e[0],e[1],t);return this.prepareResult(n)},ii.prototype.checkValid=function(t){t.isValid()||V.out.println("Snapped geometry is invalid")},ii.prototype.computeSnapTolerance=function(){this._snapTolerance=Kr.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ii.prototype.snap=function(t){var e=this.removeCommonBits(t);return Kr.snap(e[0],e[1],this._snapTolerance)},ii.prototype.interfaces_=function(){return[]},ii.prototype.getClass=function(){return ii},ii.overlayOp=function(t,e,n){return new ii(t,e).getResultGeometry(n)},ii.union=function(t,e){return ii.overlayOp(t,e,Ci.UNION)},ii.intersection=function(t,e){return ii.overlayOp(t,e,Ci.INTERSECTION)},ii.symDifference=function(t,e){return ii.overlayOp(t,e,Ci.SYMDIFFERENCE)},ii.difference=function(t,e){return ii.overlayOp(t,e,Ci.DIFFERENCE)};var oi=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};oi.prototype.getResultGeometry=function(t){var e=null,n=!1,r=null;try{e=Ci.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof $))throw t;r=t}if(!n)try{e=ii.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof $?r:t}return e},oi.prototype.interfaces_=function(){return[]},oi.prototype.getClass=function(){return oi},oi.overlayOp=function(t,e,n){return new oi(t,e).getResultGeometry(n)},oi.union=function(t,e){return oi.overlayOp(t,e,Ci.UNION)},oi.intersection=function(t,e){return oi.overlayOp(t,e,Ci.INTERSECTION)},oi.symDifference=function(t,e){return oi.overlayOp(t,e,Ci.SYMDIFFERENCE)},oi.difference=function(t,e){return oi.overlayOp(t,e,Ci.DIFFERENCE)};var si=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};si.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},si.prototype.interfaces_=function(){return[]},si.prototype.getClass=function(){return si};var ai=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=r,this._xValue=i,this._obj=o}},ui={INSERT:{configurable:!0},DELETE:{configurable:!0}};ai.prototype.isDelete=function(){return this._eventType===ai.DELETE},ai.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},ai.prototype.getObject=function(){return this._obj},ai.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},ai.prototype.getInsertEvent=function(){return this._insertEvent},ai.prototype.isInsert=function(){return this._eventType===ai.INSERT},ai.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},ai.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},ai.prototype.interfaces_=function(){return[x]},ai.prototype.getClass=function(){return ai},ui.INSERT.get=function(){return 1},ui.DELETE.get=function(){return 2},Object.defineProperties(ai,ui);var li=function(){};li.prototype.interfaces_=function(){return[]},li.prototype.getClass=function(){return li};var ci=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};ci.prototype.isTrivialIntersection=function(t,e,n,r){if(t===n&&1===this._li.getIntersectionNum()){if(ci.isAdjacentSegments(e,r))return!0;if(t.isClosed()){var i=t.getNumPoints()-1;if(0===e&&r===i||0===r&&e===i)return!0}}return!1},ci.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},ci.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},ci.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},ci.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next().getCoordinate();if(t.isIntersection(r))return!0}return!1},ci.prototype.hasProperIntersection=function(){return this._hasProper},ci.prototype.hasIntersection=function(){return this._hasIntersection},ci.prototype.isDone=function(){return this._isDone},ci.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},ci.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},ci.prototype.addIntersections=function(t,e,n,r){if(t===n&&e===r)return null;this.numTests++;var i=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[r],a=n.getCoordinates()[r+1];this._li.computeIntersection(i,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,r)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,r,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},ci.prototype.interfaces_=function(){return[]},ci.prototype.getClass=function(){return ci},ci.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var hi=function(t){function e(){t.call(this),this.events=new Et,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){$e.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof ci&&T(arguments[0],wt)&&T(arguments[1],wt)){var r=arguments[0],i=arguments[1],o=arguments[2];this.addEdges(r,r),this.addEdges(i,i),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&T(arguments[0],wt)&&arguments[1]instanceof ci){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),r=n.getStartIndexes(),i=0;i<r.length-1;i++){var o=new si(n,i),s=new ai(e,n.getMinX(i),o);this.events.add(s),this.events.add(new ai(n.getMaxX(i),s))}},e.prototype.processOverlaps=function(t,e,n,r){for(var i=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(i.computeIntersections(a,r),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[1],r=arguments[0].iterator();r.hasNext();){var i=r.next();this.addEdge(i,n)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(li),fi=function(){this._min=_.POSITIVE_INFINITY,this._max=_.NEGATIVE_INFINITY},pi={NodeComparator:{configurable:!0}};fi.prototype.getMin=function(){return this._min},fi.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},fi.prototype.getMax=function(){return this._max},fi.prototype.toString=function(){return Q.toLineString(new S(this._min,0),new S(this._max,0))},fi.prototype.interfaces_=function(){return[]},fi.prototype.getClass=function(){return fi},pi.NodeComparator.get=function(){return di},Object.defineProperties(fi,pi);var di=function(){};di.prototype.compare=function(t,e){var n=t,r=e,i=(n._min+n._max)/2,o=(r._min+r._max)/2;return i<o?-1:i>o?1:0},di.prototype.interfaces_=function(){return[E]},di.prototype.getClass=function(){return di};var yi=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],r=arguments[2];this._min=e,this._max=n,this._item=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fi),gi=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fi),mi=function(){this._leaves=new Et,this._root=null,this._level=0};mi.prototype.buildTree=function(){$e.sort(this._leaves,new fi.NodeComparator);for(var t=this._leaves,e=null,n=new Et;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},mi.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new yi(t,e,n))},mi.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},mi.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},mi.prototype.printNode=function(t){V.out.println(Q.toLineString(new S(t._min,this._level),new S(t._max,this._level)))},mi.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},mi.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var r=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(r);else{var i=new gi(t.get(n),t.get(n+1));e.add(i)}}},mi.prototype.interfaces_=function(){return[]},mi.prototype.getClass=function(){return mi};var vi=function(){this._items=new Et};vi.prototype.visitItem=function(t){this._items.add(t)},vi.prototype.getItems=function(){return this._items},vi.prototype.interfaces_=function(){return[Je]},vi.prototype.getClass=function(){return vi};var _i=function(){this._index=null;var t=arguments[0];if(!T(t,Qt))throw new v("Argument must be Polygonal");this._index=new wi(t)},bi={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};_i.prototype.locate=function(t){var e=new st(t),n=new xi(e);return this._index.query(t.y,t.y,n),e.getLocation()},_i.prototype.interfaces_=function(){return[zn]},_i.prototype.getClass=function(){return _i},bi.SegmentVisitor.get=function(){return xi},bi.IntervalIndexedGeometry.get=function(){return wi},Object.defineProperties(_i,bi);var xi=function(){this._counter=null;var t=arguments[0];this._counter=t};xi.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},xi.prototype.interfaces_=function(){return[Je]},xi.prototype.getClass=function(){return xi};var wi=function(){this._index=new mi;var t=arguments[0];this.init(t)};wi.prototype.init=function(t){for(var e=Sr.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},wi.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new yn(t[e-1],t[e]),r=Math.min(n.p0.y,n.p1.y),i=Math.max(n.p0.y,n.p1.y);this._index.insert(r,i,n)}},wi.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new vi;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2];this._index.query(r,i,o)}},wi.prototype.interfaces_=function(){return[]},wi.prototype.getClass=function(){return wi};var Ei=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new fe,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Pr,2===arguments.length){var e=arguments[0],n=arguments[1],r=dt.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=r,null!==n&&this.add(n)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=i,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var r=this._nodes.addNode(n).getLabel(),i=1;M.NONE,r.getLocation(t,Pe.ON)===M.BOUNDARY&&i++;var o=e.determineBoundary(this._boundaryNodeRule,i);r.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[1],r=arguments[2],i=new ci(arguments[0],!0,!1);i.setIsDoneIfProperInt(r);var o=this.createEdgeSetIntersector(),s=this._parentGeom instanceof ee||this._parentGeom instanceof $t||this._parentGeom instanceof ne,a=n||!s;return o.computeIntersections(this._edges,i,a),this.addSelfIntersectionNodes(this._argIndex),i}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var r=new ci(e,n,!0);return r.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,r),r},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Zt){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,M.INTERIOR)}else if(arguments[0]instanceof S){var e=arguments[0];this.insertPoint(this._argIndex,e,M.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),M.EXTERIOR,M.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,M.INTERIOR,M.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],M.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],M.BOUNDARY)},e.prototype.addLineString=function(t){var e=Ct.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new nr(e,new Ne(this._argIndex,M.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),et.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,r=t.iterator();r.hasNext();){var i=r.next();e[n++]=i.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===M.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var r=Ct.removeRepeatedPoints(t.getCoordinates());if(r.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=r[0],null;var i=e,o=n;at.isCCW(r)&&(i=n,o=e);var s=new nr(r,new Ne(this._argIndex,M.BOUNDARY,i,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,r[0],M.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var r=this._nodes.addNode(e),i=r.getLabel();null===i?r._label=new Ne(t,n):i.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new hi},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),r=n.getLabel().getLocation(t),i=n.eiList.iterator();i.hasNext();){var o=i.next();this.addSelfIntersectionNode(t,o.coord,r)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof ne&&(this._useBoundaryDeterminationRule=!1),e instanceof $t)this.addPolygon(e);else if(e instanceof Jt)this.addLineString(e);else if(e instanceof Zt)this.addPoint(e);else if(e instanceof te)this.addCollection(e);else if(e instanceof Ut)this.addCollection(e);else if(e instanceof ne)this.addCollection(e);else{if(!(e instanceof qt))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return T(this._parentGeom,Qt)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new _i(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?M.BOUNDARY:M.INTERIOR},e}(Ve),Si=function(){if(this._li=new it,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new Ei(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],r=dt.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ei(0,e,r),this._arg[1]=new Ei(1,n,r)}else if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];i.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new Ei(0,i,s),this._arg[1]=new Ei(1,o,s)}};Si.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},Si.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},Si.prototype.interfaces_=function(){return[]},Si.prototype.getClass=function(){return Si};var Pi=function(){};Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Pi.map=function(){if(arguments[0]instanceof ct&&T(arguments[1],Pi.MapOp)){for(var t=arguments[0],e=arguments[1],n=new Et,r=0;r<t.getNumGeometries();r++){var i=e.map(t.getGeometryN(r));null!==i&&n.add(i)}return t.getFactory().buildGeometry(n)}if(T(arguments[0],bt)&&T(arguments[1],Pi.MapOp)){for(var o=arguments[0],s=arguments[1],a=new Et,u=o.iterator();u.hasNext();){var l=u.next(),c=s.map(l);null!==c&&a.add(c)}return a}},Pi.MapOp=function(){};var Ci=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new Pr,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Hn,this._resultPolyList=new Et,this._resultLineList=new Et,this._resultPointList=new Et,this._graph=new Ve(new Xn),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),r=t.getLabel();e.isPointwiseEqual(t)||(r=new Ne(t.getLabel())).flip();var i=e.getDepth();i.isNull()&&i.add(n),i.add(r),n.merge(r)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,r,i){var o=new Et;return o.addAll(t),o.addAll(n),o.addAll(r),o.isEmpty()?e.createEmptyResult(i,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var r=n.next();if(this._ptLocator.locate(t,r)!==M.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new Et,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new Et;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Vr.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Xe(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var r=new Yr(this,this._geomFact,this._ptLocator);this._resultLineList=r.build(t);var i=new Hr(this,this._geomFact,this._ptLocator);this._resultPointList=i.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var r=n.next(),i=r.getLabel();i.isArea()&&!r.isInteriorAreaEdge()&&e.isResultOfOp(i.getLocation(0,Pe.RIGHT),i.getLocation(1,Pe.RIGHT),t)&&r.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),r=e.getDepth();if(!r.isNull()){r.normalize();for(var i=0;i<2;i++)n.isNull(i)||!n.isArea()||r.isNull(i)||(0===r.getDelta(i)?n.toLine(i):(et.isTrue(!r.isNull(i,Pe.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(i,Pe.LEFT,r.getLocation(i,Pe.LEFT)),et.isTrue(!r.isNull(i,Pe.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(i,Pe.RIGHT,r.getLocation(i,Pe.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Si);Ci.overlayOp=function(t,e,n){return new Ci(t,e).getResultGeometry(n)},Ci.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return Ci.createEmptyResult(Ci.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Xr.map(t,{interfaces_:function(){return[Pi.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.INTERSECTION)},Ci.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ci.createEmptyResult(Ci.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.SYMDIFFERENCE)},Ci.resultDimension=function(t,e,n){var r=e.getDimension(),i=n.getDimension(),o=-1;switch(t){case Ci.INTERSECTION:o=Math.min(r,i);break;case Ci.UNION:o=Math.max(r,i);break;case Ci.DIFFERENCE:o=r;break;case Ci.SYMDIFFERENCE:o=Math.max(r,i)}return o},Ci.createEmptyResult=function(t,e,n,r){var i=null;switch(Ci.resultDimension(t,e,n)){case-1:i=r.createGeometryCollection(new Array(0).fill(null));break;case 0:i=r.createPoint();break;case 1:i=r.createLineString();break;case 2:i=r.createPolygon()}return i},Ci.difference=function(t,e){return t.isEmpty()?Ci.createEmptyResult(Ci.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.DIFFERENCE))},Ci.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),r=t.getLocation(1);return Ci.isResultOfOp(n,r,e)}if(3===arguments.length){var i=arguments[0],o=arguments[1],s=arguments[2];switch(i===M.BOUNDARY&&(i=M.INTERIOR),o===M.BOUNDARY&&(o=M.INTERIOR),s){case Ci.INTERSECTION:return i===M.INTERIOR&&o===M.INTERIOR;case Ci.UNION:return i===M.INTERIOR||o===M.INTERIOR;case Ci.DIFFERENCE:return i===M.INTERIOR&&o!==M.INTERIOR;case Ci.SYMDIFFERENCE:return i===M.INTERIOR&&o!==M.INTERIOR||i!==M.INTERIOR&&o===M.INTERIOR}return!1}},Ci.INTERSECTION=1,Ci.UNION=2,Ci.DIFFERENCE=3,Ci.SYMDIFFERENCE=4;var Ii=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Pr,this._seg=new yn;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};Ii.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),r=0;r<n.size()-1;r++)if(n.getCoordinate(r,this._seg.p0),n.getCoordinate(r+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},Ii.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?M.BOUNDARY:this._ptLocator.locate(t,this._g)},Ii.prototype.extractLinework=function(t){var e=new Mi;t.apply(e);var n=e.getLinework(),r=me.toLineStringArray(n);return t.getFactory().createMultiLineString(r)},Ii.prototype.interfaces_=function(){return[]},Ii.prototype.getClass=function(){return Ii};var Mi=function(){this._linework=null,this._linework=new Et};Mi.prototype.getLinework=function(){return this._linework},Mi.prototype.filter=function(t){if(t instanceof $t){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},Mi.prototype.interfaces_=function(){return[zt]},Mi.prototype.getClass=function(){return Mi};var Oi=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};Oi.prototype.extractPoints=function(t,e,n){for(var r=t.getCoordinates(),i=0;i<r.length-1;i++)this.computeOffsetPoints(r[i],r[i+1],e,n)},Oi.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},Oi.prototype.getPoints=function(t){for(var e=new Et,n=Sr.getLines(this._g).iterator();n.hasNext();){var r=n.next();this.extractPoints(r,t,e)}return e},Oi.prototype.computeOffsetPoints=function(t,e,n,r){var i=e.x-t.x,o=e.y-t.y,s=Math.sqrt(i*i+o*o),a=n*i/s,u=n*o/s,l=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new S(l-u,c+a);r.add(h)}if(this._doRight){var f=new S(l+u,c-a);r.add(f)}},Oi.prototype.interfaces_=function(){return[]},Oi.prototype.getClass=function(){return Oi};var Ti=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new Et;var e=arguments[0],n=arguments[1],r=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,r],this._locFinder=[new Ii(this._geom[0],this._boundaryDistanceTolerance),new Ii(this._geom[1],this._boundaryDistanceTolerance),new Ii(this._geom[2],this._boundaryDistanceTolerance)]},Li={TOLERANCE:{configurable:!0}};Ti.prototype.reportResult=function(t,e,n){V.out.println("Overlay result invalid - A:"+M.toLocationSymbol(e[0])+" B:"+M.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+M.toLocationSymbol(e[2]))},Ti.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},Ti.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var r=arguments[0],i=arguments[1];return this._location[0]=this._locFinder[0].getLocation(i),this._location[1]=this._locFinder[1].getLocation(i),this._location[2]=this._locFinder[2].getLocation(i),!!Ti.hasLocation(this._location,M.BOUNDARY)||this.isValidResult(r,this._location)}},Ti.prototype.addTestPts=function(t){var e=new Oi(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},Ti.prototype.isValidResult=function(t,e){var n=Ci.isResultOfOp(e[0],e[1],t),r=!(n^e[2]===M.INTERIOR);return r||this.reportResult(t,e,n),r},Ti.prototype.getInvalidLocation=function(){return this._invalidLocation},Ti.prototype.interfaces_=function(){return[]},Ti.prototype.getClass=function(){return Ti},Ti.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},Ti.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Kr.computeSizeBasedSnapTolerance(t),Kr.computeSizeBasedSnapTolerance(e))},Ti.isValid=function(t,e,n,r){return new Ti(t,e,r).isValid(n)},Li.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(Ti,Li);var Ni=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};Ni.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var r=t.getGeometryN(n);this._skipEmpty&&r.isEmpty()||e.add(r)}},Ni.prototype.combine=function(){for(var t=new Et,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},Ni.prototype.interfaces_=function(){return[]},Ni.prototype.getClass=function(){return Ni},Ni.combine=function(){if(1===arguments.length)return new Ni(arguments[0]).combine();if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Ni(Ni.createList(t,e)).combine()}if(3===arguments.length){var n=arguments[0],r=arguments[1],i=arguments[2];return new Ni(Ni.createList(n,r,i)).combine()}},Ni.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},Ni.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Et;return n.add(t),n.add(e),n}if(3===arguments.length){var r=arguments[0],i=arguments[1],o=arguments[2],s=new Et;return s.add(r),s.add(i),s.add(o),s}};var Ai=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new Et)},Ri={STRTREE_NODE_CAPACITY:{configurable:!0}};Ai.prototype.reduceToGeometries=function(t){for(var e=new Et,n=t.iterator();n.hasNext();){var r=n.next(),i=null;T(r,wt)?i=this.unionTree(r):r instanceof ct&&(i=r),e.add(i)}return e},Ai.prototype.extractByEnvelope=function(t,e,n){for(var r=new Et,i=0;i<e.getNumGeometries();i++){var o=e.getGeometryN(i);o.getEnvelopeInternal().intersects(t)?r.add(o):n.add(o)}return this._geomFactory.buildGeometry(r)},Ai.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),r=e.getEnvelopeInternal();if(!n.intersects(r))return Ni.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var i=n.intersection(r);return this.unionUsingEnvelopeIntersection(t,e,i)},Ai.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new sn(Ai.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var r=t.itemsTree();return this.unionTree(r)},Ai.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],r=arguments[2];if(r-n<=1){var i=Ai.getGeometry(e,n);return this.unionSafe(i,null)}if(r-n==2)return this.unionSafe(Ai.getGeometry(e,n),Ai.getGeometry(e,n+1));var o=Math.trunc((r+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,r);return this.unionSafe(s,a)}},Ai.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var r=n.next();e=null===e?r.copy():e.union(r)}return e},Ai.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},Ai.prototype.unionActual=function(t,e){return Ai.restrictToPolygons(t.union(e))},Ai.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},Ai.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var r=new Et,i=this.extractByEnvelope(n,t,r),o=this.extractByEnvelope(n,e,r),s=this.unionActual(i,o);return r.add(s),Ni.combine(r)},Ai.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},Ai.prototype.interfaces_=function(){return[]},Ai.prototype.getClass=function(){return Ai},Ai.restrictToPolygons=function(t){if(T(t,Qt))return t;var e=Er.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(me.toPolygonArray(e))},Ai.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Ai.union=function(t){return new Ai(t).union()},Ri.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Ai,Ri);var Di=function(){};Di.prototype.interfaces_=function(){return[]},Di.prototype.getClass=function(){return Di},Di.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return Ci.createEmptyResult(Ci.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,Ci.UNION)},t.GeoJSONReader=Ee,t.GeoJSONWriter=Se,t.OverlayOp=Ci,t.UnionOp=Di,t.BufferOp=yr,Object.defineProperty(t,"__esModule",{value:!0})}(e)},2744:(t,e,n)=>{t.exports.VectorTile=n(7006),n(2439),n(9740)},7006:(t,e,n)=>{"use strict";var r=n(9740);function i(t,e,n){if(3===t){var i=new r(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}t.exports=function(t,e){this.layers=t.readFields(i,{},e)}},2439:(t,e,n)=>{"use strict";var r=n(3110);function i(t,e,n,r,i){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=r,this._values=i,t.readFields(o,this,e)}function o(t,e,n){1==t?e.id=n.readVarint():2==t?function(t,e){var n=t.readVarint()+t.pos;for(;t.pos<n;){var r=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[r]=i}}(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function s(t){for(var e,n,r=0,i=0,o=t.length,s=o-1;i<o;s=i++)e=t[i],r+=((n=t[s]).x-e.x)*(e.y+n.y);return r}t.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,o=0,s=0,a=0,u=[];t.pos<n;){if(!o){var l=t.readVarint();i=7&l,o=l>>3}if(o--,1===i||2===i)s+=t.readSVarint(),a+=t.readSVarint(),1===i&&(e&&u.push(e),e=[]),e.push(new r(s,a));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&u.push(e),u},i.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,r=0,i=0,o=0,s=1/0,a=-1/0,u=1/0,l=-1/0;t.pos<e;){if(!r){var c=t.readVarint();n=7&c,r=c>>3}if(r--,1===n||2===n)(i+=t.readSVarint())<s&&(s=i),i>a&&(a=i),(o+=t.readSVarint())<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[s,u,a,l]},i.prototype.toGeoJSON=function(t,e,n){var r,o,a=this.extent*Math.pow(2,n),u=this.extent*t,l=this.extent*e,c=this.loadGeometry(),h=i.types[this.type];function f(t){for(var e=0;e<t.length;e++){var n=t[e],r=180-360*(n.y+l)/a;t[e]=[360*(n.x+u)/a-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var p=[];for(r=0;r<c.length;r++)p[r]=c[r][0];f(c=p);break;case 2:for(r=0;r<c.length;r++)f(c[r]);break;case 3:for(c=function(t){var e=t.length;if(e<=1)return[t];for(var n,r,i=[],o=0;o<e;o++){var a=s(t[o]);0!==a&&(void 0===r&&(r=a<0),r===a<0?(n&&i.push(n),n=[t[o]]):n.push(t[o]))}n&&i.push(n);return i}(c),r=0;r<c.length;r++)for(o=0;o<c[r].length;o++)f(c[r][o])}1===c.length?c=c[0]:h="Multi"+h;var d={type:"Feature",geometry:{type:h,coordinates:c},properties:this.properties};return"id"in this&&(d.id=this.id),d}},9740:(t,e,n)=>{"use strict";var r=n(2439);function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(o,this,e),this.length=this._features.length}function o(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(function(t){var e=null,n=t.readVarint()+t.pos;for(;t.pos<n;){var r=t.readVarint()>>3;e=1===r?t.readString():2===r?t.readFloat():3===r?t.readDouble():4===r?t.readVarint64():5===r?t.readVarint():6===r?t.readSVarint():7===r?t.readBoolean():null}return e}(n))}t.exports=i,i.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,e,this.extent,this._keys,this._values)}}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={id:t,loaded:!1,exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.d=(t,e)=>{for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var __webpack_exports__=__webpack_require__(5579);return __webpack_exports__})()}));